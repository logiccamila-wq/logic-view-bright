import{r as l,s}from"./index-C8gJK6VO.js";function m(){const[u,t]=l.useState(!1),[i,o]=l.useState(null);return{calculateRoute:async(n,r,e="truck")=>{t(!0),o(null);try{const a=e==="truck"?"driving-hgv":"driving-car",{data:d,error:c}=await s.functions.invoke("calculate-route",{body:{start:{lat:n.lat,lng:n.lng},end:{lat:r.lat,lng:r.lng},profile:a}});if(c)throw new Error(c.message||"Erro ao calcular rota");return d}catch(a){return console.error("Erro ao calcular rota:",a),o(a instanceof Error?a.message:"Erro desconhecido"),null}finally{t(!1)}},geocode:async n=>{t(!0),o(null);try{const{data:r,error:e}=await s.functions.invoke("geocode-address",{body:{address:n}});if(e)throw new Error(e.message||"Erro ao buscar endereço");return r||(o("Endereço não encontrado"),null)}catch(r){return console.error("Erro ao buscar endereço:",r),o(r instanceof Error?r.message:"Erro desconhecido"),null}finally{t(!1)}},reverseGeocode:async(n,r)=>{t(!0),o(null);try{const{data:e,error:a}=await s.functions.invoke("geocode-address",{body:{lat:n,lng:r}});if(a)throw new Error(a.message||"Erro ao buscar localização");return e||(o("Localização não encontrada"),null)}catch(e){return console.error("Erro ao buscar localização:",e),o(e instanceof Error?e.message:"Erro desconhecido"),null}finally{t(!1)}},getTileUrl:(n="basic")=>"https://tile.openstreetmap.org/{z}/{x}/{y}.png",loading:u,error:i}}export{m as u};
