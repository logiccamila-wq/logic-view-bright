import{r,j as e,L as D,B as S,d as l,s as L}from"./index-C8gJK6VO.js";import{C as y,a as B,b as N,d as E}from"./card-XpOOVLWI.js";import{I as i}from"./input-D5Ccm-s1.js";import{V as G}from"./VehicleSelect-OQhGO8Zg.js";import{L as a}from"./label-C3geKGxC.js";import{T as U}from"./textarea-Oo1gIRGr.js";import{S as V}from"./switch-CM5BIiBp.js";import{S as I,a as k,b as z,c as R,d as f}from"./select-CgN7rKuh.js";import"./demoStore-BIsfGJR8.js";import"./index-XPvY48Nz.js";import"./Combination-BQvqHitJ.js";import"./index-C9UnwKLR.js";import"./chevron-down-ChCbnXTB.js";import"./check-CMTAF2ib.js";function Z(){const[s,n]=r.useState(""),[C,p]=r.useState(""),[d,m]=r.useState("entry"),[o,u]=r.useState(""),[h,g]=r.useState(""),[x,v]=r.useState(""),[c,w]=r.useState(!1),[j,A]=r.useState(!1),b=async()=>{if(!s){l.error("Informe a placa");return}A(!0);try{const{error:t}=await L.from("gate_events").insert({vehicle_plate:s,driver_name:C,direction:d,odometer:o?parseInt(o):null,reason:h,authorized_by:x,is_visitor:c});if(t)throw t;l.success("Evento registrado com sucesso"),n(""),p(""),m("entry"),u(""),g(""),v(""),w(!1)}catch(t){console.error(t),l.error((t==null?void 0:t.message)||"Erro ao registrar")}finally{A(!1)}};return e.jsx(D,{children:e.jsxs("div",{"trae-inspector-start-line":"63","trae-inspector-start-column":"6","trae-inspector-end-line":"152","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"64","trae-inspector-start-column":"8","trae-inspector-end-line":"67","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h1",{"trae-inspector-start-line":"65","trae-inspector-start-column":"10","trae-inspector-end-line":"65","trae-inspector-end-column":"58","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Portaria%22%2C%22textStartLine%22%3A%2265%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%2265%22%2C%22textEndColumn%22%3A%2253%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold",children:"Portaria"}),e.jsx("p",{"trae-inspector-start-line":"66","trae-inspector-start-column":"10","trae-inspector-end-line":"66","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Entrada%2FSa%C3%ADda%20de%20ve%C3%ADculos%20e%20custo%20operacional%22%2C%22textStartLine%22%3A%2266%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%2266%22%2C%22textEndColumn%22%3A%2292%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Entrada/Saída de veículos e custo operacional"})]}),e.jsxs(y,{children:[e.jsx(B,{children:e.jsx(N,{children:"Registro de Evento"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"73","trae-inspector-start-column":"12","trae-inspector-end-line":"76","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(V,{id:"visitor",checked:c,onCheckedChange:w}),e.jsx(a,{htmlFor:"visitor",children:"Visitante / Veículo Externo"})]}),e.jsxs("div",{"trae-inspector-start-line":"78","trae-inspector-start-column":"12","trae-inspector-end-line":"136","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"14","trae-inspector-end-line":"94","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(a,{children:"Placa do Veículo"}),c?e.jsx(i,{placeholder:"Digite a placa",value:s,onChange:t=>n(t.target.value.toUpperCase())}):e.jsx(G,{value:s,onChange:n,placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"96","trae-inspector-start-column":"14","trae-inspector-end-line":"107","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(a,{children:"Tipo de Movimento"}),e.jsxs(I,{value:d,onValueChange:t=>m(t),children:[e.jsx(k,{children:e.jsx(z,{})}),e.jsxs(R,{children:[e.jsx(f,{value:"entry",children:"Entrada"}),e.jsx(f,{value:"exit",children:"Saída"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"109","trae-inspector-start-column":"14","trae-inspector-end-line":"116","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(a,{children:"Motorista"}),e.jsx(i,{placeholder:"Nome do motorista",value:C,onChange:t=>p(t.target.value)})]}),e.jsxs("div",{"trae-inspector-start-line":"118","trae-inspector-start-column":"14","trae-inspector-end-line":"126","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(a,{children:"Hodômetro (km)"}),e.jsx(i,{type:"number",placeholder:"0",value:o,onChange:t=>u(t.target.value)})]}),e.jsxs("div",{"trae-inspector-start-line":"128","trae-inspector-start-column":"14","trae-inspector-end-line":"135","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(a,{children:"Quem Autorizou"}),e.jsx(i,{placeholder:"Nome do autorizador",value:x,onChange:t=>v(t.target.value)})]})]}),e.jsxs("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"12","trae-inspector-end-line":"145","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Gate.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(a,{children:"Motivo / Observações"}),e.jsx(U,{placeholder:"Motivo da entrada/saída",value:h,onChange:t=>g(t.target.value)})]}),e.jsx(S,{onClick:b,disabled:j,className:"w-full md:w-auto",children:j?"Registrando...":"Registrar Evento"})]})]})]})})}export{Z as default};
