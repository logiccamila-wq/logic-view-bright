import{r,d as a,j as e,L as N,B as n}from"./index-C8gJK6VO.js";import{I as p}from"./input-D5Ccm-s1.js";import{C as B,a as S,d as U}from"./card-XpOOVLWI.js";import{D as y,a as E,b as T,c as k,d as z}from"./dialog-KfbCdWZy.js";import{L as d}from"./label-C3geKGxC.js";import{T as O}from"./textarea-Oo1gIRGr.js";import{l as P,u as F,c as H,d as I}from"./centrosCusto-CChH3ibP.js";import{P as q}from"./plus-C4B_3Olf.js";import{S as R}from"./search-Da-3pudI.js";import{S as G}from"./square-pen-C6yFawho.js";import{T as J}from"./trash-2-DqbN6Ybf.js";import"./index-C9UnwKLR.js";import"./Combination-BQvqHitJ.js";function re(){const[g,h]=r.useState([]),[x,m]=r.useState(!0),[c,w]=r.useState(""),[v,i]=r.useState(!1),[C,u]=r.useState(null),[s,o]=r.useState({codigo:"",nome:"",descricao:"",status:"ativo"});r.useEffect(()=>{l()},[]);async function l(){try{m(!0);const t=await P();h(t)}catch(t){a.error("Erro ao carregar centros de custo"),console.error(t)}finally{m(!1)}}function f(t){u(t),o({codigo:t.codigo,nome:t.nome,descricao:t.descricao||"",status:t.status}),i(!0)}function j(){u(null),o({codigo:"",nome:"",descricao:"",status:"ativo"}),i(!0)}async function D(){try{C?(await F(C.id,s),a.success("Centro de custo atualizado")):(await H(s),a.success("Centro de custo criado")),i(!1),l()}catch(t){a.error(t.message||"Erro ao salvar centro de custo")}}async function A(t){if(confirm("Deseja realmente excluir este centro de custo?"))try{await I(t),a.success("Centro de custo excluído"),l()}catch(L){a.error(L.message||"Erro ao excluir centro de custo")}}const b=g.filter(t=>t.codigo.toLowerCase().includes(c.toLowerCase())||t.nome.toLowerCase().includes(c.toLowerCase()));return e.jsxs(N,{children:[e.jsxs("div",{"trae-inspector-start-line":"102","trae-inspector-start-column":"6","trae-inspector-end-line":"157","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"103","trae-inspector-start-column":"8","trae-inspector-end-line":"109","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsx("h1",{"trae-inspector-start-line":"104","trae-inspector-start-column":"10","trae-inspector-end-line":"104","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Centros%20de%20Custo%22%2C%22textStartLine%22%3A%22104%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22104%22%2C%22textEndColumn%22%3A%2261%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold",children:"Centros de Custo"}),e.jsxs(n,{onClick:j,children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Novo Centro de Custo"]})]}),e.jsxs(B,{children:[e.jsx(S,{children:e.jsxs("div",{"trae-inspector-start-line":"113","trae-inspector-start-column":"12","trae-inspector-end-line":"121","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(p,{placeholder:"Buscar por código ou nome...",value:c,onChange:t=>w(t.target.value),className:"max-w-sm"})]})}),e.jsx(U,{children:x?e.jsx("p",{"trae-inspector-start-line":"125","trae-inspector-start-column":"14","trae-inspector-end-line":"125","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22125%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22125%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center text-muted-foreground",children:"Carregando..."}):e.jsx("div",{"trae-inspector-start-line":"127","trae-inspector-start-column":"14","trae-inspector-end-line":"153","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:b.map(t=>e.jsxs("div",{"trae-inspector-start-line":"129","trae-inspector-start-column":"18","trae-inspector-end-line":"151","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"133","trae-inspector-start-column":"20","trae-inspector-end-line":"138","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("p",{"trae-inspector-start-line":"134","trae-inspector-start-column":"22","trae-inspector-end-line":"134","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:[t.codigo," - ",t.nome]}),t.descricao&&e.jsx("p",{"trae-inspector-start-line":"136","trae-inspector-start-column":"24","trae-inspector-end-line":"136","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:t.descricao})]}),e.jsxs("div",{"trae-inspector-start-line":"139","trae-inspector-start-column":"20","trae-inspector-end-line":"150","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>f(t),children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>A(t.id),children:e.jsx(J,{className:"h-4 w-4"})})]})]},t.id))})})]})]}),e.jsx(y,{open:v,onOpenChange:i,children:e.jsxs(E,{children:[e.jsx(T,{children:e.jsxs(k,{children:[C?"Editar":"Novo"," Centro de Custo"]})}),e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"10","trae-inspector-end-line":"191","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"167","trae-inspector-start-column":"12","trae-inspector-end-line":"174","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(d,{children:"Código"}),e.jsx(p,{value:s.codigo,onChange:t=>o({...s,codigo:t.target.value}),placeholder:"CC001"})]}),e.jsxs("div",{"trae-inspector-start-line":"175","trae-inspector-start-column":"12","trae-inspector-end-line":"182","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(d,{children:"Nome"}),e.jsx(p,{value:s.nome,onChange:t=>o({...s,nome:t.target.value}),placeholder:"Administrativo"})]}),e.jsxs("div",{"trae-inspector-start-line":"183","trae-inspector-start-column":"12","trae-inspector-end-line":"190","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\CentrosCusto.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(d,{children:"Descrição"}),e.jsx(O,{value:s.descricao,onChange:t=>o({...s,descricao:t.target.value}),placeholder:"Descrição do centro de custo"})]})]}),e.jsxs(z,{children:[e.jsx(n,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),e.jsx(n,{onClick:D,children:"Salvar"})]})]})})]})}export{re as default};
