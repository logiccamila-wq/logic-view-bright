{"version":3,"file":"IoT-BmjmV_wD.js","sources":["../../node_modules/lucide-react/dist/esm/icons/satellite.js","../../src/pages/IoT.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m13.5 6.5-3.148-3.148a1.205 1.205 0 0 0-1.704 0L6.352 5.648a1.205 1.205 0 0 0 0 1.704L9.5 10.5\",\n      key: \"dzhfyz\"\n    }\n  ],\n  [\"path\", { d: \"M16.5 7.5 19 5\", key: \"1ltcjm\" }],\n  [\n    \"path\",\n    {\n      d: \"m17.5 10.5 3.148 3.148a1.205 1.205 0 0 1 0 1.704l-2.296 2.296a1.205 1.205 0 0 1-1.704 0L13.5 14.5\",\n      key: \"nfoymv\"\n    }\n  ],\n  [\"path\", { d: \"M9 21a6 6 0 0 0-6-6\", key: \"1iajcf\" }],\n  [\n    \"path\",\n    {\n      d: \"M9.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l4.296-4.296a1.205 1.205 0 0 0 0-1.704l-2.296-2.296a1.205 1.205 0 0 0-1.704 0z\",\n      key: \"nv9zqy\"\n    }\n  ]\n];\nconst Satellite = createLucideIcon(\"satellite\", __iconNode);\n\nexport { __iconNode, Satellite as default };\n//# sourceMappingURL=satellite.js.map\n","import { Layout } from \"@/components/Layout\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { useEffect, useState } from \"react\";\nimport { Satellite, Activity, Truck } from \"lucide-react\";\n\ntype Event = { ts: string; type: string; vehicle?: string; value?: number };\n\nexport default function IoT() {\n  const [events, setEvents] = useState<Event[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const load = async () => {\n    setLoading(true); setError(\"\");\n    try {\n      const r = await fetch(\"/api/iot-feed\");\n      const js = await r.json();\n      setEvents(js.events || []);\n    } catch (e: any) {\n      setError(e?.message || 'Falha ao carregar IoT');\n    } finally { setLoading(false); }\n  };\n\n  useEffect(()=>{ load(); },[]);\n\n  return (\n    <Layout>\n      <div className=\"space-y-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">IoT & Telemetria</h1>\n          <p className=\"text-muted-foreground\">Eventos de sensores e rastreamento</p>\n        </div>\n        {error && <Card className=\"border-destructive\"><CardContent className=\"p-4 text-destructive\">{error}</CardContent></Card>}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <Card>\n            <CardHeader className=\"flex items-center gap-2\"><Satellite className=\"w-5 h-5\" /><CardTitle>Rastreamento</CardTitle></CardHeader>\n            <CardContent>GPS/GLONASS com eventos de rota</CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex items-center gap-2\"><Activity className=\"w-5 h-5\" /><CardTitle>Telemetria</CardTitle></CardHeader>\n            <CardContent>Velocidade, RPM, temperatura, pressão</CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex items-center gap-2\"><Truck className=\"w-5 h-5\" /><CardTitle>TPMS</CardTitle></CardHeader>\n            <CardContent>Pressão de pneus por veículo</CardContent>\n          </Card>\n        </div>\n        <Button onClick={load} disabled={loading}>Atualizar feed</Button>\n        <div className=\"grid gap-2\">\n          {events.map((e, idx) => (\n            <div key={idx} className=\"text-sm text-muted-foreground\">\n              {e.ts ? new Date(e.ts).toLocaleString('pt-BR') : '-'} — {e.type} — {e.vehicle || ''} {typeof e.value !== 'undefined' ? `(${e.value})` : ''}\n            </div>\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"names":["__iconNode","Satellite","createLucideIcon","IoT","events","setEvents","useState","loading","setLoading","error","setError","load","js","fetch","json","e","message","useEffect","Layout","jsxs","jsx","Card","CardContent","CardHeader","CardTitle","Activity","Truck","Button","map","idx","ts","Date","toLocaleString","type","vehicle","value"],"mappings":"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","x_google_ignoreList":[0]}