{"version":3,"file":"planoContas-DTMzEqO5.js","sources":["../../src/lib/db/planoContas.ts"],"sourcesContent":["import { supabase } from \"@/integrations/supabase/client\";\r\nimport type { PlanoContas } from \"@/types/financeiro\";\r\n\r\nexport async function listPlanoContas() {\r\n  const { data, error } = await supabase\r\n    .from(\"plano_contas\")\r\n    .select(\"*, centros_custo(*)\")\r\n    .order(\"codigo\");\r\n\r\n  if (error) throw error;\r\n  return data;\r\n}\r\n\r\nexport async function createPlanoContas(conta: Omit<PlanoContas, \"id\" | \"created_at\" | \"updated_at\">) {\r\n  const { data, error } = await supabase\r\n    .from(\"plano_contas\")\r\n    .insert([{\r\n      ...conta,\r\n      centro_custo_id: conta.centro_custo_id || null,\r\n      classe: conta.classe || null,\r\n      descricao: conta.descricao || null,\r\n    }])\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n  return data as PlanoContas;\r\n}\r\n\r\nexport async function updatePlanoContas(id: string, conta: Partial<PlanoContas>) {\r\n  const { data, error } = await supabase\r\n    .from(\"plano_contas\")\r\n    .update(conta)\r\n    .eq(\"id\", id)\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n  return data as PlanoContas;\r\n}\r\n\r\nexport async function deletePlanoContas(id: string) {\r\n  const { error } = await supabase\r\n    .from(\"plano_contas\")\r\n    .delete()\r\n    .eq(\"id\", id);\r\n\r\n  if (error) throw error;\r\n}\r\n"],"names":["listPlanoContas","data","error","supabase","from","select","order","createPlanoContas","conta","insert","centro_custo_id","classe","descricao","single","updatePlanoContas","id","update","eq","deletePlanoContas","delete"],"mappings":"wCAGA,eAAsBA,GAAkB,CACtC,KAAM,CAAEC,KAAAA,EAAMC,MAAAA,CAAAA,EAAU,MAAMC,EAC3BC,KAAK,cAAc,EACnBC,OAAO,qBAAqB,EAC5BC,MAAM,QAAQ,EAEjB,GAAIJ,EAAO,MAAMA,EACjB,OAAOD,CACT,CAEA,eAAsBM,EAAkBC,EAA8D,CACpG,KAAM,CAAEP,KAAAA,EAAMC,MAAAA,CAAAA,EAAU,MAAMC,EAC3BC,KAAK,cAAc,EACnBK,OAAO,CAAC,CACP,GAAGD,EACHE,gBAAiBF,EAAME,iBAAmB,KAC1CC,OAAQH,EAAMG,QAAU,KACxBC,UAAWJ,EAAMI,WAAa,IAAA,CAC/B,CAAC,EACDP,OAAAA,EACAQ,OAAAA,EAEH,GAAIX,EAAO,MAAMA,EACjB,OAAOD,CACT,CAEA,eAAsBa,EAAkBC,EAAYP,EAA6B,CAC/E,KAAM,CAAEP,KAAAA,EAAMC,MAAAA,CAAAA,EAAU,MAAMC,EAC3BC,KAAK,cAAc,EACnBY,OAAOR,CAAK,EACZS,GAAG,KAAMF,CAAE,EACXV,OAAAA,EACAQ,OAAAA,EAEH,GAAIX,EAAO,MAAMA,EACjB,OAAOD,CACT,CAEA,eAAsBiB,EAAkBH,EAAY,CAClD,KAAM,CAAEb,MAAAA,CAAAA,EAAU,MAAMC,EACrBC,KAAK,cAAc,EACnBe,SACAF,GAAG,KAAMF,CAAE,EAEd,GAAIb,EAAO,MAAMA,CACnB"}