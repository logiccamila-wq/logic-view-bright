{"version":3,"file":"Lancamentos-CiazeI1p.js","sources":["../../src/lib/db/lancamentos.ts","../../src/pages/Lancamentos.tsx"],"sourcesContent":["import { supabase } from \"@/integrations/supabase/client\";\r\nimport type { LancamentoFinanceiro } from \"@/types/financeiro\";\r\n\r\nexport async function listLancamentos(filters?: {\r\n  dataInicio?: string;\r\n  dataFim?: string;\r\n  tipo?: string;\r\n  planoContasId?: string;\r\n  centroCustoId?: string;\r\n}) {\r\n  let query = supabase\r\n    .from(\"lancamentos_financeiros\")\r\n    .select(\"*, plano_contas(*), centros_custo(*)\")\r\n    .order(\"data\", { ascending: false });\r\n\r\n  if (filters?.dataInicio) {\r\n    query = query.gte(\"data\", filters.dataInicio);\r\n  }\r\n  if (filters?.dataFim) {\r\n    query = query.lte(\"data\", filters.dataFim);\r\n  }\r\n  if (filters?.tipo) {\r\n    query = query.eq(\"tipo\", filters.tipo);\r\n  }\r\n  if (filters?.planoContasId) {\r\n    query = query.eq(\"plano_contas_id\", filters.planoContasId);\r\n  }\r\n  if (filters?.centroCustoId) {\r\n    query = query.eq(\"centro_custo_id\", filters.centroCustoId);\r\n  }\r\n\r\n  const { data, error } = await query;\r\n\r\n  if (error) throw error;\r\n  return data;\r\n}\r\n\r\nexport async function createLancamento(lancamento: Omit<LancamentoFinanceiro, \"id\" | \"created_at\">) {\r\n  const { data, error } = await supabase\r\n    .from(\"lancamentos_financeiros\")\r\n    .insert([{\r\n      ...lancamento,\r\n      plano_contas_id: lancamento.plano_contas_id || null,\r\n      centro_custo_id: lancamento.centro_custo_id || null,\r\n      vehicle_placa: lancamento.vehicle_placa || null,\r\n    }])\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n  return data as LancamentoFinanceiro;\r\n}\r\n\r\nexport async function updateLancamento(id: string, lancamento: Partial<LancamentoFinanceiro>) {\r\n  const { data, error } = await supabase\r\n    .from(\"lancamentos_financeiros\")\r\n    .update(lancamento)\r\n    .eq(\"id\", id)\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n  return data as LancamentoFinanceiro;\r\n}\r\n\r\nexport async function deleteLancamento(id: string) {\r\n  const { error } = await supabase\r\n    .from(\"lancamentos_financeiros\")\r\n    .delete()\r\n    .eq(\"id\", id);\r\n\r\n  if (error) throw error;\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Layout } from \"@/components/Layout\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Plus, Edit, Trash2, ArrowUpCircle, ArrowDownCircle, Truck } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { listLancamentos, createLancamento, updateLancamento, deleteLancamento } from \"@/lib/db/lancamentos\";\r\nimport { listPlanoContas } from \"@/lib/db/planoContas\";\r\nimport { listCentrosCusto } from \"@/lib/db/centrosCusto\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\n\r\nexport default function Lancamentos() {\r\n  const [lancamentos, setLancamentos] = useState<any[]>([]);\r\n  const [contas, setContas] = useState<any[]>([]);\r\n  const [centros, setCentros] = useState<any[]>([]);\r\n  const [vehicles, setVehicles] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [editingLanc, setEditingLanc] = useState<any | null>(null);\r\n  const [filters, setFilters] = useState({\r\n    dataInicio: \"\",\r\n    dataFim: \"\",\r\n    tipo: \"todos\",\r\n    planoContasId: \"todos\",\r\n    centroCustoId: \"todos\",\r\n    vehiclePlaca: \"todos\",\r\n  });\r\n  const [formData, setFormData] = useState({\r\n    data: new Date().toISOString().split(\"T\")[0],\r\n    descricao: \"\",\r\n    valor: 0,\r\n    tipo: \"saida\" as \"entrada\" | \"saida\",\r\n    plano_contas_id: \"nenhum\",\r\n    centro_custo_id: \"nenhum\",\r\n    vehicle_placa: \"nenhum\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n    // eslint-disable-next-line\r\n  }, [filters]);\r\n\r\n  async function loadData() {\r\n    try {\r\n      setLoading(true);\r\n      const lancFiltros = {\r\n        ...filters,\r\n        tipo: filters.tipo === \"todos\" ? \"\" : filters.tipo,\r\n        planoContasId: filters.planoContasId === \"todos\" ? \"\" : filters.planoContasId,\r\n        centroCustoId: filters.centroCustoId === \"todos\" ? \"\" : filters.centroCustoId,\r\n        vehiclePlaca: filters.vehiclePlaca === \"todos\" ? \"\" : filters.vehiclePlaca,\r\n      };\r\n      const [lancData, contasData, centrosData, vehiclesData] = await Promise.all([\r\n        listLancamentos(lancFiltros),\r\n        listPlanoContas(),\r\n        listCentrosCusto(),\r\n        supabase.from(\"vehicles\").select(\"*\").in(\"status\", [\"ativo\", \"Ativo\"]),\r\n      ]);\r\n      setLancamentos(lancData);\r\n      setContas(contasData);\r\n      setCentros(centrosData);\r\n      const mappedVehicles = (vehiclesData.data || [])\r\n        .map((v: any) => ({ placa: v.placa || v.plate, modelo: v.modelo || v.model || '' }))\r\n        .filter((v) => !!v.placa)\r\n        .sort((a, b) => a.placa.localeCompare(b.placa));\r\n      setVehicles(mappedVehicles);\r\n    } catch (error: any) {\r\n      toast.error(\"Erro ao carregar dados\");\r\n      console.error(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function handleEdit(lanc: any) {\r\n    setEditingLanc(lanc);\r\n    setFormData({\r\n      data: lanc.data,\r\n      descricao: lanc.descricao || \"\",\r\n      valor: lanc.valor,\r\n      tipo: lanc.tipo,\r\n      plano_contas_id: lanc.plano_contas_id || \"nenhum\",\r\n      centro_custo_id: lanc.centro_custo_id || \"nenhum\",\r\n      vehicle_placa: lanc.vehicle_placa || \"nenhum\",\r\n    });\r\n    setDialogOpen(true);\r\n  }\r\n\r\n  function handleNew() {\r\n    setEditingLanc(null);\r\n    setFormData({\r\n      data: new Date().toISOString().split(\"T\")[0],\r\n      descricao: \"\",\r\n      valor: 0,\r\n      tipo: \"saida\",\r\n      plano_contas_id: \"nenhum\",\r\n      centro_custo_id: \"nenhum\",\r\n      vehicle_placa: \"nenhum\",\r\n    });\r\n    setDialogOpen(true);\r\n  }\r\n\r\n  async function handleSubmit() {\r\n    try {\r\n      if (!formData.vehicle_placa || formData.vehicle_placa === \"nenhum\") {\r\n        toast.error(\"Selecione a placa!\");\r\n        return;\r\n      }\r\n      const dataToSave: any = {\r\n        ...formData,\r\n        plano_contas_id: formData.plano_contas_id === \"nenhum\" ? null : formData.plano_contas_id,\r\n        centro_custo_id: formData.centro_custo_id === \"nenhum\" ? null : formData.centro_custo_id,\r\n        vehicle_placa: formData.vehicle_placa === \"nenhum\" ? null : formData.vehicle_placa,\r\n      };\r\n      if (editingLanc) {\r\n        await updateLancamento(editingLanc.id, dataToSave);\r\n        toast.success(\"Lançamento atualizado\");\r\n      } else {\r\n        await createLancamento(dataToSave);\r\n        toast.success(\"Lançamento criado\");\r\n      }\r\n      setDialogOpen(false);\r\n      loadData();\r\n    } catch (error: any) {\r\n      toast.error(error.message || \"Erro ao salvar lançamento\");\r\n    }\r\n  }\r\n\r\n  async function handleDelete(id: string) {\r\n    if (!confirm(\"Deseja realmente excluir este lançamento?\")) return;\r\n    try {\r\n      await deleteLancamento(id);\r\n      toast.success(\"Lançamento excluído\");\r\n      loadData();\r\n    } catch (error: any) {\r\n      toast.error(error.message || \"Erro ao excluir lançamento\");\r\n    }\r\n  }\r\n\r\n  const formatCurrency = (value: number) =>\r\n    new Intl.NumberFormat(\"pt-BR\", { style: \"currency\", currency: \"BRL\" }).format(value);\r\n\r\n  const formatDate = (date: string) => new Date(date + \"T00:00:00\").toLocaleDateString(\"pt-BR\");\r\n\r\n  const totalEntradas = lancamentos.filter((l) => l.tipo === \"entrada\").reduce((sum, l) => sum + Number(l.valor), 0);\r\n  const totalSaidas = lancamentos.filter((l) => l.tipo === \"saida\").reduce((sum, l) => sum + Number(l.valor), 0);\r\n  const saldo = totalEntradas - totalSaidas;\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"space-y-6\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <h1 className=\"text-3xl font-bold\">Lançamentos Financeiros</h1>\r\n          <Button onClick={handleNew}>\r\n            <Plus className=\"mr-2 h-4 w-4\" />\r\n            Novo Lançamento\r\n          </Button>\r\n        </div>\r\n        <div className=\"grid grid-cols-3 gap-4\">\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm font-medium\">Entradas</span>\r\n                <ArrowUpCircle className=\"h-4 w-4 text-green-500\" />\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-2xl font-bold text-green-600\">{formatCurrency(totalEntradas)}</p>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm font-medium\">Saídas</span>\r\n                <ArrowDownCircle className=\"h-4 w-4 text-red-500\" />\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-2xl font-bold text-red-600\">{formatCurrency(totalSaidas)}</p>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <span className=\"text-sm font-medium\">Saldo</span>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className={`text-2xl font-bold ${saldo >= 0 ? \"text-green-600\" : \"text-red-600\"}`}>\r\n                {formatCurrency(saldo)}\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n        {/* Filtros */}\r\n        <Card>\r\n          <CardHeader>\r\n            <div className=\"grid grid-cols-6 gap-4\">\r\n              <div>\r\n                <Label>Data Início</Label>\r\n                <Input\r\n                  type=\"date\"\r\n                  value={filters.dataInicio}\r\n                  onChange={(e) => setFilters({ ...filters, dataInicio: e.target.value })}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label>Data Fim</Label>\r\n                <Input\r\n                  type=\"date\"\r\n                  value={filters.dataFim}\r\n                  onChange={(e) => setFilters({ ...filters, dataFim: e.target.value })}\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label>Tipo</Label>\r\n                <Select value={filters.tipo} onValueChange={(value) => setFilters({ ...filters, tipo: value })}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Todos\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"todos\">Todos</SelectItem>\r\n                    <SelectItem value=\"entrada\">Entrada</SelectItem>\r\n                    <SelectItem value=\"saida\">Saída</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div>\r\n                <Label>Conta</Label>\r\n                <Select\r\n                  value={filters.planoContasId}\r\n                  onValueChange={(value) => setFilters({ ...filters, planoContasId: value })}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Todas\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"todos\">Todas</SelectItem>\r\n                    {contas.map((c) => (\r\n                      <SelectItem key={c.id} value={c.id}>\r\n                        {c.codigo} - {c.nome}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div>\r\n                <Label>Centro de Custo</Label>\r\n                <Select\r\n                  value={filters.centroCustoId}\r\n                  onValueChange={(value) => setFilters({ ...filters, centroCustoId: value })}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Todos\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"todos\">Todos</SelectItem>\r\n                    {centros.map((c) => (\r\n                      <SelectItem key={c.id} value={c.id}>\r\n                        {c.codigo} - {c.nome}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div>\r\n                <Label>Placa</Label>\r\n                <Select\r\n                  value={filters.vehiclePlaca}\r\n                  onValueChange={(value) => setFilters({ ...filters, vehiclePlaca: value })}\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Todas placas\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"todos\">Todas</SelectItem>\r\n                    {vehicles.map((v) => (\r\n                      <SelectItem key={v.placa} value={v.placa}>\r\n                        {v.placa} - {v.modelo}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            {loading ? (\r\n              <p className=\"text-center text-muted-foreground\">Carregando...</p>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {lancamentos.map((lanc) => (\r\n                  <div key={lanc.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n                    <div className=\"flex items-center gap-4 flex-1\">\r\n                      {lanc.tipo === \"entrada\" ? (\r\n                        <ArrowUpCircle className=\"h-5 w-5 text-green-500\" />\r\n                      ) : (\r\n                        <ArrowDownCircle className=\"h-5 w-5 text-red-500\" />\r\n                      )}\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                          <p className=\"font-semibold\">{formatDate(lanc.data)}</p>\r\n                          <p>{lanc.descricao}</p>\r\n                          {lanc.vehicle_placa && (\r\n                            <span className=\"text-xs px-2 py-1 rounded bg-blue-500/10 text-blue-600 flex items-center gap-1\">\r\n                              <Truck className=\"h-3 w-3\" />\r\n                              {lanc.vehicle_placa}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex gap-4 text-sm text-muted-foreground\">\r\n                          {lanc.plano_contas && <span>{lanc.plano_contas.nome}</span>}\r\n                          {lanc.centros_custo && <span>Centro: {lanc.centros_custo.nome}</span>}\r\n                        </div>\r\n                      </div>\r\n                      <p className={`text-lg font-bold ${lanc.tipo === \"entrada\" ? \"text-green-600\" : \"text-red-600\"}`}>\r\n                        {formatCurrency(lanc.valor)}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex gap-2 ml-4\">\r\n                      <Button variant=\"outline\" size=\"sm\" onClick={() => handleEdit(lanc)}>\r\n                        <Edit className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button variant=\"outline\" size=\"sm\" onClick={() => handleDelete(lanc.id)}>\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\r\n        <DialogContent className=\"max-w-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>{editingLanc ? \"Editar\" : \"Novo\"} Lançamento</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"grid grid-cols-2 gap-4\">{/* ... (restante igual ao exemplo anterior) ... */}</div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setDialogOpen(false)}>\r\n              Cancelar\r\n            </Button>\r\n            <Button onClick={handleSubmit}>Salvar</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":["listLancamentos","filters","query","supabase","from","select","order","ascending","dataInicio","gte","dataFim","lte","tipo","eq","planoContasId","centroCustoId","data","error","createLancamento","lancamento","insert","plano_contas_id","centro_custo_id","vehicle_placa","single","updateLancamento","id","update","deleteLancamento","delete","Lancamentos","lancamentos","setLancamentos","useState","contas","setContas","centros","setCentros","vehicles","setVehicles","loading","setLoading","dialogOpen","setDialogOpen","editingLanc","setEditingLanc","setFilters","vehiclePlaca","formData","setFormData","Date","toISOString","split","descricao","valor","useEffect","loadData","lancFiltros","lancData","contasData","centrosData","vehiclesData","Promise","all","listPlanoContas","listCentrosCusto","in","mappedVehicles","map","v","placa","plate","modelo","model","filter","sort","a","b","localeCompare","toast","console","handleEdit","lanc","handleNew","handleSubmit","dataToSave","success","message","handleDelete","confirm","formatCurrency","value","Intl","NumberFormat","style","currency","format","formatDate","date","toLocaleDateString","totalEntradas","l","reduce","sum","Number","totalSaidas","saldo","Layout","jsxs","jsx","Button","Plus","Card","CardHeader","ArrowUpCircle","CardContent","ArrowDownCircle","Label","Input","e","target","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","c","codigo","nome","Truck","plano_contas","centros_custo","Edit","Trash2","Dialog","DialogContent","DialogHeader","DialogTitle","DialogFooter"],"mappings":"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"}