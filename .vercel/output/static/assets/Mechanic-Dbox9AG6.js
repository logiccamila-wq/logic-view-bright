import{c as W,a as $,r as x,s as _,j as e,B as L,d as f,W as pe,a4 as Se,P as ae,a5 as ye,a6 as Ue,a0 as ke,L as Me}from"./index-C8gJK6VO.js";import{T as je,a as Le,b as E,c as P}from"./tabs-C5DHGacV.js";import{C as y,a as J,b as G,d as F}from"./card-XpOOVLWI.js";import{I as T}from"./input-D5Ccm-s1.js";import{T as me}from"./textarea-Oo1gIRGr.js";import{S as O,a as q,b as R,c as V,d as S}from"./select-CgN7rKuh.js";import{B as k}from"./badge-CRfFogl7.js";import{D as K,f as ie,a as X,b as Q,c as Y,e as Ee,d as Pe}from"./dialog-KfbCdWZy.js";import{L as B}from"./label-C3geKGxC.js";import{d as Ie,a as Fe}from"./demoStore-BIsfGJR8.js";import{u as de,V as ee}from"./VehicleSelect-OQhGO8Zg.js";import{P as H}from"./plus-C4B_3Olf.js";import{t as M,c as Oe}from"./constructFrom-rJN6zrQ_.js";import{g as qe,e as Re,a as we,m as be,b as se}from"./en-US-B1CXRoBY.js";import{e as Ve}from"./endOfMonth-CoG5-XNs.js";import{C as oe}from"./circle-alert-CNjLJXF5.js";import{C as Z}from"./clock-Cc7nNxD7.js";import{C as te}from"./circle-check-big-CG-bN1l7.js";import{p as xe}from"./pt-BR-D61I4qyT.js";import{G as _e}from"./gauge-CqWppFxd.js";import{T as le}from"./triangle-alert-Bog7h-1T.js";import{S as ze}from"./search-Da-3pudI.js";import{C as We}from"./checkbox-D8iz3f-4.js";import{C as ge}from"./clipboard-check-BGjrGucE.js";import{C as Ce}from"./circle-C8clXpnP.js";import{C as Ne}from"./calendar-CGtyORkI.js";import{u as $e}from"./useQuery-CxHhq_Xn.js";import{u as Ae}from"./useMutation-C1zqyWbH.js";import{T as Je}from"./trash-2-DqbN6Ybf.js";import{S as Ge}from"./switch-CM5BIiBp.js";import{T as He,a as Ke}from"./TireApprovals-DeRo3_QC.js";import{u as Xe}from"./useTomTom-BR81LqCR.js";import{N as fe}from"./navigation-iGwyqmKK.js";import{L as De}from"./loader-circle-BUprINBZ.js";import{M as re}from"./map-pin-BVXVU51t.js";import{C as Qe}from"./circle-x-CIilYkTJ.js";import"./index-C9UnwKLR.js";import"./Combination-BQvqHitJ.js";import"./index-XPvY48Nz.js";import"./chevron-down-ChCbnXTB.js";import"./check-CMTAF2ib.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],he=W("arrow-right-left",Ye);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],et=W("clipboard-list",Ze);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],ne=W("droplet",tt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],at=W("list-checks",rt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],st=W("map",it);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],ct=W("package-plus",nt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],lt=W("test-tube",ot);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]],pt=W("thermometer-sun",Ct);function ce(c,b){const m=M(c),A=M(b),w=m.getTime()-A.getTime();return w<0?-1:w>0?1:w}function mt(c){return Oe(c,Date.now())}function dt(c,b){const m=M(c),A=M(b),w=m.getFullYear()-A.getFullYear(),h=m.getMonth()-A.getMonth();return w*12+h}function ht(c){return b=>{const A=(c?Math[c]:Math.trunc)(b);return A===0?0:A}}function ut(c,b){return+M(c)-+M(b)}function gt(c){const b=M(c);return b.setHours(23,59,59,999),b}function xt(c){const b=M(c);return+gt(b)==+Ve(b)}function vt(c,b){const m=M(c),A=M(b),w=ce(m,A),h=Math.abs(dt(m,A));let u;if(h<1)u=0;else{m.getMonth()===1&&m.getDate()>27&&m.setDate(30),m.setMonth(m.getMonth()-w*h);let C=ce(m,A)===-w;xt(M(c))&&h===1&&ce(c,A)===1&&(C=!1),u=w*(h-Number(C))}return u===0?0:u}function wt(c,b,m){const A=ut(c,b)/1e3;return ht(m==null?void 0:m.roundingMethod)(A)}function bt(c,b,m){const A=qe(),w=(m==null?void 0:m.locale)??A.locale??Re,h=2520,u=ce(c,b);if(isNaN(u))throw new RangeError("Invalid time value");const C=Object.assign({},m,{addSuffix:m==null?void 0:m.addSuffix,comparison:u});let D,j;u>0?(D=M(b),j=M(c)):(D=M(c),j=M(b));const v=wt(j,D),g=(we(j)-we(D))/1e3,i=Math.round((v-g)/60);let n;if(i<2)return m!=null&&m.includeSeconds?v<5?w.formatDistance("lessThanXSeconds",5,C):v<10?w.formatDistance("lessThanXSeconds",10,C):v<20?w.formatDistance("lessThanXSeconds",20,C):v<40?w.formatDistance("halfAMinute",0,C):v<60?w.formatDistance("lessThanXMinutes",1,C):w.formatDistance("xMinutes",1,C):i===0?w.formatDistance("lessThanXMinutes",1,C):w.formatDistance("xMinutes",i,C);if(i<45)return w.formatDistance("xMinutes",i,C);if(i<90)return w.formatDistance("aboutXHours",1,C);if(i<be){const l=Math.round(i/60);return w.formatDistance("aboutXHours",l,C)}else{if(i<h)return w.formatDistance("xDays",1,C);if(i<se){const l=Math.round(i/be);return w.formatDistance("xDays",l,C)}else if(i<se*2)return n=Math.round(i/se),w.formatDistance("aboutXMonths",n,C)}if(n=vt(j,D),n<12){const l=Math.round(i/se);return w.formatDistance("xMonths",l,C)}else{const l=n%12,o=Math.trunc(n/12);return l<3?w.formatDistance("aboutXYears",o,C):l<9?w.formatDistance("overXYears",o,C):w.formatDistance("almostXYears",o+1,C)}}function ve(c,b){return bt(c,mt(c),b)}function At(){const{user:c}=$(),[b,m]=x.useState([]);de();const[A,w]=x.useState(!0),[h,u]=x.useState(!1),[C,D]=x.useState(null),[j,v]=x.useState({vehicle_plate:"",vehicle_model:"",odometer:"",issue_description:"",priority:"media"}),g=async()=>{try{const{data:a,error:s}=await _.from("service_orders").select("*").order("created_at",{ascending:!1});if(s)throw s;m(a||[])}catch(a){console.error("Erro ao buscar ordens:",a);const s=Ie("service_orders");m(s)}finally{w(!1)}};x.useEffect(()=>{g();const a=_.channel("service_orders_changes").on("postgres_changes",{event:"*",schema:"public",table:"service_orders"},()=>{g()}).subscribe();return()=>{_.removeChannel(a)}},[]);const i=async a=>{a.preventDefault();try{const{error:s}=await _.from("service_orders").insert({...j,odometer:parseInt(j.odometer),created_by:c==null?void 0:c.id});if(s)throw s;f.success("Ordem de serviço criada com sucesso"),u(!1),v({vehicle_plate:"",vehicle_model:"",odometer:"",issue_description:"",priority:"media"})}catch(s){console.error("Erro ao criar ordem:",s);const r=Fe("service_orders",{...j,odometer:parseInt(j.odometer),status:"pendente",created_by:c==null?void 0:c.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});m(d=>[r,...d]),f.success("Ordem criada localmente"),u(!1)}},n=async(a,s)=>{try{const r={status:s};s==="em_andamento"&&!(C!=null&&C.mechanic_id)&&(r.mechanic_id=c==null?void 0:c.id),s==="concluida"&&(r.completed_at=new Date().toISOString());const{error:d}=await _.from("service_orders").update(r).eq("id",a);if(d)throw d;f.success("Status atualizado")}catch(r){console.error("Erro ao atualizar status:",r),m(d=>d.map(N=>N.id===a?{...N,status:s,mechanic_id:s==="em_andamento"?N.mechanic_id||(c==null?void 0:c.id):N.mechanic_id,completed_at:s==="concluida"?new Date().toISOString():N.completed_at,updated_at:new Date().toISOString()}:N)),f.success("Status atualizado localmente")}},l=a=>{switch(a){case"urgente":return"destructive";case"alta":return"destructive";case"media":return"secondary";default:return"outline"}},o=a=>{switch(a){case"concluida":return e.jsx(te,{className:"h-5 w-5 text-green-600"});case"em_andamento":return e.jsx(Z,{className:"h-5 w-5 text-blue-600"});case"aguardando_pecas":return e.jsx(oe,{className:"h-5 w-5 text-yellow-600"});default:return e.jsx(pe,{className:"h-5 w-5 text-muted-foreground"})}};return A?e.jsx("div",{"trae-inspector-start-line":"164","trae-inspector-start-column":"11","trae-inspector-end-line":"164","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22164%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22164%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"168","trae-inspector-start-column":"4","trae-inspector-end-line":"325","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"169","trae-inspector-start-column":"6","trae-inspector-end-line":"264","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"170","trae-inspector-start-column":"8","trae-inspector-end-line":"173","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"171","trae-inspector-start-column":"10","trae-inspector-end-line":"171","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ordens%20de%20Servi%C3%A7o%22%2C%22textStartLine%22%3A%22171%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22171%22%2C%22textEndColumn%22%3A%2262%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Ordens de Serviço"}),e.jsx("p",{"trae-inspector-start-line":"172","trae-inspector-start-column":"10","trae-inspector-end-line":"172","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gerencie%20as%20manuten%C3%A7%C3%B5es%20e%20reparos%20da%20frota%22%2C%22textStartLine%22%3A%22172%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22172%22%2C%22textEndColumn%22%3A%2289%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Gerencie as manutenções e reparos da frota"})]}),e.jsxs(K,{open:h,onOpenChange:u,children:[e.jsx(ie,{asChild:!0,children:e.jsxs(L,{children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Nova Ordem"]})}),e.jsxs(X,{className:"max-w-2xl",children:[e.jsx(Q,{children:e.jsx(Y,{children:"Criar Ordem de Serviço"})}),e.jsxs("form",{"trae-inspector-start-line":"186","trae-inspector-start-column":"12","trae-inspector-end-line":"261","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"14","trae-inspector-end-line":"215","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"188","trae-inspector-start-column":"16","trae-inspector-end-line":"204","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"vehicle_plate",children:"Placa do Veículo"}),e.jsx(ee,{value:j.vehicle_plate,onChange:a=>{v(s=>({...s,vehicle_plate:a}))},onSelectVehicle:a=>{v(s=>({...s,vehicle_plate:a.plate,vehicle_model:a.model||""}))},placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"205","trae-inspector-start-column":"16","trae-inspector-end-line":"214","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"vehicle_model",children:"Modelo"}),e.jsx(T,{id:"vehicle_model",value:j.vehicle_model,readOnly:!0,disabled:!0,className:"bg-muted"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"14","trae-inspector-end-line":"242","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"218","trae-inspector-start-column":"16","trae-inspector-end-line":"227","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"odometer",children:"KM Atual"}),e.jsx(T,{id:"odometer",type:"number",value:j.odometer,onChange:a=>v({...j,odometer:a.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"16","trae-inspector-end-line":"241","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"priority",children:"Prioridade"}),e.jsxs(O,{value:j.priority,onValueChange:a=>v({...j,priority:a}),children:[e.jsx(q,{children:e.jsx(R,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"baixa",children:"Baixa"}),e.jsx(S,{value:"media",children:"Média"}),e.jsx(S,{value:"alta",children:"Alta"}),e.jsx(S,{value:"urgente",children:"Urgente"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"244","trae-inspector-start-column":"14","trae-inspector-end-line":"253","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"issue_description",children:"Descrição do Problema"}),e.jsx(me,{id:"issue_description",value:j.issue_description,onChange:a=>v({...j,issue_description:a.target.value}),rows:4,required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"255","trae-inspector-start-column":"14","trae-inspector-end-line":"260","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(L,{type:"submit",children:"Criar Ordem"})]})]})]})]})]}),e.jsx("div",{"trae-inspector-start-line":"266","trae-inspector-start-column":"6","trae-inspector-end-line":"324","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:b.map(a=>{var s;return e.jsxs(y,{className:"p-6",children:[e.jsxs("div",{"trae-inspector-start-line":"269","trae-inspector-start-column":"12","trae-inspector-end-line":"290","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{"trae-inspector-start-line":"270","trae-inspector-start-column":"14","trae-inspector-end-line":"280","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[o(a.status),e.jsxs("div",{"trae-inspector-start-line":"272","trae-inspector-start-column":"16","trae-inspector-end-line":"279","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h3",{"trae-inspector-start-line":"273","trae-inspector-start-column":"18","trae-inspector-end-line":"275","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold text-lg",children:[a.vehicle_model," - ",a.vehicle_plate]}),e.jsxs("p",{"trae-inspector-start-line":"276","trae-inspector-start-column":"18","trae-inspector-end-line":"278","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[((s=a.odometer)==null?void 0:s.toLocaleString("pt-BR"))||"0"," km"]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"282","trae-inspector-start-column":"14","trae-inspector-end-line":"289","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(k,{variant:l(a.priority),children:a.priority}),e.jsx(k,{variant:"outline",children:a.status.replace("_"," ")})]})]}),e.jsx("p",{"trae-inspector-start-line":"292","trae-inspector-start-column":"12","trae-inspector-end-line":"292","trae-inspector-end-column":"69","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm mb-4",children:a.issue_description}),e.jsxs("div",{"trae-inspector-start-line":"294","trae-inspector-start-column":"12","trae-inspector-end-line":"321","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("span",{"trae-inspector-start-line":"295","trae-inspector-start-column":"14","trae-inspector-end-line":"297","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["Criada ",ve(new Date(a.created_at),{addSuffix:!0,locale:xe})]}),e.jsxs("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"14","trae-inspector-end-line":"320","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[a.status==="pendente"&&e.jsx(L,{size:"sm",onClick:()=>n(a.id,"em_andamento"),children:"Iniciar"}),a.status==="em_andamento"&&e.jsxs(e.Fragment,{children:[e.jsx(L,{size:"sm",variant:"outline",onClick:()=>n(a.id,"aguardando_pecas"),children:"Aguardar Peças"}),e.jsx(L,{size:"sm",onClick:()=>n(a.id,"concluida"),children:"Concluir"})]}),a.status==="aguardando_pecas"&&e.jsx(L,{size:"sm",onClick:()=>n(a.id,"em_andamento"),children:"Retomar"})]})]})]},a.id)})})]})}function ft(){const{user:c}=$(),[b,m]=x.useState([]),[A,w]=x.useState(!0),[h,u]=x.useState(!1),[C,D]=x.useState({vehicle_plate:"",tire_position:"",pressure_psi:"",temperature_celsius:"",tire_brand:"",tire_model:"",tread_depth_mm:"",notes:""}),j=["DE","DD","TED","TDD","TTD","TTE"],v=async()=>{try{const{data:o,error:a}=await _.from("tpms_readings").select("*").order("created_at",{ascending:!1}).limit(50);if(a)throw a;m(o||[])}catch(o){console.error("Erro ao buscar leituras:",o),f.error("Erro ao carregar leituras TPMS")}finally{w(!1)}};x.useEffect(()=>{v()},[]);const g=(o,a)=>o<80||a&&a<3?"vermelho":o<100||a&&a<5?"amarelo":"verde",i=async o=>{o.preventDefault();const a=parseFloat(C.pressure_psi),s=C.tread_depth_mm?parseFloat(C.tread_depth_mm):void 0;try{const{error:r}=await _.from("tpms_readings").insert({vehicle_plate:C.vehicle_plate,tire_position:C.tire_position,pressure_psi:a,temperature_celsius:C.temperature_celsius?parseFloat(C.temperature_celsius):null,tire_brand:C.tire_brand||null,tire_model:C.tire_model||null,tread_depth_mm:s||null,alert_level:g(a,s),notes:C.notes||null,recorded_by:c==null?void 0:c.id,last_calibration:new Date().toISOString()});if(r)throw r;f.success("Leitura TPMS registrada com sucesso"),u(!1),D({vehicle_plate:"",tire_position:"",pressure_psi:"",temperature_celsius:"",tire_brand:"",tire_model:"",tread_depth_mm:"",notes:""}),v()}catch(r){console.error("Erro ao criar leitura:",r),f.error("Erro ao registrar leitura")}},n=o=>{switch(o){case"vermelho":return"destructive";case"amarelo":return"secondary";default:return"outline"}},l=b.reduce((o,a)=>(o[a.vehicle_plate]||(o[a.vehicle_plate]=[]),o[a.vehicle_plate].push(a),o),{});return A?e.jsx("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"11","trae-inspector-end-line":"134","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22134%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22134%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"4","trae-inspector-end-line":"303","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"139","trae-inspector-start-column":"6","trae-inspector-end-line":"254","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"140","trae-inspector-start-column":"8","trae-inspector-end-line":"143","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"141","trae-inspector-start-column":"10","trae-inspector-end-line":"141","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Monitoramento%20TPMS%22%2C%22textStartLine%22%3A%22141%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22141%22%2C%22textEndColumn%22%3A%2263%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Monitoramento TPMS"}),e.jsx("p",{"trae-inspector-start-line":"142","trae-inspector-start-column":"10","trae-inspector-end-line":"142","trae-inspector-end-column":"109","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sistema%20de%20monitoramento%20de%20press%C3%A3o%20e%20temperatura%20de%20pneus%22%2C%22textStartLine%22%3A%22142%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22142%22%2C%22textEndColumn%22%3A%22105%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Sistema de monitoramento de pressão e temperatura de pneus"})]}),e.jsxs(K,{open:h,onOpenChange:u,children:[e.jsx(ie,{asChild:!0,children:e.jsxs(L,{children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Nova Leitura"]})}),e.jsxs(X,{className:"max-w-2xl",children:[e.jsx(Q,{children:e.jsx(Y,{children:"Registrar Leitura TPMS"})}),e.jsxs("form",{"trae-inspector-start-line":"156","trae-inspector-start-column":"12","trae-inspector-end-line":"251","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"14","trae-inspector-end-line":"181","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"158","trae-inspector-start-column":"16","trae-inspector-end-line":"165","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{children:"Placa do Veículo"}),e.jsx(ee,{value:C.vehicle_plate,onChange:o=>D({...C,vehicle_plate:o}),placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"16","trae-inspector-end-line":"180","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"tire_position",children:"Posição do Pneu"}),e.jsxs("select",{"trae-inspector-start-line":"168","trae-inspector-start-column":"18","trae-inspector-end-line":"179","trae-inspector-end-column":"27","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",id:"tire_position",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:C.tire_position,onChange:o=>D({...C,tire_position:o.target.value}),required:!0,children:[e.jsx("option",{"trae-inspector-start-line":"175","trae-inspector-start-column":"20","trae-inspector-end-line":"175","trae-inspector-end-column":"58","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Selecione...%22%2C%22textStartLine%22%3A%22175%22%2C%22textStartColumn%22%3A%2237%22%2C%22textEndLine%22%3A%22175%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",value:"",children:"Selecione..."}),j.map(o=>e.jsx("option",{"trae-inspector-start-line":"177","trae-inspector-start-column":"22","trae-inspector-end-line":"177","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",value:o,children:o},o))]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"183","trae-inspector-start-column":"14","trae-inspector-end-line":"215","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"184","trae-inspector-start-column":"16","trae-inspector-end-line":"194","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"pressure_psi",children:"Pressão (PSI)"}),e.jsx(T,{id:"pressure_psi",type:"number",step:"0.1",value:C.pressure_psi,onChange:o=>D({...C,pressure_psi:o.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"195","trae-inspector-start-column":"16","trae-inspector-end-line":"204","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"temperature_celsius",children:"Temperatura (°C)"}),e.jsx(T,{id:"temperature_celsius",type:"number",step:"0.1",value:C.temperature_celsius,onChange:o=>D({...C,temperature_celsius:o.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"205","trae-inspector-start-column":"16","trae-inspector-end-line":"214","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"tread_depth_mm",children:"Sulco (mm)"}),e.jsx(T,{id:"tread_depth_mm",type:"number",step:"0.1",value:C.tread_depth_mm,onChange:o=>D({...C,tread_depth_mm:o.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"14","trae-inspector-end-line":"234","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"218","trae-inspector-start-column":"16","trae-inspector-end-line":"225","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"tire_brand",children:"Marca do Pneu"}),e.jsx(T,{id:"tire_brand",value:C.tire_brand,onChange:o=>D({...C,tire_brand:o.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"226","trae-inspector-start-column":"16","trae-inspector-end-line":"233","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"tire_model",children:"Modelo"}),e.jsx(T,{id:"tire_model",value:C.tire_model,onChange:o=>D({...C,tire_model:o.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"236","trae-inspector-start-column":"14","trae-inspector-end-line":"243","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(B,{htmlFor:"notes",children:"Observações"}),e.jsx(T,{id:"notes",value:C.notes,onChange:o=>D({...C,notes:o.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"14","trae-inspector-end-line":"250","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),e.jsx(L,{type:"submit",children:"Registrar"})]})]})]})]})]}),e.jsx("div",{"trae-inspector-start-line":"256","trae-inspector-start-column":"6","trae-inspector-end-line":"302","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-6",children:Object.entries(l).map(([o,a])=>e.jsxs(y,{className:"p-6",children:[e.jsxs("h3",{"trae-inspector-start-line":"259","trae-inspector-start-column":"12","trae-inspector-end-line":"259","trae-inspector-end-column":"72","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold text-xl mb-4",children:["Veículo: ",o]}),e.jsx("div",{"trae-inspector-start-line":"261","trae-inspector-start-column":"12","trae-inspector-end-line":"299","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:a.slice(0,6).map(s=>e.jsxs("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"16","trae-inspector-end-line":"297","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"18","trae-inspector-end-line":"269","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx("span",{"trae-inspector-start-line":"265","trae-inspector-start-column":"20","trae-inspector-end-line":"265","trae-inspector-end-column":"82","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:s.tire_position}),e.jsx(k,{variant:n(s.alert_level),children:s.alert_level})]}),e.jsxs("div",{"trae-inspector-start-line":"271","trae-inspector-start-column":"18","trae-inspector-end-line":"290","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"272","trae-inspector-start-column":"20","trae-inspector-end-line":"275","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{"trae-inspector-start-line":"274","trae-inspector-start-column":"22","trae-inspector-end-line":"274","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[s.pressure_psi," PSI"]})]}),s.temperature_celsius&&e.jsxs("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"22","trae-inspector-end-line":"281","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{"trae-inspector-start-line":"280","trae-inspector-start-column":"24","trae-inspector-end-line":"280","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[s.temperature_celsius,"°C"]})]}),s.tread_depth_mm&&e.jsxs("div",{"trae-inspector-start-line":"285","trae-inspector-start-column":"22","trae-inspector-end-line":"288","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{"trae-inspector-start-line":"287","trae-inspector-start-column":"24","trae-inspector-end-line":"287","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[s.tread_depth_mm,"mm"]})]})]}),s.tire_brand&&e.jsxs("p",{"trae-inspector-start-line":"293","trae-inspector-start-column":"20","trae-inspector-end-line":"295","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground truncate",children:[s.tire_brand," ",s.tire_model]})]},s.id))})]},o))})]})}function Dt(){const[c,b]=x.useState([]),[m,A]=x.useState([]),[w,h]=x.useState(!0),[u,C]=x.useState(""),D=async()=>{try{const{data:i,error:n}=await _.from("workshop_inventory").select("*").order("part_name");if(n)throw n;b(i||[]),A(i||[])}catch(i){console.error("Erro ao buscar inventário:",i),f.error("Erro ao carregar inventário")}finally{h(!1)}};x.useEffect(()=>{D()},[]),x.useEffect(()=>{if(u){const i=c.filter(n=>n.part_name.toLowerCase().includes(u.toLowerCase())||n.part_code.toLowerCase().includes(u.toLowerCase())||n.category.toLowerCase().includes(u.toLowerCase()));A(i)}else A(c)},[u,c]);const j=c.filter(i=>i.quantity<=i.minimum_stock),v=c.reduce((i,n)=>i+n.quantity,0),g=c.reduce((i,n)=>i+n.quantity*(n.unit_price||0),0);return w?e.jsx("div",{"trae-inspector-start-line":"67","trae-inspector-start-column":"11","trae-inspector-end-line":"67","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%2267%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%2267%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"71","trae-inspector-start-column":"4","trae-inspector-end-line":"203","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"72","trae-inspector-start-column":"6","trae-inspector-end-line":"75","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"73","trae-inspector-start-column":"8","trae-inspector-end-line":"73","trae-inspector-end-column":"69","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Invent%C3%A1rio%20da%20Oficina%22%2C%22textStartLine%22%3A%2273%22%2C%22textStartColumn%22%3A%2243%22%2C%22textEndLine%22%3A%2273%22%2C%22textEndColumn%22%3A%2264%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Inventário da Oficina"}),e.jsx("p",{"trae-inspector-start-line":"74","trae-inspector-start-column":"8","trae-inspector-end-line":"74","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Controle%20de%20pe%C3%A7as%20e%20materiais%22%2C%22textStartLine%22%3A%2274%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%2274%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Controle de peças e materiais"})]}),e.jsxs("div",{"trae-inspector-start-line":"77","trae-inspector-start-column":"6","trae-inspector-end-line":"115","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(y,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"10","trae-inspector-end-line":"87","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"80","trae-inspector-start-column":"12","trae-inspector-end-line":"82","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-3 bg-primary/10 rounded-lg",children:e.jsx(ae,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"12","trae-inspector-end-line":"86","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"84","trae-inspector-start-column":"14","trae-inspector-end-line":"84","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Total%20de%20Itens%22%2C%22textStartLine%22%3A%2284%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%2284%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Total de Itens"}),e.jsx("p",{"trae-inspector-start-line":"85","trae-inspector-start-column":"14","trae-inspector-end-line":"85","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:v})]})]})}),e.jsx(y,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"10","trae-inspector-end-line":"99","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"92","trae-inspector-start-column":"12","trae-inspector-end-line":"94","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-3 bg-yellow-500/10 rounded-lg",children:e.jsx(le,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{"trae-inspector-start-line":"95","trae-inspector-start-column":"12","trae-inspector-end-line":"98","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"96","trae-inspector-start-column":"14","trae-inspector-end-line":"96","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Estoque%20Baixo%22%2C%22textStartLine%22%3A%2296%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%2296%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Estoque Baixo"}),e.jsx("p",{"trae-inspector-start-line":"97","trae-inspector-start-column":"14","trae-inspector-end-line":"97","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:j.length})]})]})}),e.jsx(y,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"103","trae-inspector-start-column":"10","trae-inspector-end-line":"113","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"12","trae-inspector-end-line":"106","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-3 bg-green-500/10 rounded-lg",children:e.jsx(ae,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"12","trae-inspector-end-line":"112","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"108","trae-inspector-start-column":"14","trae-inspector-end-line":"108","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Valor%20Total%22%2C%22textStartLine%22%3A%22108%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22108%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Valor Total"}),e.jsxs("p",{"trae-inspector-start-line":"109","trae-inspector-start-column":"14","trae-inspector-end-line":"111","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:["R$ ",g.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})]}),e.jsxs("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"6","trae-inspector-end-line":"125","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"relative",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(T,{placeholder:"Buscar por nome, código ou categoria...",value:u,onChange:i=>C(i.target.value),className:"pl-10"})]}),j.length>0&&e.jsxs(y,{className:"p-4 bg-yellow-50 border-yellow-200",children:[e.jsxs("div",{"trae-inspector-start-line":"129","trae-inspector-start-column":"10","trae-inspector-end-line":"132","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-2",children:[e.jsx(le,{className:"h-5 w-5 text-yellow-600"}),e.jsx("h3",{"trae-inspector-start-line":"131","trae-inspector-start-column":"12","trae-inspector-end-line":"131","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Itens%20com%20Estoque%20Baixo%22%2C%22textStartLine%22%3A%22131%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%22131%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-yellow-900",children:"Itens com Estoque Baixo"})]}),e.jsx("div",{"trae-inspector-start-line":"133","trae-inspector-start-column":"10","trae-inspector-end-line":"139","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:j.map(i=>e.jsxs("div",{"trae-inspector-start-line":"135","trae-inspector-start-column":"14","trae-inspector-end-line":"137","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-yellow-800",children:[i.part_name," - Estoque: ",i.quantity," (Mínimo: ",i.minimum_stock,")"]},i.id))})]}),e.jsx("div",{"trae-inspector-start-line":"143","trae-inspector-start-column":"6","trae-inspector-end-line":"193","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:m.map(i=>e.jsx(y,{className:"p-6",children:e.jsx("div",{"trae-inspector-start-line":"146","trae-inspector-start-column":"12","trae-inspector-end-line":"190","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between",children:e.jsxs("div",{"trae-inspector-start-line":"147","trae-inspector-start-column":"14","trae-inspector-end-line":"189","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"148","trae-inspector-start-column":"16","trae-inspector-end-line":"154","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{"trae-inspector-start-line":"149","trae-inspector-start-column":"18","trae-inspector-end-line":"149","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold text-lg",children:i.part_name}),e.jsx(k,{variant:"outline",children:i.category}),i.quantity<=i.minimum_stock&&e.jsx(k,{variant:"destructive",children:"Estoque Baixo"})]}),e.jsxs("div",{"trae-inspector-start-line":"156","trae-inspector-start-column":"16","trae-inspector-end-line":"182","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"18","trae-inspector-end-line":"160","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"158","trae-inspector-start-column":"20","trae-inspector-end-line":"158","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22C%C3%B3digo%22%2C%22textStartLine%22%3A%22158%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22158%22%2C%22textEndColumn%22%3A%2263%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Código"}),e.jsx("p",{"trae-inspector-start-line":"159","trae-inspector-start-column":"20","trae-inspector-end-line":"159","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:i.part_code})]}),e.jsxs("div",{"trae-inspector-start-line":"162","trae-inspector-start-column":"18","trae-inspector-end-line":"165","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"163","trae-inspector-start-column":"20","trae-inspector-end-line":"163","trae-inspector-end-column":"71","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Quantidade%22%2C%22textStartLine%22%3A%22163%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22163%22%2C%22textEndColumn%22%3A%2267%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Quantidade"}),e.jsxs("p",{"trae-inspector-start-line":"164","trae-inspector-start-column":"20","trae-inspector-end-line":"164","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:[i.quantity," unidades"]})]}),i.unit_price&&e.jsxs("div",{"trae-inspector-start-line":"168","trae-inspector-start-column":"20","trae-inspector-end-line":"173","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"169","trae-inspector-start-column":"22","trae-inspector-end-line":"169","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pre%C3%A7o%20Unit%C3%A1rio%22%2C%22textStartLine%22%3A%22169%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22169%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Preço Unitário"}),e.jsxs("p",{"trae-inspector-start-line":"170","trae-inspector-start-column":"22","trae-inspector-end-line":"172","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:["R$ ",i.unit_price.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),i.location&&e.jsxs("div",{"trae-inspector-start-line":"177","trae-inspector-start-column":"20","trae-inspector-end-line":"180","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"178","trae-inspector-start-column":"22","trae-inspector-end-line":"178","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Localiza%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22178%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22178%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Localização"}),e.jsx("p",{"trae-inspector-start-line":"179","trae-inspector-start-column":"22","trae-inspector-end-line":"179","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:i.location})]})]}),i.supplier&&e.jsxs("p",{"trae-inspector-start-line":"185","trae-inspector-start-column":"18","trae-inspector-end-line":"187","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mt-2",children:["Fornecedor: ",i.supplier]})]})})},i.id))}),m.length===0&&e.jsxs(y,{className:"p-12 text-center",children:[e.jsx(ae,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{"trae-inspector-start-line":"198","trae-inspector-start-column":"10","trae-inspector-end-line":"200","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:u?"Nenhum item encontrado com os critérios de busca":"Nenhum item no inventário"})]})]})}const jt=[{name:"Nível de óleo do motor",checked:!1},{name:"Nível de líquido de arrefecimento",checked:!1},{name:"Nível de fluido de freio",checked:!1},{name:"Estado das correias",checked:!1},{name:"Pressão dos pneus",checked:!1},{name:"Estado dos pneus (desgaste)",checked:!1},{name:"Funcionamento das luzes",checked:!1},{name:"Estado das palhetas do limpador",checked:!1},{name:"Freios (pastilhas e discos)",checked:!1},{name:"Suspensão",checked:!1},{name:"Bateria",checked:!1},{name:"Filtro de ar",checked:!1}],Lt=[{name:"Identificação do problema",checked:!1},{name:"Testes diagnósticos realizados",checked:!1},{name:"Peças substituídas documentadas",checked:!1},{name:"Sistema testado após reparo",checked:!1},{name:"Verificação de problemas relacionados",checked:!1},{name:"Limpeza da área de trabalho",checked:!1}];function _t(){const{user:c}=$(),[b,m]=x.useState([]),[A,w]=x.useState(!0),[h,u]=x.useState(null),[C,D]=x.useState(!1),[j,v]=x.useState("preventiva"),[g,i]=x.useState("");de();const n=r=>r.map((d,N)=>({id:globalThis.crypto&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`item-${N}-${Date.now()}`,name:d.name,checked:!1})),l=async()=>{try{const{data:r,error:d}=await _.from("maintenance_checklists").select("*").order("created_at",{ascending:!1});if(d)throw d;m(r||[])}catch(r){console.error("Erro ao buscar checklists:",r),f.error("Erro ao carregar checklists")}finally{w(!1)}};x.useEffect(()=>{l()},[]);const o=async()=>{if(!g){f.error("Informe a placa do veículo");return}const d=n(j==="preventiva"?jt:Lt);try{const{data:N,error:U}=await _.from("maintenance_checklists").insert({vehicle_plate:g.toUpperCase(),checklist_type:j,items:d,mechanic_id:c==null?void 0:c.id,status:"em_andamento"}).select().single();if(U)throw U;f.success("Checklist criado com sucesso"),u(N),D(!1),i(""),l()}catch(N){console.error("Erro ao criar checklist:",N),f.error("Erro ao criar checklist")}},a=async(r,d,N)=>{const U=b.find(p=>p.id===r);if(!U)return;const t=U.items.map(p=>p.id===d?{...p,checked:N}:p);try{const{error:p}=await _.from("maintenance_checklists").update({items:t}).eq("id",r);if(p)throw p;m(I=>I.map(z=>z.id===r?{...z,items:t}:z)),(h==null?void 0:h.id)===r&&u({...h,items:t})}catch(p){console.error("Erro ao atualizar item:",p),f.error("Erro ao atualizar item")}},s=async r=>{try{const{error:d}=await _.from("maintenance_checklists").update({status:"concluida",completed_at:new Date().toISOString()}).eq("id",r);if(d)throw d;f.success("Checklist concluído"),u(null),l()}catch(d){console.error("Erro ao concluir checklist:",d),f.error("Erro ao concluir checklist")}};return A?e.jsx("div",{"trae-inspector-start-line":"188","trae-inspector-start-column":"11","trae-inspector-end-line":"188","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22188%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22188%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"192","trae-inspector-start-column":"4","trae-inspector-end-line":"332","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"6","trae-inspector-end-line":"209","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"8","trae-inspector-end-line":"197","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"195","trae-inspector-start-column":"10","trae-inspector-end-line":"195","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Checklists%20de%20Manuten%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22195%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22195%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Checklists de Manutenção"}),e.jsx("p",{"trae-inspector-start-line":"196","trae-inspector-start-column":"10","trae-inspector-end-line":"196","trae-inspector-end-column":"95","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gest%C3%A3o%20de%20inspe%C3%A7%C3%B5es%20preventivas%20e%20corretivas%22%2C%22textStartLine%22%3A%22196%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22196%22%2C%22textEndColumn%22%3A%2291%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Gestão de inspeções preventivas e corretivas"})]}),e.jsxs("div",{"trae-inspector-start-line":"199","trae-inspector-start-column":"8","trae-inspector-end-line":"208","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs(L,{onClick:()=>{v("preventiva"),D(!0)},children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Manutenção Preventiva"]}),e.jsxs(L,{variant:"outline",onClick:()=>{v("corretiva"),D(!0)},children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Manutenção Corretiva"]})]})]}),e.jsx(K,{open:C,onOpenChange:D,children:e.jsxs(X,{children:[e.jsxs(Q,{children:[e.jsx(Y,{children:"Novo Checklist de Manutenção"}),e.jsx(Ee,{children:"Informe a placa do veículo e confirme a criação."})]}),e.jsxs("div",{"trae-inspector-start-line":"219","trae-inspector-start-column":"10","trae-inspector-end-line":"234","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4 py-2",children:[e.jsxs("div",{"trae-inspector-start-line":"220","trae-inspector-start-column":"12","trae-inspector-end-line":"227","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-2",children:[e.jsx(B,{htmlFor:"vehicle_plate",children:"Placa do veículo"}),e.jsx(ee,{value:g,onChange:i,placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"12","trae-inspector-end-line":"233","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-2",children:[e.jsx(B,{children:"Tipo"}),e.jsx("div",{"trae-inspector-start-line":"230","trae-inspector-start-column":"14","trae-inspector-end-line":"232","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:j==="preventiva"?"Manutenção Preventiva":"Manutenção Corretiva"})]})]}),e.jsxs(Pe,{children:[e.jsx(L,{variant:"outline",onClick:()=>D(!1),children:"Cancelar"}),e.jsx(L,{onClick:o,children:"Criar Checklist"})]})]})}),h&&e.jsxs(y,{className:"p-6 border-2 border-primary",children:[e.jsxs("div",{"trae-inspector-start-line":"244","trae-inspector-start-column":"10","trae-inspector-end-line":"256","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"12","trae-inspector-end-line":"252","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h3",{"trae-inspector-start-line":"246","trae-inspector-start-column":"14","trae-inspector-end-line":"248","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xl font-bold",children:["Checklist Ativo - ",h.vehicle_plate]}),e.jsx(k,{variant:"secondary",className:"mt-2",children:h.checklist_type})]}),e.jsx(L,{onClick:()=>s(h.id),children:"Concluir Checklist"})]}),e.jsx("div",{"trae-inspector-start-line":"258","trae-inspector-start-column":"10","trae-inspector-end-line":"272","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:h.items.map(r=>e.jsxs("div",{"trae-inspector-start-line":"260","trae-inspector-start-column":"14","trae-inspector-end-line":"270","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-3 p-3 bg-muted/50 rounded-lg",children:[e.jsx(We,{checked:r.checked,onCheckedChange:d=>a(h.id,r.id,d)}),e.jsx("span",{"trae-inspector-start-line":"267","trae-inspector-start-column":"16","trae-inspector-end-line":"269","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:r.checked?"line-through text-muted-foreground":"",children:r.name})]},r.id))}),e.jsx("div",{"trae-inspector-start-line":"274","trae-inspector-start-column":"10","trae-inspector-end-line":"278","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-4 pt-4 border-t",children:e.jsxs("p",{"trae-inspector-start-line":"275","trae-inspector-start-column":"12","trae-inspector-end-line":"277","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:["Progresso: ",h.items.filter(r=>r.checked).length," / ",h.items.length," itens concluídos"]})})]}),e.jsx("div",{"trae-inspector-start-line":"282","trae-inspector-start-column":"6","trae-inspector-end-line":"307","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:b.filter(r=>r.status==="em_andamento"&&r.id!==(h==null?void 0:h.id)).map(r=>e.jsx(y,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"285","trae-inspector-start-column":"12","trae-inspector-end-line":"304","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"286","trae-inspector-start-column":"14","trae-inspector-end-line":"294","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsx(ge,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{"trae-inspector-start-line":"288","trae-inspector-start-column":"16","trae-inspector-end-line":"293","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h3",{"trae-inspector-start-line":"289","trae-inspector-start-column":"18","trae-inspector-end-line":"289","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold",children:["Veículo: ",r.vehicle_plate]}),e.jsx(k,{variant:"outline",className:"mt-1",children:r.checklist_type})]})]}),e.jsxs("div",{"trae-inspector-start-line":"296","trae-inspector-start-column":"14","trae-inspector-end-line":"303","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex flex-col items-end gap-2",children:[e.jsxs("p",{"trae-inspector-start-line":"297","trae-inspector-start-column":"16","trae-inspector-end-line":"299","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[r.items.filter(d=>d.checked).length," / ",r.items.length," concluídos"]}),e.jsx(L,{size:"sm",onClick:()=>u(r),children:"Continuar"})]})]})},r.id))}),b.filter(r=>r.status==="concluida").length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{"trae-inspector-start-line":"311","trae-inspector-start-column":"10","trae-inspector-end-line":"311","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Checklists%20Conclu%C3%ADdos%22%2C%22textStartLine%22%3A%22311%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22311%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mt-8",children:"Checklists Concluídos"}),e.jsx("div",{"trae-inspector-start-line":"312","trae-inspector-start-column":"10","trae-inspector-end-line":"329","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:b.filter(r=>r.status==="concluida").map(r=>e.jsx(y,{className:"p-6 opacity-70",children:e.jsxs("div",{"trae-inspector-start-line":"315","trae-inspector-start-column":"16","trae-inspector-end-line":"326","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsx(ge,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{"trae-inspector-start-line":"317","trae-inspector-start-column":"18","trae-inspector-end-line":"325","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h3",{"trae-inspector-start-line":"318","trae-inspector-start-column":"20","trae-inspector-end-line":"318","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold",children:["Veículo: ",r.vehicle_plate]}),e.jsxs("div",{"trae-inspector-start-line":"319","trae-inspector-start-column":"20","trae-inspector-end-line":"324","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 mt-1",children:[e.jsx(k,{variant:"outline",children:r.checklist_type}),e.jsx(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Concluído"})]})]})]})},r.id))})]})]})}const ue=[{value:"simples",label:"Simples",color:"bg-blue-500"},{value:"completa",label:"Completa",color:"bg-purple-500"},{value:"interna",label:"Interna",color:"bg-green-500"},{value:"externa",label:"Externa",color:"bg-yellow-500"},{value:"pesado",label:"Pesado",color:"bg-orange-500"},{value:"especial",label:"Especial",color:"bg-red-500"}];function Nt(){const{user:c}=$(),{vehicles:b}=de(),[m,A]=x.useState([]),[w,h]=x.useState(!0),[u,C]=x.useState(!1),[D,j]=x.useState(null),[v,g]=x.useState({vehicle_plate:"",tipo_lavagem:"simples",km:"",observacoes:"",valor:"",data_agendada:""}),i=async()=>{try{const{data:r,error:d}=await _.from("lavagens").select("*").order("created_at",{ascending:!1});if(d)throw d;A(r||[])}catch(r){console.error("Erro ao buscar lavagens:",r),f.error("Erro ao carregar lavagens")}finally{h(!1)}};x.useEffect(()=>{i();const r=_.channel("lavagens_changes").on("postgres_changes",{event:"*",schema:"public",table:"lavagens"},()=>{i()}).subscribe();return()=>{_.removeChannel(r)}},[]);const n=async r=>{r.preventDefault();try{const{error:d}=await _.from("lavagens").insert({...v,km:parseInt(v.km),valor:v.valor?parseFloat(v.valor):null,responsavel_id:c==null?void 0:c.id});if(d)throw d;f.success("Ordem de lavagem criada com sucesso"),C(!1),g({vehicle_plate:"",tipo_lavagem:"simples",km:"",observacoes:"",valor:"",data_agendada:""})}catch(d){console.error("Erro ao criar lavagem:",d),f.error("Erro ao criar ordem de lavagem")}},l=async(r,d)=>{try{const N={status:d};d==="em_andamento"&&(N.data_inicio=new Date().toISOString()),d==="concluida"&&(N.data_conclusao=new Date().toISOString());const{error:U}=await _.from("lavagens").update(N).eq("id",r);if(U)throw U;f.success("Status atualizado com sucesso")}catch(N){console.error("Erro ao atualizar status:",N),f.error("Erro ao atualizar status")}},o=r=>({agendada:"default",em_andamento:"secondary",concluida:"default",cancelada:"destructive"})[r]||"default",a=r=>r==="concluida"?te:r==="em_andamento"?ne:Z,s=r=>{var d;return((d=ue.find(N=>N.value===r))==null?void 0:d.color)||"bg-gray-500"};return w?e.jsx("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"11","trae-inspector-end-line":"171","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22171%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22171%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"175","trae-inspector-start-column":"4","trae-inspector-end-line":"363","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"176","trae-inspector-start-column":"6","trae-inspector-end-line":"284","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"177","trae-inspector-start-column":"8","trae-inspector-end-line":"180","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"178","trae-inspector-start-column":"10","trae-inspector-end-line":"178","trae-inspector-end-column":"59","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Lava-Jato%22%2C%22textStartLine%22%3A%22178%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22178%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Lava-Jato"}),e.jsx("p",{"trae-inspector-start-line":"179","trae-inspector-start-column":"10","trae-inspector-end-line":"179","trae-inspector-end-column":"87","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gerenciar%20ordens%20de%20lavagem%20da%20frota%22%2C%22textStartLine%22%3A%22179%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22179%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Gerenciar ordens de lavagem da frota"})]}),e.jsxs(K,{open:u,onOpenChange:C,children:[e.jsx(ie,{asChild:!0,children:e.jsxs(L,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Nova Lavagem"]})}),e.jsxs(X,{className:"max-w-2xl",children:[e.jsx(Q,{children:e.jsx(Y,{children:"Nova Ordem de Lavagem"})}),e.jsxs("form",{"trae-inspector-start-line":"192","trae-inspector-start-column":"12","trae-inspector-end-line":"281","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"14","trae-inspector-end-line":"228","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"16","trae-inspector-end-line":"209","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"vehicle_plate",children:"Placa do Veículo *"}),e.jsx(ee,{required:!0,value:v.vehicle_plate,onChange:r=>{const d=b.find(N=>N.plate===r);g({...v,vehicle_plate:r,km:d!=null&&d.mileage?String(d.mileage):v.km})},placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"210","trae-inspector-start-column":"16","trae-inspector-end-line":"227","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"tipo_lavagem",children:"Tipo de Lavagem"}),e.jsxs(O,{value:v.tipo_lavagem,onValueChange:r=>g({...v,tipo_lavagem:r}),children:[e.jsx(q,{children:e.jsx(R,{})}),e.jsx(V,{children:ue.map(r=>e.jsx(S,{value:r.value,children:r.label},r.value))})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"230","trae-inspector-start-column":"14","trae-inspector-end-line":"262","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"231","trae-inspector-start-column":"16","trae-inspector-end-line":"241","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"km",children:"Kilometragem"}),e.jsx(T,{id:"km",type:"number",value:v.km,onChange:r=>g({...v,km:r.target.value}),placeholder:"120000",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"242","trae-inspector-start-column":"16","trae-inspector-end-line":"252","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"valor",children:"Valor (R$)"}),e.jsx(T,{id:"valor",type:"number",step:"0.01",value:v.valor,onChange:r=>g({...v,valor:r.target.value}),placeholder:"150.00"})]}),e.jsxs("div",{"trae-inspector-start-line":"253","trae-inspector-start-column":"16","trae-inspector-end-line":"261","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"data_agendada",children:"Data Agendada"}),e.jsx(T,{id:"data_agendada",type:"datetime-local",value:v.data_agendada,onChange:r=>g({...v,data_agendada:r.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"14","trae-inspector-end-line":"273","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacoes",children:"Observações"}),e.jsx(me,{id:"observacoes",value:v.observacoes,onChange:r=>g({...v,observacoes:r.target.value}),placeholder:"Observações adicionais...",rows:3})]}),e.jsxs("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"14","trae-inspector-end-line":"280","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancelar"}),e.jsx(L,{type:"submit",children:"Criar Ordem"})]})]})]})]})]}),e.jsx("div",{"trae-inspector-start-line":"286","trae-inspector-start-column":"6","trae-inspector-end-line":"362","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:m.length===0?e.jsxs(y,{className:"p-8 text-center",children:[e.jsx(ne,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{"trae-inspector-start-line":"290","trae-inspector-start-column":"12","trae-inspector-end-line":"290","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20lavagem%20registrada%22%2C%22textStartLine%22%3A%22290%22%2C%22textStartColumn%22%3A%2255%22%2C%22textEndLine%22%3A%22290%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mb-2",children:"Nenhuma lavagem registrada"}),e.jsx("p",{"trae-inspector-start-line":"291","trae-inspector-start-column":"12","trae-inspector-end-line":"291","trae-inspector-end-column":"99","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Crie%20a%20primeira%20ordem%20de%20lavagem%20para%20come%C3%A7ar.%22%2C%22textStartLine%22%3A%22291%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22291%22%2C%22textEndColumn%22%3A%2295%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Crie a primeira ordem de lavagem para começar."})]}):m.map(r=>{var N;const d=a(r.status);return e.jsxs(y,{className:"p-6",children:[e.jsxs("div",{"trae-inspector-start-line":"298","trae-inspector-start-column":"16","trae-inspector-end-line":"314","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"18","trae-inspector-end-line":"309","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"300","trae-inspector-start-column":"20","trae-inspector-end-line":"302","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`w-12 h-12 rounded-full ${s(r.tipo_lavagem)} flex items-center justify-center`,children:e.jsx(ne,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{"trae-inspector-start-line":"303","trae-inspector-start-column":"20","trae-inspector-end-line":"308","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h3",{"trae-inspector-start-line":"304","trae-inspector-start-column":"22","trae-inspector-end-line":"304","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xl font-bold",children:r.vehicle_plate}),e.jsxs("p",{"trae-inspector-start-line":"305","trae-inspector-start-column":"22","trae-inspector-end-line":"307","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[(N=ue.find(U=>U.value===r.tipo_lavagem))==null?void 0:N.label," • ",r.km.toLocaleString()," km"]})]})]}),e.jsxs(k,{variant:o(r.status),children:[e.jsx(d,{className:"mr-1 h-3 w-3"}),r.status.replace("_"," ")]})]}),r.observacoes&&e.jsx("p",{"trae-inspector-start-line":"317","trae-inspector-start-column":"18","trae-inspector-end-line":"317","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mb-4",children:r.observacoes}),e.jsxs("div",{"trae-inspector-start-line":"320","trae-inspector-start-column":"16","trae-inspector-end-line":"327","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{"trae-inspector-start-line":"321","trae-inspector-start-column":"18","trae-inspector-end-line":"323","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:["Criado ",ve(new Date(r.created_at),{addSuffix:!0,locale:xe})]}),r.valor&&e.jsxs("span",{"trae-inspector-start-line":"325","trae-inspector-start-column":"20","trae-inspector-end-line":"325","trae-inspector-end-column":"88","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:["R$ ",r.valor.toFixed(2)]})]}),e.jsxs("div",{"trae-inspector-start-line":"329","trae-inspector-start-column":"16","trae-inspector-end-line":"357","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 mt-4",children:[r.status==="agendada"&&e.jsx(L,{variant:"outline",size:"sm",onClick:()=>l(r.id,"em_andamento"),children:"Iniciar"}),r.status==="em_andamento"&&e.jsx(L,{variant:"outline",size:"sm",onClick:()=>l(r.id,"concluida"),children:"Concluir"}),r.status!=="cancelada"&&r.status!=="concluida"&&e.jsx(L,{variant:"destructive",size:"sm",onClick:()=>l(r.id,"cancelada"),children:"Cancelar"})]})]},r.id)})})]})}const Bt=[{name:"Eixo Dianteiro",positions:["dianteiro_esquerdo","dianteiro_direito"]},{name:"Eixo Traseiro 1",positions:["traseiro_esquerdo_externo","traseiro_esquerdo_interno","traseiro_direito_externo","traseiro_direito_interno"]}];function Tt(){const[c,b]=x.useState(""),[m,A]=x.useState([]),[w,h]=x.useState(null),u=x.useMemo(()=>m.filter(g=>g.vehicle_plate===c),[m,c]),C=x.useMemo(()=>m.filter(g=>!g.vehicle_plate&&g.status==="estoque"),[m]),D=async()=>{const{data:g,error:i}=await _.from("pneus").select("id,codigo,marca,modelo,medida,status,vehicle_plate,posicao");if(i){console.error(i),f.error("Falha ao carregar pneus");return}A(g||[])};x.useEffect(()=>{D()},[]);const j=async g=>{if(!(!w||!c))try{const{error:i}=await _.from("pneus").update({status:"em_uso",vehicle_plate:c,posicao:g}).eq("id",w.id);if(i)throw i;f.success(`Pneu ${w.codigo} instalado em ${g}`),h(null),D()}catch(i){console.error(i),f.error("Não foi possível instalar o pneu")}},v=async g=>{try{const{error:i}=await _.from("pneus").update({status:"estoque",vehicle_plate:null,posicao:null}).eq("id",g.id);if(i)throw i;f.success(`Pneu ${g.codigo} removido`),D()}catch(i){console.error(i),f.error("Falha ao remover pneu")}};return e.jsxs("div",{"trae-inspector-start-line":"73","trae-inspector-start-column":"4","trae-inspector-end-line":"152","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"74","trae-inspector-start-column":"6","trae-inspector-end-line":"88","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsxs(O,{value:c,onValueChange:b,children:[e.jsx(q,{className:"w-64",children:e.jsx(R,{placeholder:"Selecione a placa"})}),e.jsx(V,{children:[...new Set(m.filter(g=>g.vehicle_plate).map(g=>g.vehicle_plate))].filter(Boolean).map(g=>e.jsx(S,{value:g,children:g},g))})]}),e.jsx(L,{variant:"modern",onClick:D,children:"Atualizar"})]}),e.jsx(y,{className:"p-4",children:e.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"8","trae-inspector-end-line":"150","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{"trae-inspector-start-line":"92","trae-inspector-start-column":"10","trae-inspector-end-line":"113","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:[e.jsx("h3",{"trae-inspector-start-line":"93","trae-inspector-start-column":"12","trae-inspector-end-line":"93","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Estoque%22%2C%22textStartLine%22%3A%2293%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%2293%22%2C%22textEndColumn%22%3A%2257%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:"Estoque"}),e.jsx("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"12","trae-inspector-end-line":"112","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-2",children:C.map(g=>e.jsx("div",{"trae-inspector-start-line":"96","trae-inspector-start-column":"16","trae-inspector-end-line":"110","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",draggable:!0,onDragStart:()=>h(g),className:"p-2 rounded-md border cursor-grab bg-background hover:bg-accent",title:`${g.codigo} • ${g.marca} ${g.modelo}`,children:e.jsxs("div",{"trae-inspector-start-line":"103","trae-inspector-start-column":"18","trae-inspector-end-line":"109","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"20","trae-inspector-end-line":"104","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-6 h-6 rounded-full bg-primary/20 border border-primary"}),e.jsxs("div",{"trae-inspector-start-line":"105","trae-inspector-start-column":"20","trae-inspector-end-line":"108","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs",children:[e.jsx("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"22","trae-inspector-end-line":"106","trae-inspector-end-column":"69","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:g.codigo}),e.jsx("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"22","trae-inspector-end-line":"107","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:g.medida})]})]})},g.id))})]}),e.jsxs("div",{"trae-inspector-start-line":"115","trae-inspector-start-column":"10","trae-inspector-end-line":"149","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"md:col-span-2 space-y-6",children:[e.jsx("h3",{"trae-inspector-start-line":"116","trae-inspector-start-column":"12","trae-inspector-end-line":"116","trae-inspector-end-column":"70","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Mapa%20do%20Ve%C3%ADculo%22%2C%22textStartLine%22%3A%22116%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%22116%22%2C%22textEndColumn%22%3A%2265%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:"Mapa do Veículo"}),Bt.map(g=>e.jsxs("div",{"trae-inspector-start-line":"118","trae-inspector-start-column":"14","trae-inspector-end-line":"147","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("div",{"trae-inspector-start-line":"119","trae-inspector-start-column":"16","trae-inspector-end-line":"119","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:g.name}),e.jsx("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"16","trae-inspector-end-line":"146","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:g.positions.map(i=>{const n=u.find(l=>l.posicao===i);return e.jsx("div",{"trae-inspector-start-line":"124","trae-inspector-start-column":"22","trae-inspector-end-line":"143","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onDragOver:l=>l.preventDefault(),onDrop:()=>j(i),className:"relative h-20 rounded-md border bg-muted/20 flex items-center justify-center",title:i.replace(/_/g," "),children:n?e.jsxs("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"26","trae-inspector-end-line":"141","trae-inspector-end-column":"32","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx("div",{"trae-inspector-start-line":"135","trae-inspector-start-column":"28","trae-inspector-end-line":"135","trae-inspector-end-column":"104","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-6 h-6 rounded-full bg-primary/20 border border-primary"}),e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"28","trae-inspector-end-line":"139","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs",children:[e.jsx("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"30","trae-inspector-end-line":"137","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:n.codigo}),e.jsx("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"30","trae-inspector-end-line":"138","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:n.medida})]}),e.jsx(L,{size:"sm",variant:"outline",onClick:()=>v(n),children:"Remover"})]}):e.jsx("div",{"trae-inspector-start-line":"132","trae-inspector-start-column":"26","trae-inspector-end-line":"132","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Soltar%20aqui%22%2C%22textStartLine%22%3A%22132%22%2C%22textStartColumn%22%3A%2273%22%2C%22textEndLine%22%3A%22132%22%2C%22textEndColumn%22%3A%2284%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Soltar aqui"})},i)})})]},g.name))]})]})})]})}const St=[{value:"dianteiro_esquerdo",label:"Dianteiro Esquerdo"},{value:"dianteiro_direito",label:"Dianteiro Direito"},{value:"traseiro_esquerdo_externo",label:"Traseiro Esq. Externo"},{value:"traseiro_esquerdo_interno",label:"Traseiro Esq. Interno"},{value:"traseiro_direito_externo",label:"Traseiro Dir. Externo"},{value:"traseiro_direito_interno",label:"Traseiro Dir. Interno"},{value:"step",label:"Step"},{value:"estepe",label:"Estepe"}];function yt(){const{user:c}=$(),[b,m]=x.useState([]),[A,w]=x.useState([]),[h,u]=x.useState(!0),[C,D]=x.useState(!1),[j,v]=x.useState(!1),{vehicles:g}=de(),[i,n]=x.useState({codigo:"",marca:"",modelo:"",medida:"",tipo:"novo",pressao_recomendada:"",fornecedor:"",valor_compra:""}),[l,o]=x.useState({pneu_id:"",tipo_movimentacao:"instalacao",vehicle_plate_destino:"",posicao_destino:"",km_veiculo:"",motivo:"",observacoes:""}),a=async()=>{try{const{data:t,error:p}=await _.from("pneus").select("*").order("created_at",{ascending:!1});if(p)throw p;m(t||[])}catch(t){console.error("Erro ao buscar pneus:",t),f.error("Erro ao carregar pneus")}finally{u(!1)}},s=async()=>{try{const{data:t,error:p}=await _.from("movimentacao_pneus").select("*").order("created_at",{ascending:!1}).limit(50);if(p)throw p;w(t||[])}catch(t){console.error("Erro ao buscar movimentações:",t)}};x.useEffect(()=>{a(),s();const t=_.channel("pneus_changes").on("postgres_changes",{event:"*",schema:"public",table:"pneus"},()=>{a()}).subscribe(),p=_.channel("movimentacao_changes").on("postgres_changes",{event:"*",schema:"public",table:"movimentacao_pneus"},()=>{s()}).subscribe();return()=>{_.removeChannel(t),_.removeChannel(p)}},[]);const r=async t=>{t.preventDefault();try{const{error:p}=await _.from("pneus").insert({...i,pressao_recomendada:i.pressao_recomendada?parseFloat(i.pressao_recomendada):null,valor_compra:i.valor_compra?parseFloat(i.valor_compra):null,data_compra:new Date().toISOString()});if(p)throw p;f.success("Pneu cadastrado com sucesso"),D(!1),n({codigo:"",marca:"",modelo:"",medida:"",tipo:"novo",pressao_recomendada:"",fornecedor:"",valor_compra:""})}catch(p){console.error("Erro ao cadastrar pneu:",p),f.error("Erro ao cadastrar pneu")}},d=async t=>{t.preventDefault();try{const{error:p}=await _.from("movimentacao_pneus").insert({...l,km_veiculo:l.km_veiculo?parseInt(l.km_veiculo):null,responsavel_id:c==null?void 0:c.id});if(p)throw p;l.tipo_movimentacao==="instalacao"&&await _.from("pneus").update({status:"em_uso",vehicle_plate:l.vehicle_plate_destino,posicao:l.posicao_destino,km_instalacao:parseInt(l.km_veiculo)}).eq("id",l.pneu_id),f.success("Movimentação registrada com sucesso"),v(!1),o({pneu_id:"",tipo_movimentacao:"instalacao",vehicle_plate_destino:"",posicao_destino:"",km_veiculo:"",motivo:"",observacoes:""})}catch(p){console.error("Erro ao registrar movimentação:",p),f.error("Erro ao registrar movimentação")}},N=t=>({estoque:"default",em_uso:"secondary",manutencao:"secondary",descarte:"destructive",recapagem:"default"})[t]||"default",U=t=>{const p=b.find(I=>I.id===t);return p?`${p.codigo} - ${p.marca}`:"Desconhecido"};return h?e.jsx("div",{"trae-inspector-start-line":"239","trae-inspector-start-column":"11","trae-inspector-end-line":"239","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22239%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22239%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"243","trae-inspector-start-column":"4","trae-inspector-end-line":"624","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"244","trae-inspector-start-column":"6","trae-inspector-end-line":"498","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"8","trae-inspector-end-line":"248","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"246","trae-inspector-start-column":"10","trae-inspector-end-line":"246","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Borracharia%22%2C%22textStartLine%22%3A%22246%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22246%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Borracharia"}),e.jsx("p",{"trae-inspector-start-line":"247","trae-inspector-start-column":"10","trae-inspector-end-line":"247","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gest%C3%A3o%20completa%20de%20pneus%20da%20frota%22%2C%22textStartLine%22%3A%22247%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22247%22%2C%22textEndColumn%22%3A%2280%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Gestão completa de pneus da frota"})]}),e.jsxs("div",{"trae-inspector-start-line":"249","trae-inspector-start-column":"8","trae-inspector-end-line":"497","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs(K,{open:C,onOpenChange:D,children:[e.jsx(ie,{asChild:!0,children:e.jsxs(L,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Novo Pneu"]})}),e.jsxs(X,{className:"max-w-2xl",children:[e.jsx(Q,{children:e.jsx(Y,{children:"Cadastrar Novo Pneu"})}),e.jsxs("form",{"trae-inspector-start-line":"261","trae-inspector-start-column":"14","trae-inspector-end-line":"364","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:r,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"262","trae-inspector-start-column":"16","trae-inspector-end-line":"289","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"18","trae-inspector-end-line":"272","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"codigo",children:"Código/Número"}),e.jsx(T,{id:"codigo",value:i.codigo,onChange:t=>n({...i,codigo:t.target.value}),placeholder:"PN-001",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"273","trae-inspector-start-column":"18","trae-inspector-end-line":"288","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"tipo",children:"Tipo"}),e.jsxs(O,{value:i.tipo,onValueChange:t=>n({...i,tipo:t}),children:[e.jsx(q,{children:e.jsx(R,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"novo",children:"Novo"}),e.jsx(S,{value:"recapado",children:"Recapado"}),e.jsx(S,{value:"usado",children:"Usado"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"291","trae-inspector-start-column":"16","trae-inspector-end-line":"322","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"18","trae-inspector-end-line":"301","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"marca",children:"Marca"}),e.jsx(T,{id:"marca",value:i.marca,onChange:t=>n({...i,marca:t.target.value}),placeholder:"Pirelli",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"302","trae-inspector-start-column":"18","trae-inspector-end-line":"311","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"modelo",children:"Modelo"}),e.jsx(T,{id:"modelo",value:i.modelo,onChange:t=>n({...i,modelo:t.target.value}),placeholder:"FH01",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"312","trae-inspector-start-column":"18","trae-inspector-end-line":"321","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"medida",children:"Medida"}),e.jsx(T,{id:"medida",value:i.medida,onChange:t=>n({...i,medida:t.target.value}),placeholder:"295/80R22.5",required:!0})]})]}),e.jsxs("div",{"trae-inspector-start-line":"324","trae-inspector-start-column":"16","trae-inspector-end-line":"356","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"325","trae-inspector-start-column":"18","trae-inspector-end-line":"335","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"pressao_recomendada",children:"Pressão (PSI)"}),e.jsx(T,{id:"pressao_recomendada",type:"number",step:"0.1",value:i.pressao_recomendada,onChange:t=>n({...i,pressao_recomendada:t.target.value}),placeholder:"120"})]}),e.jsxs("div",{"trae-inspector-start-line":"336","trae-inspector-start-column":"18","trae-inspector-end-line":"344","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"fornecedor",children:"Fornecedor"}),e.jsx(T,{id:"fornecedor",value:i.fornecedor,onChange:t=>n({...i,fornecedor:t.target.value}),placeholder:"Loja ABC"})]}),e.jsxs("div",{"trae-inspector-start-line":"345","trae-inspector-start-column":"18","trae-inspector-end-line":"355","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"valor_compra",children:"Valor (R$)"}),e.jsx(T,{id:"valor_compra",type:"number",step:"0.01",value:i.valor_compra,onChange:t=>n({...i,valor_compra:t.target.value}),placeholder:"1500.00"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"358","trae-inspector-start-column":"16","trae-inspector-end-line":"363","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>D(!1),children:"Cancelar"}),e.jsx(L,{type:"submit",children:"Cadastrar"})]})]})]})]}),e.jsxs(K,{open:j,onOpenChange:v,children:[e.jsx(ie,{asChild:!0,children:e.jsxs(L,{variant:"outline",children:[e.jsx(he,{className:"mr-2 h-4 w-4"}),"Movimentar"]})}),e.jsxs(X,{className:"max-w-2xl",children:[e.jsx(Q,{children:e.jsx(Y,{children:"Registrar Movimentação de Pneu"})}),e.jsxs("form",{"trae-inspector-start-line":"379","trae-inspector-start-column":"14","trae-inspector-end-line":"494","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"380","trae-inspector-start-column":"16","trae-inspector-end-line":"418","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"381","trae-inspector-start-column":"18","trae-inspector-end-line":"398","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"pneu_id",children:"Pneu"}),e.jsxs(O,{value:l.pneu_id,onValueChange:t=>o({...l,pneu_id:t}),children:[e.jsx(q,{children:e.jsx(R,{placeholder:"Selecione um pneu"})}),e.jsx(V,{children:b.filter(t=>t.status==="estoque").map(t=>e.jsxs(S,{value:t.id,children:[t.codigo," - ",t.marca," ",t.modelo]},t.id))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"399","trae-inspector-start-column":"18","trae-inspector-end-line":"417","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"tipo_movimentacao",children:"Tipo"}),e.jsxs(O,{value:l.tipo_movimentacao,onValueChange:t=>o({...l,tipo_movimentacao:t}),children:[e.jsx(q,{children:e.jsx(R,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"instalacao",children:"Instalação"}),e.jsx(S,{value:"remocao",children:"Remoção"}),e.jsx(S,{value:"rodizio",children:"Rodízio"}),e.jsx(S,{value:"recapagem",children:"Recapagem"}),e.jsx(S,{value:"conserto",children:"Conserto"}),e.jsx(S,{value:"descarte",children:"Descarte"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"420","trae-inspector-start-column":"16","trae-inspector-end-line":"464","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"421","trae-inspector-start-column":"18","trae-inspector-end-line":"435","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"vehicle_plate_destino",children:"Placa Veículo"}),e.jsx(ee,{value:l.vehicle_plate_destino,onChange:t=>{const p=g.find(I=>I.plate===t);o({...l,vehicle_plate_destino:t,km_veiculo:p!=null&&p.mileage?String(p.mileage):l.km_veiculo})},placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"436","trae-inspector-start-column":"18","trae-inspector-end-line":"453","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"posicao_destino",children:"Posição"}),e.jsxs(O,{value:l.posicao_destino,onValueChange:t=>o({...l,posicao_destino:t}),children:[e.jsx(q,{children:e.jsx(R,{placeholder:"Selecione"})}),e.jsx(V,{children:St.map(t=>e.jsx(S,{value:t.value,children:t.label},t.value))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"454","trae-inspector-start-column":"18","trae-inspector-end-line":"463","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"km_veiculo",children:"KM Veículo"}),e.jsx(T,{id:"km_veiculo",type:"number",value:l.km_veiculo,onChange:t=>o({...l,km_veiculo:t.target.value}),placeholder:"120000"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"466","trae-inspector-start-column":"16","trae-inspector-end-line":"475","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"motivo",children:"Motivo"}),e.jsx(T,{id:"motivo",value:l.motivo,onChange:t=>o({...l,motivo:t.target.value}),placeholder:"Desgaste, furo, manutenção preventiva...",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"477","trae-inspector-start-column":"16","trae-inspector-end-line":"486","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{htmlFor:"observacoes",children:"Observações"}),e.jsx(me,{id:"observacoes",value:l.observacoes,onChange:t=>o({...l,observacoes:t.target.value}),placeholder:"Informações adicionais...",rows:3})]}),e.jsxs("div",{"trae-inspector-start-line":"488","trae-inspector-start-column":"16","trae-inspector-end-line":"493","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),e.jsx(L,{type:"submit",children:"Registrar"})]})]})]})]})]})]}),e.jsxs(je,{defaultValue:"pneus",className:"space-y-6",children:[e.jsxs(Le,{children:[e.jsx(E,{value:"pneus",children:"Pneus"}),e.jsx(E,{value:"movimentacoes",children:"Movimentações"}),e.jsxs(E,{value:"planner",className:"flex items-center gap-2",children:[e.jsx(st,{className:"h-4 w-4"})," Mapa de Pneus"]})]}),e.jsx(P,{value:"pneus",className:"space-y-4",children:b.length===0?e.jsxs(y,{className:"p-8 text-center",children:[e.jsx(Ce,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{"trae-inspector-start-line":"511","trae-inspector-start-column":"14","trae-inspector-end-line":"511","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20pneu%20cadastrado%22%2C%22textStartLine%22%3A%22511%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22511%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mb-2",children:"Nenhum pneu cadastrado"}),e.jsx("p",{"trae-inspector-start-line":"512","trae-inspector-start-column":"14","trae-inspector-end-line":"512","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cadastre%20o%20primeiro%20pneu%20para%20come%C3%A7ar.%22%2C%22textStartLine%22%3A%22512%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22512%22%2C%22textEndColumn%22%3A%2289%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Cadastre o primeiro pneu para começar."})]}):e.jsx("div",{"trae-inspector-start-line":"515","trae-inspector-start-column":"12","trae-inspector-end-line":"578","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:b.map(t=>{var p;return e.jsxs(y,{className:"p-6",children:[e.jsxs("div",{"trae-inspector-start-line":"518","trae-inspector-start-column":"18","trae-inspector-end-line":"533","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{"trae-inspector-start-line":"519","trae-inspector-start-column":"20","trae-inspector-end-line":"529","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"520","trae-inspector-start-column":"22","trae-inspector-end-line":"522","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(Ce,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{"trae-inspector-start-line":"523","trae-inspector-start-column":"22","trae-inspector-end-line":"528","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h3",{"trae-inspector-start-line":"524","trae-inspector-start-column":"24","trae-inspector-end-line":"524","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xl font-bold",children:t.codigo}),e.jsxs("p",{"trae-inspector-start-line":"525","trae-inspector-start-column":"24","trae-inspector-end-line":"527","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[t.marca," ",t.modelo," • ",t.medida]})]})]}),e.jsx(k,{variant:N(t.status),children:t.status.replace("_"," ")})]}),e.jsxs("div",{"trae-inspector-start-line":"535","trae-inspector-start-column":"18","trae-inspector-end-line":"558","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"536","trae-inspector-start-column":"20","trae-inspector-end-line":"539","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"537","trae-inspector-start-column":"22","trae-inspector-end-line":"537","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tipo%3A%22%2C%22textStartLine%22%3A%22537%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22537%22%2C%22textEndColumn%22%3A%2267%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Tipo:"}),e.jsx("p",{"trae-inspector-start-line":"538","trae-inspector-start-column":"22","trae-inspector-end-line":"538","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:t.tipo})]}),t.vehicle_plate&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{"trae-inspector-start-line":"542","trae-inspector-start-column":"24","trae-inspector-end-line":"545","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"543","trae-inspector-start-column":"26","trae-inspector-end-line":"543","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%3A%22%2C%22textStartLine%22%3A%22543%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22543%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Veículo:"}),e.jsx("p",{"trae-inspector-start-line":"544","trae-inspector-start-column":"26","trae-inspector-end-line":"544","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:t.vehicle_plate})]}),e.jsxs("div",{"trae-inspector-start-line":"546","trae-inspector-start-column":"24","trae-inspector-end-line":"549","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"547","trae-inspector-start-column":"26","trae-inspector-end-line":"547","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Posi%C3%A7%C3%A3o%3A%22%2C%22textStartLine%22%3A%22547%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22547%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Posição:"}),e.jsx("p",{"trae-inspector-start-line":"548","trae-inspector-start-column":"26","trae-inspector-end-line":"548","trae-inspector-end-column":"92","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:(p=t.posicao)==null?void 0:p.replace("_"," ")})]})]}),t.km_atual&&e.jsxs("div",{"trae-inspector-start-line":"553","trae-inspector-start-column":"22","trae-inspector-end-line":"556","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"554","trae-inspector-start-column":"24","trae-inspector-end-line":"554","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22KM%20Rodado%3A%22%2C%22textStartLine%22%3A%22554%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22554%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"KM Rodado:"}),e.jsxs("p",{"trae-inspector-start-line":"555","trae-inspector-start-column":"24","trae-inspector-end-line":"555","trae-inspector-end-column":"124","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:[(t.km_atual-(t.km_instalacao||0)).toLocaleString()," km"]})]})]}),t.km_atual&&t.vida_util_km&&e.jsxs("div",{"trae-inspector-start-line":"561","trae-inspector-start-column":"20","trae-inspector-end-line":"574","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-4",children:[e.jsxs("div",{"trae-inspector-start-line":"562","trae-inspector-start-column":"22","trae-inspector-end-line":"565","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{"trae-inspector-start-line":"563","trae-inspector-start-column":"24","trae-inspector-end-line":"563","trae-inspector-end-column":"46","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Vida%20%C3%BAtil%22%2C%22textStartLine%22%3A%22563%22%2C%22textStartColumn%22%3A%2230%22%2C%22textEndLine%22%3A%22563%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Vida útil"}),e.jsxs("span",{"trae-inspector-start-line":"564","trae-inspector-start-column":"24","trae-inspector-end-line":"564","trae-inspector-end-column":"123","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[Math.round((t.km_atual-(t.km_instalacao||0))/t.vida_util_km*100),"%"]})]}),e.jsx("div",{"trae-inspector-start-line":"566","trae-inspector-start-column":"22","trae-inspector-end-line":"573","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-full bg-secondary h-2 rounded-full overflow-hidden",children:e.jsx("div",{"trae-inspector-start-line":"567","trae-inspector-start-column":"24","trae-inspector-end-line":"572","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"bg-primary h-full transition-all",style:{width:`${Math.min((t.km_atual-(t.km_instalacao||0))/t.vida_util_km*100,100)}%`}})})]})]},t.id)})})}),e.jsx(P,{value:"movimentacoes",className:"space-y-4",children:A.length===0?e.jsxs(y,{className:"p-8 text-center",children:[e.jsx(he,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{"trae-inspector-start-line":"586","trae-inspector-start-column":"14","trae-inspector-end-line":"586","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20movimenta%C3%A7%C3%A3o%20registrada%22%2C%22textStartLine%22%3A%22586%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22586%22%2C%22textEndColumn%22%3A%2288%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mb-2",children:"Nenhuma movimentação registrada"}),e.jsx("p",{"trae-inspector-start-line":"587","trae-inspector-start-column":"14","trae-inspector-end-line":"587","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Registre%20a%20primeira%20movimenta%C3%A7%C3%A3o%20de%20pneu.%22%2C%22textStartLine%22%3A%22587%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22587%22%2C%22textEndColumn%22%3A%2292%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Registre a primeira movimentação de pneu."})]}):A.map(t=>{var p;return e.jsx(y,{className:"p-4",children:e.jsxs("div",{"trae-inspector-start-line":"592","trae-inspector-start-column":"16","trae-inspector-end-line":"614","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"593","trae-inspector-start-column":"18","trae-inspector-end-line":"595","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:e.jsx(he,{className:"h-5 w-5"})}),e.jsxs("div",{"trae-inspector-start-line":"596","trae-inspector-start-column":"18","trae-inspector-end-line":"613","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"597","trae-inspector-start-column":"20","trae-inspector-end-line":"607","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{"trae-inspector-start-line":"598","trae-inspector-start-column":"22","trae-inspector-end-line":"603","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h4",{"trae-inspector-start-line":"599","trae-inspector-start-column":"24","trae-inspector-end-line":"599","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:U(t.pneu_id)}),e.jsxs("p",{"trae-inspector-start-line":"600","trae-inspector-start-column":"24","trae-inspector-end-line":"602","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[t.tipo_movimentacao.replace("_"," ")," • ",t.motivo]})]}),e.jsx("span",{"trae-inspector-start-line":"604","trae-inspector-start-column":"22","trae-inspector-end-line":"606","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:ve(new Date(t.created_at),{addSuffix:!0,locale:xe})})]}),t.vehicle_plate_destino&&e.jsxs("p",{"trae-inspector-start-line":"609","trae-inspector-start-column":"22","trae-inspector-end-line":"611","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:[e.jsx("strong",{"trae-inspector-start-line":"610","trae-inspector-start-column":"24","trae-inspector-end-line":"610","trae-inspector-end-column":"49","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%3A%22%2C%22textStartLine%22%3A%22610%22%2C%22textStartColumn%22%3A%2232%22%2C%22textEndLine%22%3A%22610%22%2C%22textEndColumn%22%3A%2240%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Veículo:"})," ",t.vehicle_plate_destino," • ",e.jsx("strong",{"trae-inspector-start-line":"610","trae-inspector-start-column":"80","trae-inspector-end-line":"610","trae-inspector-end-column":"105","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Posi%C3%A7%C3%A3o%3A%22%2C%22textStartLine%22%3A%22610%22%2C%22textStartColumn%22%3A%2288%22%2C%22textEndLine%22%3A%22610%22%2C%22textEndColumn%22%3A%2296%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Posição:"})," ",(p=t.posicao_destino)==null?void 0:p.replace("_"," ")]})]})]})},t.id)})}),e.jsx(P,{value:"planner",className:"space-y-4",children:e.jsx(Tt,{})})]})]})}const Ut=()=>{const[c,b]=x.useState([]),[m,A]=x.useState(!0),[w,h]=x.useState(""),{user:u}=$();x.useEffect(()=>{C()},[]);const C=async()=>{try{A(!0);const{data:n,error:l}=await _.from("service_orders").select("*").order("created_at",{ascending:!1});if(l)throw l;const o=new Map;n==null||n.forEach(s=>{const r=o.get(s.vehicle_plate)||[];o.set(s.vehicle_plate,[...r,s])});const a=[];for(const[s,r]of o.entries()){const d=Math.max(...r.map(p=>p.odometer)),N=ye(r.map(p=>({id:p.id,status:p.status,created_at:p.created_at||new Date().toISOString(),completed_at:p.completed_at,vehicle_plate:p.vehicle_plate,odometer:p.odometer,labor_hours:p.labor_hours||0,vehiclePlate:p.vehicle_plate,completedAt:p.completed_at,serviceType:p.status==="concluida"?"preventiva":"corretiva"})),d);let U="ok";const t=N.predictedKm-d;t<0?U="overdue":t<1e3||N.predictedDays<7?U="soon":(t<3e3||N.predictedDays<30)&&(U="scheduled"),a.push({plate:s,currentOdometer:d,predictedKm:N.predictedKm,predictedDays:N.predictedDays,confidence:N.confidence,maintenanceType:N.maintenanceType,status:U})}a.sort((s,r)=>{const d={overdue:0,soon:1,scheduled:2,ok:3};return d[s.status]-d[r.status]}),b(a)}catch(n){console.error("Erro ao carregar agendamentos:",n),f.error("Erro ao carregar agendamentos de manutenção")}finally{A(!1)}},D=async n=>{try{const{error:l}=await _.from("service_orders").insert({vehicle_plate:n.plate,vehicle_model:"N/A",odometer:n.currentOdometer,issue_description:`Manutenção preventiva agendada: ${n.maintenanceType}`,priority:n.status==="overdue"?"alta":n.status==="soon"?"media":"baixa",status:"pendente",estimated_completion:new Date(Date.now()+n.predictedDays*24*60*60*1e3).toISOString()});if(l)throw l;f.success("Ordem de serviço preventiva criada com sucesso!"),C()}catch(l){console.error("Erro ao criar OS:",l),f.error("Erro ao criar ordem de serviço")}},j=async n=>{var l;try{if(!u){f.error("Usuário não autenticado");return}const{error:o}=await _.from("parts_requests").insert({mechanic_id:u.id,mechanic_name:((l=u==null?void 0:u.user_metadata)==null?void 0:l.full_name)||u.email||"Mecânico",vehicle_plate:n.plate,parts_list:[],urgency:n.status==="overdue"?"alta":n.status==="soon"?"media":"normal",notes:`Pedido para preventiva: ${n.maintenanceType}. Definir itens com checklist/planos.`});if(o)throw o;f.success("Pedido de peças criado com sucesso!")}catch(o){console.error("Erro ao criar pedido de peças:",o),f.error("Erro ao criar pedido de peças")}},v=async n=>{var l;try{if(!u){f.error("Usuário não autenticado");return}const{error:o}=await _.from("parts_requests").insert({mechanic_id:u.id,mechanic_name:((l=u==null?void 0:u.user_metadata)==null?void 0:l.full_name)||u.email||"Mecânico",vehicle_plate:n.plate,parts_list:[],urgency:"normal",status:"cotacao",notes:`Cotação para preventiva: ${n.maintenanceType}. Solicitar preços e prazos.`});if(o)throw o;f.success("Solicitação de cotação criada!")}catch(o){console.error("Erro ao criar cotação:",o),f.error("Erro ao criar cotação")}},g=n=>{const o={overdue:{variant:"destructive",icon:le,label:"Atrasada"},soon:{variant:"default",icon:Z,label:"Urgente"},scheduled:{variant:"secondary",icon:Ne,label:"Próxima"},ok:{variant:"outline",icon:te,label:"Em dia"}}[n],a=o.icon;return e.jsxs(k,{variant:o.variant,className:"flex items-center gap-1",children:[e.jsx(a,{className:"h-3 w-3"}),o.label]})},i=c.filter(n=>n.plate.toLowerCase().includes(w.toLowerCase()));return m?e.jsx("div",{"trae-inspector-start-line":"207","trae-inspector-start-column":"11","trae-inspector-end-line":"207","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20agendamentos...%22%2C%22textStartLine%22%3A%22207%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22207%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando agendamentos..."}):e.jsxs("div",{"trae-inspector-start-line":"211","trae-inspector-start-column":"4","trae-inspector-end-line":"313","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"212","trae-inspector-start-column":"6","trae-inspector-end-line":"222","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"213","trae-inspector-start-column":"8","trae-inspector-end-line":"218","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"214","trae-inspector-start-column":"10","trae-inspector-end-line":"214","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Agendamento%20Inteligente%22%2C%22textStartLine%22%3A%22214%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22214%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Agendamento Inteligente"}),e.jsx("p",{"trae-inspector-start-line":"215","trae-inspector-start-column":"10","trae-inspector-end-line":"217","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Previs%C3%B5es%20autom%C3%A1ticas%20baseadas%20em%20KM%20e%20hist%C3%B3rico%20de%20manuten%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22215%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22217%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Previsões automáticas baseadas em KM e histórico de manutenções"})]}),e.jsx(L,{onClick:C,children:"Atualizar Previsões"})]}),e.jsx(T,{placeholder:"Buscar por placa...",value:w,onChange:n=>h(n.target.value),className:"max-w-sm"}),e.jsxs("div",{"trae-inspector-start-line":"231","trae-inspector-start-column":"6","trae-inspector-end-line":"312","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:[i.map(n=>{const l=n.predictedKm-n.currentOdometer;return e.jsxs(y,{children:[e.jsx(J,{children:e.jsxs("div",{"trae-inspector-start-line":"238","trae-inspector-start-column":"16","trae-inspector-end-line":"244","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),n.plate]}),g(n.status)]})}),e.jsxs(F,{children:[e.jsxs("div",{"trae-inspector-start-line":"247","trae-inspector-start-column":"16","trae-inspector-end-line":"281","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"248","trae-inspector-start-column":"18","trae-inspector-end-line":"253","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"249","trae-inspector-start-column":"20","trae-inspector-end-line":"249","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22KM%20Atual%22%2C%22textStartLine%22%3A%22249%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22249%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"KM Atual"}),e.jsxs("p",{"trae-inspector-start-line":"250","trae-inspector-start-column":"20","trae-inspector-end-line":"252","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:[n.currentOdometer.toLocaleString("pt-BR")," km"]})]}),e.jsxs("div",{"trae-inspector-start-line":"255","trae-inspector-start-column":"18","trae-inspector-end-line":"263","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"256","trae-inspector-start-column":"20","trae-inspector-end-line":"256","trae-inspector-end-column":"87","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pr%C3%B3xima%20Manuten%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22256%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22256%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Próxima Manutenção"}),e.jsxs("p",{"trae-inspector-start-line":"257","trae-inspector-start-column":"20","trae-inspector-end-line":"259","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:[n.predictedKm.toLocaleString("pt-BR")," km"]}),e.jsx("p",{"trae-inspector-start-line":"260","trae-inspector-start-column":"20","trae-inspector-end-line":"262","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:l>0?`Faltam ${l.toLocaleString("pt-BR")} km`:`Atrasada em ${Math.abs(l).toLocaleString("pt-BR")} km`})]}),e.jsxs("div",{"trae-inspector-start-line":"265","trae-inspector-start-column":"18","trae-inspector-end-line":"273","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"266","trae-inspector-start-column":"20","trae-inspector-end-line":"266","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Previs%C3%A3o%20em%20Dias%22%2C%22textStartLine%22%3A%22266%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22266%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Previsão em Dias"}),e.jsxs("p",{"trae-inspector-start-line":"267","trae-inspector-start-column":"20","trae-inspector-end-line":"269","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:[n.predictedDays," dias"]}),e.jsxs("p",{"trae-inspector-start-line":"270","trae-inspector-start-column":"20","trae-inspector-end-line":"272","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["Confiança: ",(n.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"18","trae-inspector-end-line":"280","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"276","trae-inspector-start-column":"20","trae-inspector-end-line":"276","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tipo%22%2C%22textStartLine%22%3A%22276%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22276%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsx("p",{"trae-inspector-start-line":"277","trae-inspector-start-column":"20","trae-inspector-end-line":"279","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold capitalize",children:n.maintenanceType})]})]}),(n.status==="overdue"||n.status==="soon")&&e.jsx("div",{"trae-inspector-start-line":"284","trae-inspector-start-column":"18","trae-inspector-end-line":"296","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-4 pt-4 border-t",children:e.jsxs("div",{"trae-inspector-start-line":"285","trae-inspector-start-column":"20","trae-inspector-end-line":"295","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsx(L,{onClick:()=>D(n),children:"Criar OS Preventiva"}),e.jsx(L,{variant:"outline",onClick:()=>j(n),children:"Gerar Pedido de Peças"}),e.jsx(L,{variant:"secondary",onClick:()=>v(n),children:"Abrir Cotação"})]})})]})]},n.plate)}),i.length===0&&e.jsx(y,{children:e.jsx(F,{className:"text-center py-8",children:e.jsx("p",{"trae-inspector-start-line":"306","trae-inspector-start-column":"14","trae-inspector-end-line":"308","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20ve%C3%ADculo%20encontrado.%20Certifique-se%20de%20que%20existem%20ordens%20de%20servi%C3%A7o%20cadastradas.%22%2C%22textStartLine%22%3A%22306%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22308%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Nenhum veículo encontrado. Certifique-se de que existem ordens de serviço cadastradas."})})})]})]})};function kt(){const{user:c,hasRole:b}=$(),m=Ue(),[A,w]=x.useState([]),[h,u]=x.useState({name:"",quantity:1,unit:"unidade"}),[C,D]=x.useState(""),[j,v]=x.useState("normal"),[g,i]=x.useState(""),n=b("admin")||b("maintenance_manager")||b("logistics_manager"),{data:l=[],isLoading:o}=$e({queryKey:["parts-requests"],queryFn:async()=>{const{data:t,error:p}=await _.from("parts_requests").select("*").order("created_at",{ascending:!1});if(p){if(p.code==="PGRST205")return[];throw p}return t}}),a=Ae({mutationFn:async({id:t,status:p,reason:I})=>{const{error:z}=await _.from("parts_requests").update({status:p,approved_by:p==="aprovado"?c==null?void 0:c.id:null,approved_at:p==="aprovado"?new Date().toISOString():null,rejection_reason:I}).eq("id",t);if(z)throw z},onSuccess:()=>{f.success("Status atualizado com sucesso!"),m.invalidateQueries({queryKey:["parts-requests"]})},onError:t=>{f.error("Erro ao atualizar status: "+t.message)}}),s=Ae({mutationFn:async()=>{if(!c)throw new Error("Usuário não autenticado");if(A.length===0)throw new Error("Adicione pelo menos uma peça");const{data:t}=await _.from("profiles").select("full_name").eq("id",c.id).single(),{data:p,error:I}=await _.from("parts_requests").insert([{mechanic_id:c.id,mechanic_name:(t==null?void 0:t.full_name)||c.email||"Mecânico",vehicle_plate:C||null,parts_list:A,urgency:j,notes:g||null,status:"pendente"}]).select().single();if(I)throw I;const{data:z}=await _.from("user_roles").select("user_id").in("role",["admin","logistics_manager","maintenance_manager"]);if(z){const Be=z.map(Te=>({user_id:Te.user_id,title:"Novo Pedido de Peças",message:`${(t==null?void 0:t.full_name)||"Mecânico"} solicitou ${A.length} peça(s)${C?` para ${C}`:""}. Urgência: ${j==="urgent"?"URGENTE":"Normal"}`,type:j==="urgent"?"warning":"info",module:"maintenance"}));await _.from("notifications").insert(Be)}return p},onSuccess:()=>{f.success("Pedido enviado com sucesso!"),w([]),D(""),v("normal"),i(""),m.invalidateQueries({queryKey:["parts-requests"]})},onError:t=>{f.error(t.message)}}),r=()=>{if(!h.name.trim()){f.error("Digite o nome da peça");return}w([...A,{id:crypto.randomUUID(),...h}]),u({name:"",quantity:1,unit:"unidade"})},d=t=>{w(A.filter(p=>p.id!==t))},N=t=>{switch(t){case"pendente":return e.jsxs(k,{variant:"outline",className:"gap-1",children:[e.jsx(Z,{className:"w-3 h-3"}),"Pendente"]});case"aprovado":return e.jsxs(k,{className:"gap-1 bg-green-500",children:[e.jsx(te,{className:"w-3 h-3"}),"Aprovado"]});case"rejeitado":return e.jsxs(k,{variant:"destructive",className:"gap-1",children:[e.jsx(oe,{className:"w-3 h-3"}),"Rejeitado"]});default:return e.jsx(k,{variant:"secondary",children:t})}},U=t=>t==="urgent"?e.jsxs(k,{variant:"destructive",className:"gap-1",children:[e.jsx(oe,{className:"w-3 h-3"}),"Urgente"]}):e.jsx(k,{variant:"outline",children:"Normal"});return e.jsxs("div",{"trae-inspector-start-line":"178","trae-inspector-start-column":"4","trae-inspector-end-line":"372","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs(y,{children:[e.jsx(J,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),"Novo Pedido de Peças"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"10","trae-inspector-end-line":"209","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"188","trae-inspector-start-column":"12","trae-inspector-end-line":"195","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{children:"Placa do Veículo (opcional)"}),e.jsx(ee,{value:C,onChange:D,placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"197","trae-inspector-start-column":"12","trae-inspector-end-line":"208","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{children:"Urgência"}),e.jsxs(O,{value:j,onValueChange:v,children:[e.jsx(q,{children:e.jsx(R,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"normal",children:"Normal"}),e.jsx(S,{value:"urgent",children:"Urgente"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"211","trae-inspector-start-column":"10","trae-inspector-end-line":"271","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:[e.jsx(B,{children:"Adicionar Peças"}),e.jsxs("div",{"trae-inspector-start-line":"213","trae-inspector-start-column":"12","trae-inspector-end-line":"247","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-12 gap-2",children:[e.jsx(T,{placeholder:"Nome da peça",className:"col-span-6",value:h.name,onChange:t=>u({...h,name:t.target.value}),onKeyPress:t=>t.key==="Enter"&&r()}),e.jsx(T,{type:"number",min:"1",placeholder:"Qtd",className:"col-span-2",value:h.quantity,onChange:t=>u({...h,quantity:parseInt(t.target.value)||1})}),e.jsxs(O,{value:h.unit,onValueChange:t=>u({...h,unit:t}),children:[e.jsx(q,{className:"col-span-3",children:e.jsx(R,{})}),e.jsxs(V,{children:[e.jsx(S,{value:"unidade",children:"Unidade"}),e.jsx(S,{value:"litro",children:"Litro"}),e.jsx(S,{value:"kg",children:"Kg"}),e.jsx(S,{value:"metro",children:"Metro"}),e.jsx(S,{value:"jogo",children:"Jogo"})]})]}),e.jsx(L,{onClick:r,size:"icon",className:"col-span-1",children:e.jsx(H,{className:"w-4 h-4"})})]}),A.length>0&&e.jsx("div",{"trae-inspector-start-line":"250","trae-inspector-start-column":"14","trae-inspector-end-line":"269","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 p-3 bg-muted rounded-lg",children:A.map(t=>e.jsxs("div",{"trae-inspector-start-line":"252","trae-inspector-start-column":"18","trae-inspector-end-line":"267","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between bg-background p-2 rounded",children:[e.jsx("span",{"trae-inspector-start-line":"253","trae-inspector-start-column":"20","trae-inspector-end-line":"253","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:t.name}),e.jsxs("div",{"trae-inspector-start-line":"254","trae-inspector-start-column":"20","trae-inspector-end-line":"266","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsxs("span",{"trae-inspector-start-line":"255","trae-inspector-start-column":"22","trae-inspector-end-line":"257","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[t.quantity," ",t.unit]}),e.jsx(L,{variant:"ghost",size:"icon",onClick:()=>d(t.id),className:"h-7 w-7",children:e.jsx(Je,{className:"w-3 h-3"})})]})]},t.id))})]}),e.jsxs("div",{"trae-inspector-start-line":"273","trae-inspector-start-column":"10","trae-inspector-end-line":"281","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(B,{children:"Observações"}),e.jsx(me,{placeholder:"Informações adicionais sobre o pedido...",value:g,onChange:t=>i(t.target.value),rows:3})]}),e.jsx(L,{onClick:()=>s.mutate(),disabled:A.length===0||s.isPending,className:"w-full",children:s.isPending?"Enviando...":"Enviar Pedido para Gestor"})]})]}),e.jsxs(y,{children:[e.jsx(J,{children:e.jsx(G,{children:"Meus Pedidos"})}),e.jsx(F,{children:o?e.jsx("p",{"trae-inspector-start-line":"299","trae-inspector-start-column":"12","trae-inspector-end-line":"299","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20pedidos...%22%2C%22textStartLine%22%3A%22299%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22299%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Carregando pedidos..."}):l.length===0?e.jsx("p",{"trae-inspector-start-line":"301","trae-inspector-start-column":"12","trae-inspector-end-line":"301","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20pedido%20realizado%20ainda.%22%2C%22textStartLine%22%3A%22301%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22301%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Nenhum pedido realizado ainda."}):e.jsx("div",{"trae-inspector-start-line":"303","trae-inspector-start-column":"12","trae-inspector-end-line":"368","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:l.map(t=>e.jsx(y,{children:e.jsxs(F,{className:"pt-4",children:[e.jsxs("div",{"trae-inspector-start-line":"307","trae-inspector-start-column":"20","trae-inspector-end-line":"320","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{"trae-inspector-start-line":"308","trae-inspector-start-column":"22","trae-inspector-end-line":"316","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsxs("div",{"trae-inspector-start-line":"309","trae-inspector-start-column":"24","trae-inspector-end-line":"312","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[N(t.status),U(t.urgency)]}),e.jsx("p",{"trae-inspector-start-line":"313","trae-inspector-start-column":"24","trae-inspector-end-line":"315","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:new Date(t.created_at).toLocaleString("pt-BR")})]}),t.vehicle_plate&&e.jsx(k,{variant:"outline",children:t.vehicle_plate})]}),e.jsxs("div",{"trae-inspector-start-line":"322","trae-inspector-start-column":"20","trae-inspector-end-line":"334","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("p",{"trae-inspector-start-line":"323","trae-inspector-start-column":"22","trae-inspector-end-line":"323","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pe%C3%A7as%20Solicitadas%3A%22%2C%22textStartLine%22%3A%22323%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22323%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Peças Solicitadas:"}),e.jsx("ul",{"trae-inspector-start-line":"324","trae-inspector-start-column":"22","trae-inspector-end-line":"333","trae-inspector-end-column":"27","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1 text-sm",children:t.parts_list.map((p,I)=>e.jsxs("li",{"trae-inspector-start-line":"326","trae-inspector-start-column":"26","trae-inspector-end-line":"331","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between",children:[e.jsx("span",{"trae-inspector-start-line":"327","trae-inspector-start-column":"28","trae-inspector-end-line":"327","trae-inspector-end-column":"52","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:p.name}),e.jsxs("span",{"trae-inspector-start-line":"328","trae-inspector-start-column":"28","trae-inspector-end-line":"330","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[p.quantity," ",p.unit]})]},I))})]}),t.notes&&e.jsx("div",{"trae-inspector-start-line":"337","trae-inspector-start-column":"22","trae-inspector-end-line":"339","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-3 pt-3 border-t",children:e.jsx("p",{"trae-inspector-start-line":"338","trae-inspector-start-column":"24","trae-inspector-end-line":"338","trae-inspector-end-column":"88","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:t.notes})}),n&&t.status==="pendente"&&e.jsxs("div",{"trae-inspector-start-line":"343","trae-inspector-start-column":"22","trae-inspector-end-line":"363","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 mt-4 pt-3 border-t justify-end",children:[e.jsx(L,{size:"sm",variant:"destructive",onClick:()=>{const p=prompt("Motivo da rejeição:");p&&a.mutate({id:t.id,status:"rejeitado",reason:p})},disabled:a.isPending,children:"Rejeitar"}),e.jsx(L,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>a.mutate({id:t.id,status:"aprovado"}),disabled:a.isPending,children:"Aprovar"})]})]})},t.id))})})]})]})}function Mt(){const[c,b]=x.useState([]),[m,A]=x.useState(!0),[w,h]=x.useState(!1),[u,C]=x.useState("all"),[D,j]=x.useState({vehicle_type:"cavalo",plan_item:"",interval_km:"",tolerance_km:"500",notes:""});x.useEffect(()=>{v()},[]);const v=async()=>{try{A(!0);const{data:a,error:s}=await _.from("maintenance_plans").select("*").order("vehicle_type",{ascending:!0}).order("plan_item",{ascending:!0});if(s)if((s==null?void 0:s.code)==="PGRST205"||String((s==null?void 0:s.message)||"").includes("maintenance_plans"))h(!0),b([]);else throw s;else h(!1),b(a||[])}catch(a){console.error("Erro ao carregar planos:",a),f.error("Erro ao carregar planos de manutenção")}finally{A(!1)}},g=x.useMemo(()=>u==="all"?c:c.filter(a=>a.vehicle_type===u),[c,u]),i=async a=>{var s;a.preventDefault();try{const r={vehicle_type:D.vehicle_type,plan_item:D.plan_item.trim(),interval_km:parseInt(D.interval_km||"0",10),tolerance_km:parseInt(D.tolerance_km||"0",10),notes:((s=D.notes)==null?void 0:s.trim())||null,is_active:!0};if(!r.plan_item||!r.interval_km){f.error("Informe item e intervalo (km)");return}const{error:d}=await _.from("maintenance_plans").insert([r]);if(d)throw d;f.success("Plano cadastrado"),j({vehicle_type:"cavalo",plan_item:"",interval_km:"",tolerance_km:"500",notes:""}),v()}catch(r){console.error("Erro ao criar plano:",r),f.error("Erro ao criar plano")}},n=async a=>{try{const{error:s}=await _.from("maintenance_plans").update({is_active:!a.is_active}).eq("id",a.id);if(s)throw s;v()}catch(s){console.error("Erro ao atualizar plano:",s),f.error("Erro ao atualizar plano")}},l=async(a,s,r)=>{try{const{error:d}=await _.from("maintenance_plans").update({interval_km:s,tolerance_km:r}).eq("id",a.id);if(d)throw d;f.success("Intervalo atualizado"),v()}catch(d){console.error("Erro ao atualizar intervalo:",d),f.error("Erro ao atualizar intervalo")}},o=async()=>{try{A(!0);const a=[{vehicle_type:"cavalo",plan_item:"Troca de óleo do motor",interval_km:15e3,tolerance_km:1e3,notes:"Óleo e filtro conforme fabricante"},{vehicle_type:"cavalo",plan_item:"Filtro de óleo",interval_km:15e3,tolerance_km:1e3,notes:"Substituir junto ao óleo"},{vehicle_type:"cavalo",plan_item:"Filtro de ar",interval_km:2e4,tolerance_km:1e3,notes:"Inspecionar a cada 10.000km"},{vehicle_type:"cavalo",plan_item:"Filtro de combustível",interval_km:3e4,tolerance_km:1e3,notes:"Troca preventiva"},{vehicle_type:"cavalo",plan_item:"Revisão de freios",interval_km:2e4,tolerance_km:1e3,notes:"Pastilhas, lonas e discos"},{vehicle_type:"cavalo",plan_item:"Suspensão e buchas",interval_km:3e4,tolerance_km:1500,notes:"Inspeção geral e torque"},{vehicle_type:"cavalo",plan_item:"Alinhamento e balanceamento",interval_km:2e4,tolerance_km:1e3,notes:"Rotação de pneus"},{vehicle_type:"cavalo",plan_item:"Lubrificação do chassi",interval_km:1e4,tolerance_km:500,notes:"Pontos de graxa"},{vehicle_type:"carreta",plan_item:"Revisão de freios (carreta)",interval_km:2e4,tolerance_km:1e3,notes:"Sistema pneumático e lonas"},{vehicle_type:"carreta",plan_item:"Suspensão e eixos",interval_km:3e4,tolerance_km:1500,notes:"Inspeção e torque"},{vehicle_type:"carreta",plan_item:"Pinos e engates (quinto roda)",interval_km:15e3,tolerance_km:1e3,notes:"Lubrificação e inspeção"},{vehicle_type:"carreta",plan_item:"Iluminação e elétrica",interval_km:15e3,tolerance_km:1e3,notes:"Chicotes e conectores"},{vehicle_type:"carreta",plan_item:"Rodízio e balanceamento de pneus",interval_km:2e4,tolerance_km:1e3,notes:"Conforme desgaste"},{vehicle_type:"truck",plan_item:"Troca de óleo do motor",interval_km:1e4,tolerance_km:800,notes:""},{vehicle_type:"truck",plan_item:"Filtros (óleo/ar/combustível)",interval_km:15e3,tolerance_km:1e3,notes:""},{vehicle_type:"truck",plan_item:"Revisão de freios",interval_km:15e3,tolerance_km:1e3,notes:""},{vehicle_type:"truck",plan_item:"Suspensão",interval_km:25e3,tolerance_km:1500,notes:""},{vehicle_type:"truck",plan_item:"Alinhamento e balanceamento",interval_km:15e3,tolerance_km:1e3,notes:""},{vehicle_type:"cavalo",plan_item:"Troca de óleo do motor (Volvo FH)",interval_km:2e4,tolerance_km:1e3,notes:"Volvo FH"},{vehicle_type:"cavalo",plan_item:"Filtro de óleo (Volvo FH)",interval_km:2e4,tolerance_km:1e3,notes:"Volvo FH"},{vehicle_type:"cavalo",plan_item:"Filtro de ar (Volvo FH)",interval_km:3e4,tolerance_km:1500,notes:"Volvo FH"},{vehicle_type:"cavalo",plan_item:"Revisão de freios (Volvo FH)",interval_km:3e4,tolerance_km:1500,notes:"Volvo FH"},{vehicle_type:"cavalo",plan_item:"Suspensão e buchas (Volvo FH)",interval_km:4e4,tolerance_km:1500,notes:"Volvo FH"},{vehicle_type:"cavalo",plan_item:"Troca de óleo do motor (Scania)",interval_km:25e3,tolerance_km:1e3,notes:"Scania"},{vehicle_type:"cavalo",plan_item:"Filtro de óleo (Scania)",interval_km:25e3,tolerance_km:1e3,notes:"Scania"},{vehicle_type:"cavalo",plan_item:"Filtro de ar (Scania)",interval_km:3e4,tolerance_km:1500,notes:"Scania"},{vehicle_type:"cavalo",plan_item:"Revisão de freios (Scania)",interval_km:25e3,tolerance_km:1e3,notes:"Scania"},{vehicle_type:"cavalo",plan_item:"Troca de óleo do motor (Mercedes)",interval_km:3e4,tolerance_km:1500,notes:"Mercedes-Benz Actros/Atego"},{vehicle_type:"cavalo",plan_item:"Filtro de óleo (Mercedes)",interval_km:3e4,tolerance_km:1500,notes:"Mercedes-Benz Actros/Atego"},{vehicle_type:"cavalo",plan_item:"Filtro de ar (Mercedes)",interval_km:3e4,tolerance_km:1500,notes:"Mercedes-Benz Actros/Atego"},{vehicle_type:"cavalo",plan_item:"Revisão de freios (Mercedes)",interval_km:3e4,tolerance_km:1500,notes:"Mercedes-Benz Actros/Atego"},{vehicle_type:"cavalo",plan_item:"Troca de óleo do motor (DAF)",interval_km:3e4,tolerance_km:1500,notes:"DAF XF"},{vehicle_type:"cavalo",plan_item:"Filtros (DAF)",interval_km:3e4,tolerance_km:1500,notes:"DAF XF"},{vehicle_type:"cavalo",plan_item:"Troca de óleo do motor (Iveco)",interval_km:2e4,tolerance_km:1e3,notes:"Iveco S-Way/Stralis"},{vehicle_type:"cavalo",plan_item:"Filtros (Iveco)",interval_km:2e4,tolerance_km:1e3,notes:"Iveco S-Way/Stralis"},{vehicle_type:"carreta",plan_item:"Revisão de eixos (3 eixos)",interval_km:3e4,tolerance_km:1500,notes:"Vanderleia"},{vehicle_type:"carreta",plan_item:"Sistema de freios (3 eixos)",interval_km:2e4,tolerance_km:1e3,notes:"Vanderleia"},{vehicle_type:"carreta",plan_item:"Engate e pino do reboque",interval_km:15e3,tolerance_km:1e3,notes:"Vanderleia"},{vehicle_type:"carreta",plan_item:"Conferência estrutural",interval_km:3e4,tolerance_km:1500,notes:"Inox"},{vehicle_type:"carreta",plan_item:"Conferência estrutural",interval_km:3e4,tolerance_km:1500,notes:"Fibra"}],{error:s}=await _.from("maintenance_plans").insert(a);if(s)throw s;f.success("Planos padrão carregados"),v()}catch(a){console.error("Erro ao carregar padrões:",a),f.error("Erro ao carregar padrões")}finally{A(!1)}};return m?e.jsx("div",{"trae-inspector-start-line":"200","trae-inspector-start-column":"11","trae-inspector-end-line":"200","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20planos...%22%2C%22textStartLine%22%3A%22200%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22200%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando planos..."}):e.jsxs("div",{"trae-inspector-start-line":"204","trae-inspector-start-column":"4","trae-inspector-end-line":"326","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[w&&e.jsx(y,{className:"border-amber-300 bg-amber-50",children:e.jsxs(F,{className:"py-4 flex items-center gap-3",children:[e.jsx(le,{className:"h-5 w-5 text-amber-600"}),e.jsxs("div",{"trae-inspector-start-line":"209","trae-inspector-start-column":"12","trae-inspector-end-line":"212","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"210","trae-inspector-start-column":"14","trae-inspector-end-line":"210","trae-inspector-end-column":"113","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Planos%20preventivos%20indispon%C3%ADveis%20(migration%20pendente)%22%2C%22textStartLine%22%3A%22210%22%2C%22textStartColumn%22%3A%2256%22%2C%22textEndLine%22%3A%22210%22%2C%22textEndColumn%22%3A%22109%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium text-amber-800",children:"Planos preventivos indisponíveis (migration pendente)"}),e.jsx("p",{"trae-inspector-start-line":"211","trae-inspector-start-column":"14","trae-inspector-end-line":"211","trae-inspector-end-column":"180","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22A%20tabela%20%60maintenance_plans%60%20n%C3%A3o%20foi%20encontrada.%20Aplique%20a%20migration%20para%20habilitar%20o%20CRUD%20e%20os%20alertas%20por%20tipo%20de%20ve%C3%ADculo.%22%2C%22textStartLine%22%3A%22211%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22211%22%2C%22textEndColumn%22%3A%22176%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-amber-700",children:"A tabela `maintenance_plans` não foi encontrada. Aplique a migration para habilitar o CRUD e os alertas por tipo de veículo."})]})]})}),e.jsxs("div",{"trae-inspector-start-line":"216","trae-inspector-start-column":"6","trae-inspector-end-line":"225","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"8","trae-inspector-end-line":"220","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h2",{"trae-inspector-start-line":"218","trae-inspector-start-column":"10","trae-inspector-end-line":"218","trae-inspector-end-column":"132","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(et,{className:"h-5 w-5"})," Planos de Manutenção"]}),e.jsx("p",{"trae-inspector-start-line":"219","trae-inspector-start-column":"10","trae-inspector-end-line":"219","trae-inspector-end-column":"120","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Defina%20ciclos%20de%20km%20e%20preventivas%20por%20modelo%20(cavalo%2C%20carreta%2C%20truck)%22%2C%22textStartLine%22%3A%22219%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22219%22%2C%22textEndColumn%22%3A%22116%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Defina ciclos de km e preventivas por modelo (cavalo, carreta, truck)"})]}),e.jsxs("div",{"trae-inspector-start-line":"221","trae-inspector-start-column":"8","trae-inspector-end-line":"224","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(L,{variant:"outline",onClick:v,children:"Atualizar"}),e.jsxs(L,{onClick:o,children:[e.jsx(pe,{className:"h-4 w-4 mr-2"})," Carregar Padrões"]})]})]}),e.jsxs(y,{children:[e.jsx(J,{children:e.jsx(G,{children:"Novo Plano"})}),e.jsxs(F,{className:"grid gap-3 md:grid-cols-5",children:[e.jsxs("div",{"trae-inspector-start-line":"232","trae-inspector-start-column":"10","trae-inspector-end-line":"242","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"233","trae-inspector-start-column":"12","trae-inspector-end-line":"233","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Modelo%22%2C%22textStartLine%22%3A%22233%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22233%22%2C%22textEndColumn%22%3A%2245%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Modelo"}),e.jsxs(O,{value:D.vehicle_type,onValueChange:a=>j(s=>({...s,vehicle_type:a})),children:[e.jsx(q,{className:"mt-1",children:e.jsx(R,{placeholder:"Selecione"})}),e.jsxs(V,{children:[e.jsx(S,{value:"cavalo",children:"Cavalo"}),e.jsx(S,{value:"carreta",children:"Carreta"}),e.jsx(S,{value:"truck",children:"Truck"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"243","trae-inspector-start-column":"10","trae-inspector-end-line":"246","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"md:col-span-2",children:[e.jsx("label",{"trae-inspector-start-line":"244","trae-inspector-start-column":"12","trae-inspector-end-line":"244","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Item%20Preventivo%22%2C%22textStartLine%22%3A%22244%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22244%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Item Preventivo"}),e.jsx(T,{className:"mt-1",placeholder:"Ex: Troca de óleo",value:D.plan_item,onChange:a=>j(s=>({...s,plan_item:a.target.value}))})]}),e.jsxs("div",{"trae-inspector-start-line":"247","trae-inspector-start-column":"10","trae-inspector-end-line":"250","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"248","trae-inspector-start-column":"12","trae-inspector-end-line":"248","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Intervalo%20(km)%22%2C%22textStartLine%22%3A%22248%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22248%22%2C%22textEndColumn%22%3A%2253%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Intervalo (km)"}),e.jsx(T,{className:"mt-1",type:"number",min:1e3,step:500,value:D.interval_km,onChange:a=>j(s=>({...s,interval_km:a.target.value}))})]}),e.jsxs("div",{"trae-inspector-start-line":"251","trae-inspector-start-column":"10","trae-inspector-end-line":"254","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"252","trae-inspector-start-column":"12","trae-inspector-end-line":"252","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Toler%C3%A2ncia%20(km)%22%2C%22textStartLine%22%3A%22252%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22252%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Tolerância (km)"}),e.jsx(T,{className:"mt-1",type:"number",min:0,step:100,value:D.tolerance_km,onChange:a=>j(s=>({...s,tolerance_km:a.target.value}))})]}),e.jsxs("div",{"trae-inspector-start-line":"255","trae-inspector-start-column":"10","trae-inspector-end-line":"258","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"md:col-span-5",children:[e.jsx("label",{"trae-inspector-start-line":"256","trae-inspector-start-column":"12","trae-inspector-end-line":"256","trae-inspector-end-column":"58","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Observa%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22256%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22256%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Observações"}),e.jsx(T,{className:"mt-1",placeholder:"Notas",value:D.notes,onChange:a=>j(s=>({...s,notes:a.target.value}))})]}),e.jsx("div",{"trae-inspector-start-line":"259","trae-inspector-start-column":"10","trae-inspector-end-line":"261","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"md:col-span-5",children:e.jsx(L,{onClick:i,children:"Adicionar Plano"})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"265","trae-inspector-start-column":"6","trae-inspector-end-line":"276","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(k,{variant:"secondary",children:"Filtros"}),e.jsxs(O,{value:u,onValueChange:a=>C(a),children:[e.jsx(q,{className:"w-[220px]",children:e.jsx(R,{placeholder:"Filtrar por modelo"})}),e.jsxs(V,{children:[e.jsx(S,{value:"all",children:"Todos"}),e.jsx(S,{value:"cavalo",children:"Cavalo"}),e.jsx(S,{value:"carreta",children:"Carreta"}),e.jsx(S,{value:"truck",children:"Truck"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"6","trae-inspector-end-line":"325","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:[g.map(a=>e.jsxs(y,{children:[e.jsx(J,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("span",{"trae-inspector-start-line":"283","trae-inspector-start-column":"16","trae-inspector-end-line":"286","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(k,{children:a.vehicle_type}),a.plan_item]}),e.jsxs("div",{"trae-inspector-start-line":"287","trae-inspector-start-column":"16","trae-inspector-end-line":"290","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsx("span",{"trae-inspector-start-line":"288","trae-inspector-start-column":"18","trae-inspector-end-line":"288","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ativo%22%2C%22textStartLine%22%3A%22288%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22288%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Ativo"}),e.jsx(Ge,{checked:a.is_active,onCheckedChange:()=>n(a)})]})]})}),e.jsx(F,{children:e.jsxs("div",{"trae-inspector-start-line":"294","trae-inspector-start-column":"14","trae-inspector-end-line":"318","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"295","trae-inspector-start-column":"16","trae-inspector-end-line":"298","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"296","trae-inspector-start-column":"18","trae-inspector-end-line":"296","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Intervalo%22%2C%22textStartLine%22%3A%22296%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22296%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Intervalo"}),e.jsx(T,{type:"number",defaultValue:a.interval_km,onBlur:s=>l(a,parseInt(s.target.value||"0",10),a.tolerance_km)})]}),e.jsxs("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"16","trae-inspector-end-line":"302","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"300","trae-inspector-start-column":"18","trae-inspector-end-line":"300","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Toler%C3%A2ncia%22%2C%22textStartLine%22%3A%22300%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22300%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Tolerância"}),e.jsx(T,{type:"number",defaultValue:a.tolerance_km,onBlur:s=>l(a,a.interval_km,parseInt(s.target.value||"0",10))})]}),e.jsxs("div",{"trae-inspector-start-line":"303","trae-inspector-start-column":"16","trae-inspector-end-line":"317","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"304","trae-inspector-start-column":"18","trae-inspector-end-line":"304","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Observa%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22304%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22304%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Observações"}),e.jsx(T,{defaultValue:a.notes||"",onBlur:async s=>{try{const{error:r}=await _.from("maintenance_plans").update({notes:s.target.value}).eq("id",a.id);if(r)throw r}catch(r){console.error(r),f.error("Erro ao atualizar observações")}}})]})]})})]},a.id)),g.length===0&&e.jsx(y,{children:e.jsx(F,{className:"py-6",children:'Nenhum plano encontrado. Use "Carregar Padrões" ou adicione manualmente.'})})]})]})}function Et(){const{geocode:c,calculateRoute:b,loading:m}=Xe(),[A,w]=x.useState("Distrito Industrial Diper, Cabo de Santo Agostinho, PE"),[h,u]=x.useState(null),C=async()=>{u(null);const j=await c(A);j?(u({type:"geocode",success:!0,data:j}),f.success("✅ Geocoding funcionando!")):(u({type:"geocode",success:!1}),f.error("❌ Erro no geocoding"))},D=async()=>{u(null);const g=await b({lat:-8.0476,lng:-34.877},{lat:-8.2722,lng:-35.028},"truck");g?(u({type:"route",success:!0,data:g}),f.success("✅ Roteirização funcionando!")):(u({type:"route",success:!1}),f.error("❌ Erro na roteirização"))};return e.jsxs(y,{children:[e.jsx(J,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"Teste TomTom APIs"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"69","trae-inspector-start-column":"8","trae-inspector-end-line":"82","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("label",{"trae-inspector-start-line":"70","trae-inspector-start-column":"10","trae-inspector-end-line":"70","trae-inspector-end-column":"97","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Teste%20Geocoding%20(Endere%C3%A7o%20%E2%86%92%20Coordenadas)%22%2C%22textStartLine%22%3A%2270%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2270%22%2C%22textEndColumn%22%3A%2289%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-medium",children:"Teste Geocoding (Endereço → Coordenadas)"}),e.jsxs("div",{"trae-inspector-start-line":"71","trae-inspector-start-column":"10","trae-inspector-end-line":"81","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(T,{value:A,onChange:j=>w(j.target.value),placeholder:"Digite um endereço..."}),e.jsxs(L,{onClick:C,disabled:m,children:[m?e.jsx(De,{className:"w-4 h-4 animate-spin"}):e.jsx(re,{className:"w-4 h-4"}),"Testar"]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"85","trae-inspector-start-column":"8","trae-inspector-end-line":"91","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("label",{"trae-inspector-start-line":"86","trae-inspector-start-column":"10","trae-inspector-end-line":"86","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Teste%20Roteiriza%C3%A7%C3%A3o%20(Recife%20%E2%86%92%20Cabo)%22%2C%22textStartLine%22%3A%2286%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2286%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-medium",children:"Teste Roteirização (Recife → Cabo)"}),e.jsxs(L,{onClick:D,disabled:m,className:"w-full",children:[m?e.jsx(De,{className:"w-4 h-4 animate-spin"}):e.jsx(fe,{className:"w-4 h-4"}),"Calcular Rota de Teste"]})]}),h&&e.jsxs("div",{"trae-inspector-start-line":"95","trae-inspector-start-column":"10","trae-inspector-end-line":"126","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`p-4 rounded-lg border ${h.success?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:[e.jsxs("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"12","trae-inspector-end-line":"109","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-2",children:[h.success?e.jsx(te,{className:"w-5 h-5 text-green-500"}):e.jsx(oe,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{"trae-inspector-start-line":"106","trae-inspector-start-column":"14","trae-inspector-end-line":"108","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:h.success?"Sucesso!":"Falhou"})]}),h.success&&h.type==="geocode"&&e.jsxs("div",{"trae-inspector-start-line":"112","trae-inspector-start-column":"14","trae-inspector-end-line":"116","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm space-y-1",children:[e.jsxs("p",{"trae-inspector-start-line":"113","trae-inspector-start-column":"16","trae-inspector-end-line":"113","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"113","trae-inspector-start-column":"19","trae-inspector-end-line":"113","trae-inspector-end-column":"45","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Endere%C3%A7o%3A%22%2C%22textStartLine%22%3A%22113%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22113%22%2C%22textEndColumn%22%3A%2236%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Endereço:"})," ",h.data.address.freeformAddress]}),e.jsxs("p",{"trae-inspector-start-line":"114","trae-inspector-start-column":"16","trae-inspector-end-line":"114","trae-inspector-end-column":"115","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"114","trae-inspector-start-column":"19","trae-inspector-end-line":"114","trae-inspector-end-column":"48","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Coordenadas%3A%22%2C%22textStartLine%22%3A%22114%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22114%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Coordenadas:"})," ",h.data.position.lat,", ",h.data.position.lon]}),e.jsxs("p",{"trae-inspector-start-line":"115","trae-inspector-start-column":"16","trae-inspector-end-line":"115","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"115","trae-inspector-start-column":"19","trae-inspector-end-line":"115","trae-inspector-end-column":"41","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pa%C3%ADs%3A%22%2C%22textStartLine%22%3A%22115%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22115%22%2C%22textEndColumn%22%3A%2232%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"País:"})," ",h.data.address.country]})]}),h.success&&h.type==="route"&&e.jsxs("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"14","trae-inspector-end-line":"124","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm space-y-1",children:[e.jsxs("p",{"trae-inspector-start-line":"121","trae-inspector-start-column":"16","trae-inspector-end-line":"121","trae-inspector-end-column":"100","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"121","trae-inspector-start-column":"19","trae-inspector-end-line":"121","trae-inspector-end-column":"46","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Dist%C3%A2ncia%3A%22%2C%22textStartLine%22%3A%22121%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22121%22%2C%22textEndColumn%22%3A%2237%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Distância:"})," ",(h.data.distance/1e3).toFixed(2)," km"]}),e.jsxs("p",{"trae-inspector-start-line":"122","trae-inspector-start-column":"16","trae-inspector-end-line":"122","trae-inspector-end-column":"98","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"122","trae-inspector-start-column":"19","trae-inspector-end-line":"122","trae-inspector-end-column":"42","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tempo%3A%22%2C%22textStartLine%22%3A%22122%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22122%22%2C%22textEndColumn%22%3A%2233%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Tempo:"})," ",Math.round(h.data.duration/60)," minutos"]}),e.jsxs("p",{"trae-inspector-start-line":"123","trae-inspector-start-column":"16","trae-inspector-end-line":"123","trae-inspector-end-column":"101","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"123","trae-inspector-start-column":"19","trae-inspector-end-line":"123","trae-inspector-end-column":"51","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pontos%20na%20rota%3A%22%2C%22textStartLine%22%3A%22123%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22123%22%2C%22textEndColumn%22%3A%2242%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Pontos na rota:"})," ",h.data.geometry.coordinates.length]})]})]})]})]})}const Pt=-8.2783782,It=-35.030952,Ft=800;function Ot(){const[c,b]=x.useState(!1),[m,A]=x.useState(""),{toast:w}=ke(),{user:h}=$(),[u,C]=x.useState(null),[D,j]=x.useState({lat:Pt,lon:It}),[v,g]=x.useState(Ft),i=(l,o,a,s)=>{const d=(a-l)*Math.PI/180,N=(s-o)*Math.PI/180,U=Math.sin(d/2)**2+Math.cos(l*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(N/2)**2;return 6371e3*2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U))};x.useEffect(()=>{(async()=>{try{const{data:l,error:o}=await _.from("workshop_area").select("center_lat, center_lon, radius_meters").limit(1);if(!o&&l&&l.length>0){const a=l[0];typeof a.center_lat=="number"&&typeof a.center_lon=="number"&&j({lat:a.center_lat,lon:a.center_lon}),typeof a.radius_meters=="number"&&a.radius_meters>0&&g(a.radius_meters)}}catch{}})()},[]);const n=async l=>{if(!h){w({title:"Erro",description:"Você precisa estar logado para bater o ponto.",variant:"destructive"});return}b(!0),A(`Obtendo localização para ${l}...`);try{if(!navigator.geolocation)throw new Error("Geolocalização não suportada pelo navegador");navigator.geolocation.getCurrentPosition(async o=>{const{latitude:a,longitude:s}=o.coords,r=i(a,s,D.lat,D.lon);if(r>v){A(`Você está ${r.toFixed(1)}m fora da área permitida.`),w({title:"Fora da área",description:`Você está ${r.toFixed(1)}m distante da oficina. É necessário estar dentro de ${v}m.`,variant:"destructive"}),b(!1);return}const{error:d}=await _.from("mechanic_clock_in").insert({mechanic_id:h.id,punch_type:l,latitude:a,longitude:s,distance:r,within_area:!0,timestamp:new Date().toISOString()});if(d)throw d;A("✅ Ponto registrado com sucesso!"),C(l),w({title:"Ponto registrado",description:`Tipo: ${l.toUpperCase()} • Distância: ${r.toFixed(1)}m da oficina`}),b(!1)},o=>{A("Erro ao obter localização. Permita o acesso ao GPS."),w({title:"Erro de localização",description:"Não foi possível obter sua localização. Verifique as permissões do navegador.",variant:"destructive"}),b(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}catch(o){console.error("Erro ao bater ponto:",o),A("Erro ao registrar ponto."),w({title:"Erro",description:"Não foi possível registrar o ponto. Tente novamente.",variant:"destructive"}),b(!1)}};return e.jsxs(y,{children:[e.jsx(J,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Controle de Ponto"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"152","trae-inspector-start-column":"8","trae-inspector-end-line":"165","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs(L,{onClick:()=>n("entrada"),disabled:c,size:"sm",variant:"default",children:[e.jsx(re,{className:"h-4 w-4 mr-2"})," Entrada"]}),e.jsxs(L,{onClick:()=>n("almoco_inicio"),disabled:c,size:"sm",variant:"secondary",children:[e.jsx(re,{className:"h-4 w-4 mr-2"})," Início Almoço"]}),e.jsxs(L,{onClick:()=>n("almoco_fim"),disabled:c,size:"sm",variant:"secondary",children:[e.jsx(re,{className:"h-4 w-4 mr-2"})," Fim Almoço"]}),e.jsxs(L,{onClick:()=>n("saida"),disabled:c,size:"sm",variant:"outline",children:[e.jsx(re,{className:"h-4 w-4 mr-2"})," Saída"]})]}),m&&e.jsxs("div",{"trae-inspector-start-line":"168","trae-inspector-start-column":"10","trae-inspector-end-line":"183","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`flex items-center gap-2 p-3 rounded-lg ${m.includes("sucesso")?"bg-green-500/10 text-green-700 dark:text-green-400":m.includes("fora")?"bg-red-500/10 text-red-700 dark:text-red-400":"bg-blue-500/10 text-blue-700 dark:text-blue-400"}`,children:[m.includes("sucesso")?e.jsx(te,{className:"h-4 w-4"}):m.includes("fora")?e.jsx(Qe,{className:"h-4 w-4"}):e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"182","trae-inspector-start-column":"12","trae-inspector-end-line":"182","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:m})]}),e.jsxs("div",{"trae-inspector-start-line":"186","trae-inspector-start-column":"8","trae-inspector-end-line":"190","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[e.jsxs("p",{"trae-inspector-start-line":"187","trae-inspector-start-column":"10","trae-inspector-end-line":"187","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["📍 Oficina: Lat ",D.lat,", Lon ",D.lon]}),e.jsxs("p",{"trae-inspector-start-line":"188","trae-inspector-start-column":"10","trae-inspector-end-line":"188","trae-inspector-end-column":"51","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["📏 Raio permitido: ",v," metros"]}),u&&e.jsxs("p",{"trae-inspector-start-line":"189","trae-inspector-start-column":"24","trae-inspector-end-line":"189","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["🕒 Última marcação: ",u.toUpperCase()]})]})]})]})}const Nr=()=>e.jsx(Me,{children:e.jsxs("div",{"trae-inspector-start-line":"24","trae-inspector-start-column":"6","trae-inspector-end-line":"140","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"25","trae-inspector-start-column":"8","trae-inspector-end-line":"30","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mb-8",children:[e.jsx("h1",{"trae-inspector-start-line":"26","trae-inspector-start-column":"10","trae-inspector-end-line":"26","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Portal%20do%20Mec%C3%A2nico%22%2C%22textStartLine%22%3A%2226%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%2226%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold mb-2",children:"Portal do Mecânico"}),e.jsx("p",{"trae-inspector-start-line":"27","trae-inspector-start-column":"10","trae-inspector-end-line":"29","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sistema%20completo%20de%20gest%C3%A3o%20de%20manuten%C3%A7%C3%A3o%2C%20ordens%20de%20servi%C3%A7o%20e%20monitoramento%20da%20frota%22%2C%22textStartLine%22%3A%2227%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%2229%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Sistema completo de gestão de manutenção, ordens de serviço e monitoramento da frota"})]}),e.jsx(Ot,{}),e.jsxs(je,{defaultValue:"orders",className:"space-y-6",children:[e.jsxs(Le,{className:"flex w-full flex-wrap justify-start gap-2 h-auto p-2 bg-muted/50 rounded-lg",children:[e.jsxs(E,{value:"orders",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"39","trae-inspector-start-column":"14","trae-inspector-end-line":"39","trae-inspector-end-column":"33","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ordens%22%2C%22textStartLine%22%3A%2239%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2239%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Ordens"})]}),e.jsxs(E,{value:"lavajato",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"44","trae-inspector-start-column":"14","trae-inspector-end-line":"44","trae-inspector-end-column":"36","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Lava-Jato%22%2C%22textStartLine%22%3A%2244%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2244%22%2C%22textEndColumn%22%3A%2229%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Lava-Jato"})]}),e.jsxs(E,{value:"borracharia",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"49","trae-inspector-start-column":"14","trae-inspector-end-line":"49","trae-inspector-end-column":"38","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Borracharia%22%2C%22textStartLine%22%3A%2249%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2249%22%2C%22textEndColumn%22%3A%2231%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Borracharia"})]}),e.jsxs(E,{value:"tires",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"54","trae-inspector-start-column":"14","trae-inspector-end-line":"54","trae-inspector-end-column":"32","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pneus%22%2C%22textStartLine%22%3A%2254%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2254%22%2C%22textEndColumn%22%3A%2225%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Pneus"})]}),e.jsxs(E,{value:"tpms",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"59","trae-inspector-start-column":"14","trae-inspector-end-line":"59","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22TPMS%22%2C%22textStartLine%22%3A%2259%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2259%22%2C%22textEndColumn%22%3A%2224%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"TPMS"})]}),e.jsxs(E,{value:"workshop",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"64","trae-inspector-start-column":"14","trae-inspector-end-line":"64","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Oficina%22%2C%22textStartLine%22%3A%2264%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2264%22%2C%22textEndColumn%22%3A%2227%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Oficina"})]}),e.jsxs(E,{value:"checklist",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"69","trae-inspector-start-column":"14","trae-inspector-end-line":"69","trae-inspector-end-column":"37","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Checklists%22%2C%22textStartLine%22%3A%2269%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2269%22%2C%22textEndColumn%22%3A%2230%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Checklists"})]}),e.jsxs(E,{value:"scheduler",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"74","trae-inspector-start-column":"14","trae-inspector-end-line":"74","trae-inspector-end-column":"38","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Agendamento%22%2C%22textStartLine%22%3A%2274%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2274%22%2C%22textEndColumn%22%3A%2231%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Agendamento"})]}),e.jsxs(E,{value:"plans",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(at,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"79","trae-inspector-start-column":"14","trae-inspector-end-line":"79","trae-inspector-end-column":"33","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Planos%22%2C%22textStartLine%22%3A%2279%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2279%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Planos"})]}),e.jsxs(E,{value:"parts",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"84","trae-inspector-start-column":"14","trae-inspector-end-line":"84","trae-inspector-end-column":"32","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pe%C3%A7as%22%2C%22textStartLine%22%3A%2284%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2284%22%2C%22textEndColumn%22%3A%2225%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Peças"})]}),e.jsxs(E,{value:"test",className:"flex items-center gap-2 px-3 py-2 flex-grow sm:flex-grow-0",children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"89","trae-inspector-start-column":"14","trae-inspector-end-line":"89","trae-inspector-end-column":"37","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Teste%20APIs%22%2C%22textStartLine%22%3A%2289%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2289%22%2C%22textEndColumn%22%3A%2230%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Teste APIs"})]})]}),e.jsx(P,{value:"orders",className:"space-y-6",children:e.jsx(At,{})}),e.jsx(P,{value:"lavajato",className:"space-y-6",children:e.jsx(Nt,{})}),e.jsx(P,{value:"borracharia",className:"space-y-6",children:e.jsx(yt,{})}),e.jsxs(P,{value:"tires",className:"space-y-6",children:[e.jsx(He,{}),e.jsx(Ke,{})]}),e.jsx(P,{value:"tpms",className:"space-y-6",children:e.jsx(ft,{})}),e.jsx(P,{value:"workshop",className:"space-y-6",children:e.jsx(Dt,{})}),e.jsx(P,{value:"checklist",className:"space-y-6",children:e.jsx(_t,{})}),e.jsx(P,{value:"scheduler",className:"space-y-6",children:e.jsx(Ut,{})}),e.jsx(P,{value:"plans",className:"space-y-6",children:e.jsx(Mt,{})}),e.jsx(P,{value:"parts",className:"space-y-6",children:e.jsx(kt,{})}),e.jsx(P,{value:"test",className:"space-y-6",children:e.jsx(Et,{})})]})]})});export{Nr as default};
