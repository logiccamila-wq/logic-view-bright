import{c as Z,a as E,r as h,j as e,B,s as A,d as v,Z as De,ab as Ce,P as fe,L as re,T as be}from"./index-C8gJK6VO.js";import{T as ie,a as se,b as L,c as N}from"./tabs-C5DHGacV.js";import{C as j,a as S,b as _,d as y}from"./card-XpOOVLWI.js";import{B as P}from"./badge-CRfFogl7.js";import{u as $}from"./useQuery-CxHhq_Xn.js";import{S as z}from"./StatCard-CvR0DIEf.js";import{W as je}from"./WorkSessionPanel-BO_EFJrU.js";import{D as ye,a as Le}from"./DriverEarnings-Hli-zHpN.js";import{V as J}from"./VehicleSelect-OQhGO8Zg.js";import{D as pe,f as me,a as de,b as ue,c as ge}from"./dialog-KfbCdWZy.js";import{I as R}from"./input-D5Ccm-s1.js";import{L as b}from"./label-C3geKGxC.js";import{F as Y}from"./fuel-qhRDPDN3.js";import{S as Ne,a as Be,b as Ue,c as Se,d as M}from"./select-CgN7rKuh.js";import{C as _e}from"./checkbox-D8iz3f-4.js";import{C as he}from"./clipboard-check-BGjrGucE.js";import{B as W}from"./bell-DklMG7XH.js";import{M as T}from"./map-pin-BVXVU51t.js";import{N as xe}from"./navigation-iGwyqmKK.js";import{C as G}from"./clock-Cc7nNxD7.js";import{d as Ee,f as F}from"./format-CmB4SkOX.js";import{p as k}from"./pt-BR-D61I4qyT.js";import{T as V}from"./trending-up-DWFUeL7W.js";import{T as Re}from"./target-C5FEJZH4.js";import{S as Pe}from"./star-DK6SW-4Q.js";import{A as Fe}from"./award-W30qr8nb.js";import{S as O}from"./separator-BgqOiVPO.js";import{H as ke}from"./history-BTM_SjEN.js";import{F as He}from"./file-text-B5kgXrlL.js";import{C as q}from"./calendar-CGtyORkI.js";import{D as ve}from"./dollar-sign-C1fvDVSy.js";import{u as Te}from"./useTomTom-BR81LqCR.js";import{P as Me}from"./plus-C4B_3Olf.js";import{T as qe}from"./trash-2-DqbN6Ybf.js";import{L as we}from"./loader-circle-BUprINBZ.js";import{G as Ve}from"./GaelChatbot-DVv2eqoy.js";import{W as ae}from"./wallet-BwB4vvBx.js";import{t as ne}from"./constructFrom-rJN6zrQ_.js";import{C as Ie}from"./circle-check-big-CG-bN1l7.js";import"./index-C9UnwKLR.js";import"./textarea-Oo1gIRGr.js";import"./circle-alert-CNjLJXF5.js";import"./play-C5X1PCKG.js";import"./coffee-CiPrrFBd.js";import"./triangle-alert-Bog7h-1T.js";import"./circle-play-BDPmKDes.js";import"./demoStore-BIsfGJR8.js";import"./Combination-BQvqHitJ.js";import"./index-XPvY48Nz.js";import"./chevron-down-ChCbnXTB.js";import"./check-CMTAF2ib.js";import"./en-US-B1CXRoBY.js";import"./sparkles-Blg3jjmz.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ae=Z("receipt",ze);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],ce=Z("route",$e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Ge=Z("trophy",Oe);function oe(t,n){const d=ne(t),c=ne(n),C=le(d,c),a=Math.abs(Ee(d,c));d.setDate(d.getDate()-C*a);const p=+(le(d,c)===-C),o=C*(a-p);return o===0?0:o}function le(t,n){const d=t.getFullYear()-n.getFullYear()||t.getMonth()-n.getMonth()||t.getDate()-n.getDate()||t.getHours()-n.getHours()||t.getMinutes()-n.getMinutes()||t.getSeconds()-n.getSeconds()||t.getMilliseconds()-n.getMilliseconds();return d<0?-1:d>0?1:d}function Ke(){const{user:t}=E(),[n,d]=h.useState(!1),[c,C]=h.useState(!1),[a,p]=h.useState([]),[o,s]=h.useState({vehicle_plate:"",km:"",liters:"",total_value:""}),i=parseFloat(o.liters||"0"),m=parseFloat(o.total_value||"0"),x=parseInt(o.km||"0"),r=i>0?m/i:0,g=!!o.vehicle_plate&&x>0&&i>0&&m>0;h.useEffect(()=>{n&&(async()=>{const{data:u}=await A.from("refuelings").select("*").order("created_at",{ascending:!1}).limit(5);p(u||[])})()},[n]);const D=async l=>{l.preventDefault(),C(!0);try{const{error:u}=await A.from("refuelings").insert({driver_id:t==null?void 0:t.id,vehicle_plate:o.vehicle_plate,km:x,liters:i,total_value:m,cost_per_km:m/Math.max(x,1),price_per_liter:r});if(u)throw u;v.success("Abastecimento registrado!"),d(!1),s({vehicle_plate:"",km:"",liters:"",total_value:""})}catch(u){console.error(u),v.error("Erro ao registrar abastecimento")}finally{C(!1)}};return e.jsxs(pe,{open:n,onOpenChange:d,children:[e.jsx(me,{asChild:!0,children:e.jsxs(B,{className:"w-full",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Registrar Abastecimento"]})}),e.jsxs(de,{children:[e.jsx(ue,{children:e.jsx(ge,{children:"Lan√ßamento de Combust√≠vel"})}),e.jsxs("form",{"trae-inspector-start-line":"78","trae-inspector-start-column":"8","trae-inspector-end-line":"133","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\driver\\\\FuelExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"10","trae-inspector-end-line":"86","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\FuelExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"Placa do Ve√≠culo"}),e.jsx(J,{value:o.vehicle_plate,onChange:l=>s({...o,vehicle_plate:l}),placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"87","trae-inspector-start-column":"10","trae-inspector-end-line":"95","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\FuelExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"KM Real"}),e.jsx(R,{required:!0,type:"number",value:o.km,onChange:l=>s({...o,km:l.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"96","trae-inspector-start-column":"10","trae-inspector-end-line":"105","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\FuelExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"Litros"}),e.jsx(R,{required:!0,type:"number",step:"0.01",value:o.liters,onChange:l=>s({...o,liters:l.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"10","trae-inspector-end-line":"115","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\FuelExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"Valor Total (R$)"}),e.jsx(R,{required:!0,type:"number",step:"0.01",value:o.total_value,onChange:l=>s({...o,total_value:l.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"116","trae-inspector-start-column":"10","trae-inspector-end-line":"119","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\FuelExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"Pre√ßo por Litro (R$/L)"}),e.jsx(R,{disabled:!0,value:r>0?r.toFixed(2):""})]}),e.jsx(B,{type:"submit",className:"w-full",disabled:c||!g,children:c?"Salvando...":"Registrar"}),a.length>0&&e.jsxs("div",{"trae-inspector-start-line":"124","trae-inspector-start-column":"12","trae-inspector-end-line":"131","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\FuelExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(b,{children:"√öltimos abastecimentos"}),a.map(l=>e.jsxs("div",{"trae-inspector-start-line":"127","trae-inspector-start-column":"16","trae-inspector-end-line":"129","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\FuelExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[l.vehicle_plate," ‚Ä¢ ",l.km," km ‚Ä¢ ",l.liters," L ‚Ä¢ R$ ",Number(l.total_value||0).toFixed(2)]},l.id))]})]})]})]})}function We(){const{user:t}=E(),[n,d]=h.useState(!1),[c,C]=h.useState(!1),[a,p]=h.useState({tipo:"",descricao:"",valor:"",plate:""}),o=async s=>{s.preventDefault(),C(!0);try{const{error:i}=await A.from("contas_pagar").insert({fornecedor:"Motorista",descricao:`${a.tipo}: ${a.descricao} (Ve√≠culo: ${a.plate})`,valor:parseFloat(a.valor),data_vencimento:new Date().toISOString(),status:"pendente",categoria:"despesas_viagem",created_by:t==null?void 0:t.id});if(i)throw i;await A.from("notifications").insert({user_id:t==null?void 0:t.id,title:"Solicita√ß√£o de Despesa",message:`Motorista solicitou aprova√ß√£o de despesa: ${a.tipo} - R$ ${a.valor} - Ve√≠culo ${a.plate}`,type:"warning",module:"driver"}),v.success("Despesa enviada para aprova√ß√£o!"),d(!1),p({tipo:"",descricao:"",valor:"",plate:""})}catch(i){console.error(i),v.error("Erro ao registrar despesa")}finally{C(!1)}};return e.jsxs(pe,{open:n,onOpenChange:d,children:[e.jsx(me,{asChild:!0,children:e.jsxs(B,{variant:"outline",className:"w-full",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Registrar Despesa"]})}),e.jsxs(de,{children:[e.jsx(ue,{children:e.jsx(ge,{children:"Lan√ßamento de Despesas de Viagem"})}),e.jsxs("form",{"trae-inspector-start-line":"74","trae-inspector-start-column":"8","trae-inspector-end-line":"120","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"75","trae-inspector-start-column":"10","trae-inspector-end-line":"82","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"Ve√≠culo"}),e.jsx(J,{value:a.plate,onChange:s=>p({...a,plate:s}),placeholder:"Selecione o Ve√≠culo"})]}),e.jsxs("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"10","trae-inspector-end-line":"97","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"Tipo de Despesa"}),e.jsxs(Ne,{value:a.tipo,onValueChange:s=>p({...a,tipo:s}),children:[e.jsx(Be,{children:e.jsx(Ue,{placeholder:"Selecione..."})}),e.jsxs(Se,{children:[e.jsx(M,{value:"refeicao",children:"Refei√ß√£o (Kamoa)"}),e.jsx(M,{value:"disco_tacografo",children:"Disco de Tac√≥grafo"}),e.jsx(M,{value:"pedagio",children:"Ped√°gio"}),e.jsx(M,{value:"estacionamento",children:"Estacionamento"}),e.jsx(M,{value:"outros",children:"Outros"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"98","trae-inspector-start-column":"10","trae-inspector-end-line":"106","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"Descri√ß√£o"}),e.jsx(R,{required:!0,value:a.descricao,onChange:s=>p({...a,descricao:s.target.value}),placeholder:"Detalhe a despesa..."})]}),e.jsxs("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"10","trae-inspector-end-line":"116","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripExpenseDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{children:"Valor (R$)"}),e.jsx(R,{required:!0,type:"number",step:"0.01",value:a.valor,onChange:s=>p({...a,valor:s.target.value})})]}),e.jsx(B,{type:"submit",className:"w-full",disabled:c,children:c?"Enviando...":"Solicitar Aprova√ß√£o"})]})]})]})}const K=[{id:"pneus",label:"Verificar press√£o dos pneus"},{id:"oleo",label:"Verificar n√≠vel de √≥leo"},{id:"agua",label:"Verificar n√≠vel de √°gua"},{id:"freios",label:"Testar freios"},{id:"luzes",label:"Verificar todas as luzes"},{id:"documentos",label:"Verificar documenta√ß√£o do ve√≠culo"},{id:"carga",label:"Conferir amarra√ß√£o da carga"},{id:"extintor",label:"Verificar extintor"}];function Ze(){const{user:t}=E(),[n,d]=h.useState({}),[c,C]=h.useState(!1),[a,p]=h.useState(""),o=async()=>{if(!K.every(i=>n[i.id])){v.error("Complete todos os itens do checklist");return}if(!a){v.error("Informe a placa do ve√≠culo");return}C(!0);try{const i=K.map(x=>({id:x.id,label:x.label,checked:n[x.id],timestamp:new Date().toISOString()})),{error:m}=await A.from("maintenance_checklists").insert({vehicle_plate:a,checklist_type:"pre_trip",mechanic_id:t==null?void 0:t.id,status:"concluido",items:i,completed_at:new Date().toISOString()});if(m)throw m;v.success("Checklist conclu√≠do!"),d({}),p("")}catch(i){console.error(i),v.error("Erro ao salvar checklist")}finally{C(!1)}};return e.jsxs(j,{children:[e.jsx(S,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Checklist Pr√©-Viagem"]})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"8","trae-inspector-end-line":"90","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverChecklist.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{className:"mb-2 block",children:"Placa do Ve√≠culo"}),e.jsx(J,{value:a,onChange:p,placeholder:"Selecione a placa"})]}),e.jsx("div",{"trae-inspector-start-line":"92","trae-inspector-start-column":"8","trae-inspector-end-line":"110","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverChecklist.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:K.map(s=>e.jsxs("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"12","trae-inspector-end-line":"108","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverChecklist.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(_e,{id:s.id,checked:n[s.id]||!1,onCheckedChange:i=>d({...n,[s.id]:i})}),e.jsx("label",{"trae-inspector-start-line":"102","trae-inspector-start-column":"14","trae-inspector-end-line":"107","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverChecklist.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",htmlFor:s.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:s.label})]},s.id))}),e.jsx(B,{onClick:o,className:"w-full",disabled:c,children:c?"Salvando...":"Concluir Checklist"})]})]})}function Je(){const{user:t}=E(),{data:n,refetch:d}=$({queryKey:["driver-trips",t==null?void 0:t.id],queryFn:async()=>{const{data:C,error:a}=await A.from("trips").select(`
          *,
          cte(
            destinatario_cidade,
            destinatario_uf,
            remetente_cidade,
            remetente_uf
          )
        `).eq("driver_id",t==null?void 0:t.id).eq("status","pending").order("created_at",{ascending:!1}).limit(5);if(a)throw a;return C},enabled:!!(t!=null&&t.id)}),c=async C=>{try{const{error:a}=await A.from("trips").update({status:"in_progress"}).eq("id",C);if(a)throw a;v.success("Viagem aceita!"),d()}catch(a){console.error(a),v.error("Erro ao aceitar viagem")}};return e.jsxs(j,{children:[e.jsx(S,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Novas Viagens"]})}),e.jsx(y,{className:"space-y-3",children:n&&n.length>0?n.map(C=>e.jsx(j,{className:"border-l-4 border-l-blue-500",children:e.jsxs(y,{className:"p-4 space-y-3",children:[e.jsxs("div",{"trae-inspector-start-line":"70","trae-inspector-start-column":"16","trae-inspector-end-line":"77","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx(P,{variant:"secondary",children:C.vehicle_plate}),e.jsx(P,{children:F(new Date(C.created_at),"dd/MM HH:mm",{locale:k})})]}),C.cte&&C.cte[0]&&e.jsxs("div",{"trae-inspector-start-line":"80","trae-inspector-start-column":"18","trae-inspector-end-line":"93","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"81","trae-inspector-start-column":"20","trae-inspector-end-line":"86","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-2",children:[e.jsx(T,{className:"w-4 h-4 mt-0.5 text-green-600"}),e.jsxs("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"22","trae-inspector-end-line":"85","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"84","trae-inspector-start-column":"24","trae-inspector-end-line":"84","trae-inspector-end-column":"48","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Origem%3A%22%2C%22textStartLine%22%3A%2284%22%2C%22textStartColumn%22%3A%2232%22%2C%22textEndLine%22%3A%2284%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Origem:"})," ",C.cte[0].remetente_cidade,"/",C.cte[0].remetente_uf]})]}),e.jsxs("div",{"trae-inspector-start-line":"87","trae-inspector-start-column":"20","trae-inspector-end-line":"92","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-2",children:[e.jsx(xe,{className:"w-4 h-4 mt-0.5 text-red-600"}),e.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"22","trae-inspector-end-line":"91","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"90","trae-inspector-start-column":"24","trae-inspector-end-line":"90","trae-inspector-end-column":"49","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Destino%3A%22%2C%22textStartLine%22%3A%2290%22%2C%22textStartColumn%22%3A%2232%22%2C%22textEndLine%22%3A%2290%22%2C%22textEndColumn%22%3A%2240%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Destino:"})," ",C.cte[0].destinatario_cidade,"/",C.cte[0].destinatario_uf]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"96","trae-inspector-start-column":"16","trae-inspector-end-line":"99","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsxs("span",{"trae-inspector-start-line":"98","trae-inspector-start-column":"18","trae-inspector-end-line":"98","trae-inspector-end-column":"130","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["In√≠cio previsto: ",F(new Date(C.departure_date),"dd/MM/yyyy '√†s' HH:mm",{locale:k})]})]}),e.jsx(B,{onClick:()=>c(C.id),className:"w-full",size:"sm",children:"Aceitar Viagem"})]})},C.id)):e.jsxs("div",{"trae-inspector-start-line":"112","trae-inspector-start-column":"10","trae-inspector-end-line":"115","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(W,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"114","trae-inspector-start-column":"12","trae-inspector-end-line":"114","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\driver\\\\TripAlerts.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20viagem%20pendente%22%2C%22textStartLine%22%3A%22114%22%2C%22textStartColumn%22%3A%2235%22%2C%22textEndLine%22%3A%22114%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Nenhuma viagem pendente"})]})})]})}const Ye=()=>{const{user:t}=E(),[n,d]=h.useState({onTimeDeliveries:0,totalTrips:0,averageRating:0,totalKm:0,violations:0}),[c,C]=h.useState([]);h.useEffect(()=>{a()},[t]);const a=async()=>{var u;if(!t)return;const{data:o}=await A.from("driver_work_sessions").select("*").eq("driver_id",t.id).eq("status","finalizada"),{data:s}=await A.from("driver_violations").select("*").eq("driver_id",t.id).eq("resolvida",!1),{data:i}=await A.from("refuelings").select("km").eq("driver_id",t.id).order("km",{ascending:!1}).limit(1),m=(o==null?void 0:o.length)||0,x=((u=i==null?void 0:i[0])==null?void 0:u.km)||0,r=(s==null?void 0:s.length)||0,g=r===0?.98:Math.max(.85,1-r*.05);d({onTimeDeliveries:Math.round(m*g),totalTrips:m,averageRating:4.8,totalKm:x,violations:r});const D=[];m>=100&&D.push({id:1,icon:"‚ö°",title:"100 Entregas",description:"Sem atrasos",achieved:!0}),r===0&&m>=10&&D.push({id:2,icon:"üåü",title:"5 Estrelas",description:`${m} avalia√ß√µes`,achieved:!0});const l=new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"});g>=.95&&D.push({id:3,icon:"üèÜ",title:"Motorista do M√™s",description:l,achieved:!0}),C(D)},p=n.totalTrips>0?Math.round(n.onTimeDeliveries/n.totalTrips*100):0;return e.jsxs("div",{"trae-inspector-start-line":"105","trae-inspector-start-column":"4","trae-inspector-end-line":"196","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs(j,{children:[e.jsx(S,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Desempenho"]})}),e.jsx(y,{className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"114","trae-inspector-start-column":"10","trae-inspector-end-line":"158","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"115","trae-inspector-start-column":"12","trae-inspector-end-line":"124","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[e.jsxs("div",{"trae-inspector-start-line":"116","trae-inspector-start-column":"14","trae-inspector-end-line":"119","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{"trae-inspector-start-line":"118","trae-inspector-start-column":"16","trae-inspector-end-line":"118","trae-inspector-end-column":"88","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Entregas%20no%20Prazo%22%2C%22textStartLine%22%3A%22118%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22118%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Entregas no Prazo"})]}),e.jsxs("p",{"trae-inspector-start-line":"120","trae-inspector-start-column":"14","trae-inspector-end-line":"120","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold text-green-600",children:[p,"%"]}),e.jsxs("p",{"trae-inspector-start-line":"121","trae-inspector-start-column":"14","trae-inspector-end-line":"123","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[n.onTimeDeliveries," de ",n.totalTrips," viagens"]})]}),e.jsxs("div",{"trae-inspector-start-line":"126","trae-inspector-start-column":"12","trae-inspector-end-line":"135","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 p-4 bg-yellow-500/10 rounded-lg border border-yellow-500/20",children:[e.jsxs("div",{"trae-inspector-start-line":"127","trae-inspector-start-column":"14","trae-inspector-end-line":"130","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{"trae-inspector-start-line":"129","trae-inspector-start-column":"16","trae-inspector-end-line":"129","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Avalia%C3%A7%C3%A3o%20M%C3%A9dia%22%2C%22textStartLine%22%3A%22129%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22129%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Avalia√ß√£o M√©dia"})]}),e.jsxs("p",{"trae-inspector-start-line":"131","trae-inspector-start-column":"14","trae-inspector-end-line":"131","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold text-yellow-600",children:[n.averageRating," ‚≠ê"]}),e.jsxs("p",{"trae-inspector-start-line":"132","trae-inspector-start-column":"14","trae-inspector-end-line":"134","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["Baseado em ",n.totalTrips," viagens"]})]}),e.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"12","trae-inspector-end-line":"146","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 p-4 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[e.jsxs("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"14","trae-inspector-end-line":"141","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{"trae-inspector-start-line":"140","trae-inspector-start-column":"16","trae-inspector-end-line":"140","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Km%20Rodados%22%2C%22textStartLine%22%3A%22140%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22140%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Km Rodados"})]}),e.jsxs("p",{"trae-inspector-start-line":"142","trae-inspector-start-column":"14","trae-inspector-end-line":"144","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold text-blue-600",children:[(n.totalKm/1e3).toFixed(1)," mil km"]}),e.jsx("p",{"trae-inspector-start-line":"145","trae-inspector-start-column":"14","trae-inspector-end-line":"145","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Total%20acumulado%22%2C%22textStartLine%22%3A%22145%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22145%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Total acumulado"})]}),e.jsxs("div",{"trae-inspector-start-line":"148","trae-inspector-start-column":"12","trae-inspector-end-line":"157","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 p-4 bg-red-500/10 rounded-lg border border-red-500/20",children:[e.jsxs("div",{"trae-inspector-start-line":"149","trae-inspector-start-column":"14","trae-inspector-end-line":"152","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{"trae-inspector-start-line":"151","trae-inspector-start-column":"16","trae-inspector-end-line":"151","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Viola%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22151%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22151%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Viola√ß√µes"})]}),e.jsx("p",{"trae-inspector-start-line":"153","trae-inspector-start-column":"14","trae-inspector-end-line":"153","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold text-red-600",children:n.violations}),e.jsx("p",{"trae-inspector-start-line":"154","trae-inspector-start-column":"14","trae-inspector-end-line":"156","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:n.violations===0?"Parab√©ns!":"Pendentes"})]})]})})]}),e.jsxs(j,{children:[e.jsx(S,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Conquistas"]})}),e.jsx(y,{children:c.length>0?e.jsx("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"12","trae-inspector-end-line":"187","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(o=>e.jsxs("div",{"trae-inspector-start-line":"173","trae-inspector-start-column":"16","trae-inspector-end-line":"185","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:[e.jsx("div",{"trae-inspector-start-line":"177","trae-inspector-start-column":"18","trae-inspector-end-line":"177","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-4xl mb-2",children:o.icon}),e.jsx("h4",{"trae-inspector-start-line":"178","trae-inspector-start-column":"18","trae-inspector-end-line":"178","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold mb-1",children:o.title}),e.jsx("p",{"trae-inspector-start-line":"179","trae-inspector-start-column":"18","trae-inspector-end-line":"179","trae-inspector-end-column":"92","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:o.description}),o.achieved&&e.jsx(P,{variant:"default",className:"mt-2",children:"Conquistado"})]},o.id))}):e.jsxs("div",{"trae-inspector-start-line":"189","trae-inspector-start-column":"12","trae-inspector-end-line":"192","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(Fe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"191","trae-inspector-start-column":"14","trae-inspector-end-line":"191","trae-inspector-end-column":"70","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPerformance.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Continue%20trabalhando%20para%20desbloquear%20conquistas!%22%2C%22textStartLine%22%3A%22191%22%2C%22textStartColumn%22%3A%2217%22%2C%22textEndLine%22%3A%22191%22%2C%22textEndColumn%22%3A%2266%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Continue trabalhando para desbloquear conquistas!"})]})})]})]})},Qe=()=>{const{user:t}=E(),[n,d]=h.useState([]),[c,C]=h.useState(!0);h.useEffect(()=>{a()},[t]);const a=async()=>{if(!t)return;const{data:i,error:m}=await A.from("driver_payroll").select("*").eq("driver_id",t.id).order("ano",{ascending:!1}).order("mes",{ascending:!1}).limit(12);i&&d(i),C(!1)},p=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i),o=(i,m)=>{const x=new Date(m,i-1,1);return F(x,"MMMM 'de' yyyy",{locale:k})},s=i=>{const m={calculado:{variant:"secondary",label:"Calculado"},aprovado:{variant:"default",label:"Aprovado"},pago:{variant:"outline",label:"Pago"},pendente:{variant:"destructive",label:"Pendente"}},x=m[i]||m.calculado;return e.jsx(P,{variant:x.variant,children:x.label})};return e.jsxs(j,{children:[e.jsx(S,{children:e.jsxs("div",{"trae-inspector-start-line":"65","trae-inspector-start-column":"8","trae-inspector-end-line":"74","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Mem√≥ria de C√°lculos"]}),e.jsxs(P,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(He,{className:"h-3 w-3"}),"√öltimos 12 meses"]})]})}),e.jsx(y,{children:e.jsx(Ce,{className:"h-[600px] pr-4",children:c?e.jsx("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"12","trae-inspector-end-line":"81","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20hist%C3%B3rico...%22%2C%22textStartLine%22%3A%2279%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%2281%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:"Carregando hist√≥rico..."}):n.length>0?e.jsx("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"12","trae-inspector-end-line":"185","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:n.map(i=>e.jsxs("div",{"trae-inspector-start-line":"85","trae-inspector-start-column":"16","trae-inspector-end-line":"183","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"18","trae-inspector-end-line":"102","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{"trae-inspector-start-line":"90","trae-inspector-start-column":"20","trae-inspector-end-line":"100","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"22","trae-inspector-end-line":"96","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-1",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("h4",{"trae-inspector-start-line":"93","trae-inspector-start-column":"24","trae-inspector-end-line":"95","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold capitalize",children:o(i.mes,i.ano)})]}),e.jsxs("p",{"trae-inspector-start-line":"97","trae-inspector-start-column":"22","trae-inspector-end-line":"99","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["Calculado em ",F(new Date(i.created_at),"dd/MM/yyyy '√†s' HH:mm",{locale:k})]})]}),s(i.status)]}),e.jsx(O,{className:"my-3"}),e.jsxs("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"18","trae-inspector-end-line":"182","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"20","trae-inspector-end-line":"132","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{"trae-inspector-start-line":"108","trae-inspector-start-column":"22","trae-inspector-end-line":"113","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"109","trae-inspector-start-column":"24","trae-inspector-end-line":"109","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sal%C3%A1rio%20Base%22%2C%22textStartLine%22%3A%22109%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22109%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Sal√°rio Base"}),e.jsx("p",{"trae-inspector-start-line":"110","trae-inspector-start-column":"24","trae-inspector-end-line":"112","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:p(i.salario_base)})]}),e.jsxs("div",{"trae-inspector-start-line":"114","trae-inspector-start-column":"22","trae-inspector-end-line":"119","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"115","trae-inspector-start-column":"24","trae-inspector-end-line":"115","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Horas%20Normais%22%2C%22textStartLine%22%3A%22115%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22115%22%2C%22textEndColumn%22%3A%2282%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Horas Normais"}),e.jsx("p",{"trae-inspector-start-line":"116","trae-inspector-start-column":"24","trae-inspector-end-line":"118","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:p(i.valor_horas_normais)})]}),e.jsxs("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"22","trae-inspector-end-line":"125","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"121","trae-inspector-start-column":"24","trae-inspector-end-line":"121","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Horas%20Extras%22%2C%22textStartLine%22%3A%22121%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22121%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Horas Extras"}),e.jsxs("p",{"trae-inspector-start-line":"122","trae-inspector-start-column":"24","trae-inspector-end-line":"124","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold text-green-600",children:["+",p(i.valor_horas_extras)]})]}),e.jsxs("div",{"trae-inspector-start-line":"126","trae-inspector-start-column":"22","trae-inspector-end-line":"131","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"127","trae-inspector-start-column":"24","trae-inspector-end-line":"127","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Horas%20Espera%22%2C%22textStartLine%22%3A%22127%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22127%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Horas Espera"}),e.jsx("p",{"trae-inspector-start-line":"128","trae-inspector-start-column":"24","trae-inspector-end-line":"130","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:p(i.valor_horas_espera)})]})]}),e.jsx(O,{className:"my-2"}),e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"20","trae-inspector-end-line":"161","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"22","trae-inspector-end-line":"142","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"138","trae-inspector-start-column":"24","trae-inspector-end-line":"138","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Total%20CT-e%22%2C%22textStartLine%22%3A%22138%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22138%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Total CT-e"}),e.jsx("p",{"trae-inspector-start-line":"139","trae-inspector-start-column":"24","trae-inspector-end-line":"141","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:p(i.total_valor_ctes)})]}),e.jsxs("div",{"trae-inspector-start-line":"143","trae-inspector-start-column":"22","trae-inspector-end-line":"148","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"144","trae-inspector-start-column":"24","trae-inspector-end-line":"144","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Combust%C3%ADvel%22%2C%22textStartLine%22%3A%22144%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22144%22%2C%22textEndColumn%22%3A%2280%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Combust√≠vel"}),e.jsxs("p",{"trae-inspector-start-line":"145","trae-inspector-start-column":"24","trae-inspector-end-line":"147","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold text-red-600",children:["-",p(i.total_combustivel)]})]}),e.jsxs("div",{"trae-inspector-start-line":"149","trae-inspector-start-column":"22","trae-inspector-end-line":"154","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"150","trae-inspector-start-column":"24","trae-inspector-end-line":"150","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Base%20Gratifica%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22150%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22150%22%2C%22textEndColumn%22%3A%2286%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Base Gratifica√ß√£o"}),e.jsx("p",{"trae-inspector-start-line":"151","trae-inspector-start-column":"24","trae-inspector-end-line":"153","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:p(i.base_calculo_gratificacao)})]}),e.jsxs("div",{"trae-inspector-start-line":"155","trae-inspector-start-column":"22","trae-inspector-end-line":"160","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"156","trae-inspector-start-column":"24","trae-inspector-end-line":"156","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gratifica%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22156%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22156%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Gratifica√ß√£o"}),e.jsxs("p",{"trae-inspector-start-line":"157","trae-inspector-start-column":"24","trae-inspector-end-line":"159","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold text-green-600",children:["+",p(i.valor_gratificacao)]})]})]}),e.jsx(O,{className:"my-2"}),e.jsxs("div",{"trae-inspector-start-line":"165","trae-inspector-start-column":"20","trae-inspector-end-line":"173","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between p-3 bg-primary/10 rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"22","trae-inspector-end-line":"169","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"168","trae-inspector-start-column":"24","trae-inspector-end-line":"168","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Total%20L%C3%ADquido%22%2C%22textStartLine%22%3A%22168%22%2C%22textStartColumn%22%3A%2256%22%2C%22textEndLine%22%3A%22168%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Total L√≠quido"})]}),e.jsx("span",{"trae-inspector-start-line":"170","trae-inspector-start-column":"22","trae-inspector-end-line":"172","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-bold text-primary",children:p(i.total_liquido)})]}),i.observacoes&&e.jsx("div",{"trae-inspector-start-line":"176","trae-inspector-start-column":"22","trae-inspector-end-line":"180","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-2 p-2 bg-muted/50 rounded text-xs",children:e.jsxs("p",{"trae-inspector-start-line":"177","trae-inspector-start-column":"24","trae-inspector-end-line":"179","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[e.jsx("strong",{"trae-inspector-start-line":"178","trae-inspector-start-column":"26","trae-inspector-end-line":"178","trae-inspector-end-column":"47","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Obs%3A%22%2C%22textStartLine%22%3A%22178%22%2C%22textStartColumn%22%3A%2234%22%2C%22textEndLine%22%3A%22178%22%2C%22textEndColumn%22%3A%2238%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Obs:"})," ",i.observacoes]})})]})]},i.id))}):e.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"12","trae-inspector-end-line":"190","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(V,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"189","trae-inspector-start-column":"14","trae-inspector-end-line":"189","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverPayrollHistory.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20hist%C3%B3rico%20de%20pagamento%20encontrado%22%2C%22textStartLine%22%3A%22189%22%2C%22textStartColumn%22%3A%2217%22%2C%22textEndLine%22%3A%22189%22%2C%22textEndColumn%22%3A%2257%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhum hist√≥rico de pagamento encontrado"})]})})})]})},Xe=()=>{const{user:t}=E(),[n,d]=h.useState([]),[c,C]=h.useState(!0);h.useEffect(()=>{a()},[t]);const a=async()=>{if(!t)return;const{data:s}=await A.from("driver_work_sessions").select("*").eq("driver_id",t.id).eq("status","finalizada").not("trip_id","is",null).order("data_inicio",{ascending:!1}).limit(20);if(!s){C(!1);return}const i=[];for(const m of s){const{data:x}=await A.from("cte").select("*").eq("trip_id",m.trip_id),{data:r}=await A.from("refuelings").select("*").eq("driver_id",t.id).gte("timestamp",m.data_inicio).lte("timestamp",m.data_fim||new Date().toISOString()),g=(x==null?void 0:x.reduce((u,f)=>u+Number(f.valor_total),0))||0,D=(r==null?void 0:r.reduce((u,f)=>u+Number(f.total_value),0))||0,l=g-D;i.push({session:m,ctes:x||[],refuelings:r||[],totalRevenue:g,totalFuel:D,netValue:l})}d(i),C(!1)},p=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),o=s=>{if(s.length===0)return{origin:"N/A",destination:"N/A"};const i=s[0],m=s[s.length-1];return{origin:`${i.remetente_cidade}/${i.remetente_uf}`,destination:`${m.destinatario_cidade}/${m.destinatario_uf}`}};return e.jsxs(j,{children:[e.jsx(S,{children:e.jsxs("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"8","trae-inspector-end-line":"112","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Rotas & Financeiro"]}),e.jsx(P,{variant:"outline",children:"√öltimas 20 viagens"})]})}),e.jsx(y,{children:e.jsx(Ce,{className:"h-[600px] pr-4",children:c?e.jsx("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"12","trae-inspector-end-line":"119","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20rotas...%22%2C%22textStartLine%22%3A%22117%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22119%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:"Carregando rotas..."}):n.length>0?e.jsx("div",{"trae-inspector-start-line":"121","trae-inspector-start-column":"12","trae-inspector-end-line":"217","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:n.map((s,i)=>{const{origin:m,destination:x}=o(s.ctes);return e.jsxs("div",{"trae-inspector-start-line":"126","trae-inspector-start-column":"18","trae-inspector-end-line":"214","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{"trae-inspector-start-line":"130","trae-inspector-start-column":"20","trae-inspector-end-line":"154","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between mb-3",children:e.jsxs("div",{"trae-inspector-start-line":"131","trae-inspector-start-column":"22","trae-inspector-end-line":"153","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"132","trae-inspector-start-column":"24","trae-inspector-end-line":"135","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-2",children:[e.jsx(T,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{"trae-inspector-start-line":"134","trae-inspector-start-column":"26","trae-inspector-end-line":"134","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:["Viagem #",n.length-i]})]}),e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"24","trae-inspector-end-line":"152","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1 text-sm",children:[e.jsxs("p",{"trae-inspector-start-line":"137","trae-inspector-start-column":"26","trae-inspector-end-line":"139","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[e.jsx("strong",{"trae-inspector-start-line":"138","trae-inspector-start-column":"28","trae-inspector-end-line":"138","trae-inspector-end-column":"52","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Origem%3A%22%2C%22textStartLine%22%3A%22138%22%2C%22textStartColumn%22%3A%2236%22%2C%22textEndLine%22%3A%22138%22%2C%22textEndColumn%22%3A%2243%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Origem:"})," ",m]}),e.jsxs("p",{"trae-inspector-start-line":"140","trae-inspector-start-column":"26","trae-inspector-end-line":"142","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[e.jsx("strong",{"trae-inspector-start-line":"141","trae-inspector-start-column":"28","trae-inspector-end-line":"141","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Destino%3A%22%2C%22textStartLine%22%3A%22141%22%2C%22textStartColumn%22%3A%2236%22%2C%22textEndLine%22%3A%22141%22%2C%22textEndColumn%22%3A%2244%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Destino:"})," ",x]}),e.jsxs("p",{"trae-inspector-start-line":"143","trae-inspector-start-column":"26","trae-inspector-end-line":"145","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[e.jsx("strong",{"trae-inspector-start-line":"144","trae-inspector-start-column":"28","trae-inspector-end-line":"144","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%3A%22%2C%22textStartLine%22%3A%22144%22%2C%22textStartColumn%22%3A%2236%22%2C%22textEndLine%22%3A%22144%22%2C%22textEndColumn%22%3A%2244%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Ve√≠culo:"})," ",s.session.vehicle_plate]}),e.jsxs("p",{"trae-inspector-start-line":"146","trae-inspector-start-column":"26","trae-inspector-end-line":"151","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[F(new Date(s.session.data_inicio),"dd/MM/yyyy",{locale:k}),s.session.data_fim&&` - ${F(new Date(s.session.data_fim),"dd/MM/yyyy",{locale:k})}`]})]})]})}),e.jsx(O,{className:"my-3"}),e.jsxs("div",{"trae-inspector-start-line":"158","trae-inspector-start-column":"20","trae-inspector-end-line":"184","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{"trae-inspector-start-line":"159","trae-inspector-start-column":"22","trae-inspector-end-line":"170","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-3 bg-green-500/10 rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"160","trae-inspector-start-column":"24","trae-inspector-end-line":"163","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-1",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{"trae-inspector-start-line":"162","trae-inspector-start-column":"26","trae-inspector-end-line":"162","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CT-es%22%2C%22textStartLine%22%3A%22162%22%2C%22textStartColumn%22%3A%2274%22%2C%22textEndLine%22%3A%22162%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"CT-es"})]}),e.jsx("p",{"trae-inspector-start-line":"164","trae-inspector-start-column":"24","trae-inspector-end-line":"166","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-bold text-green-600",children:s.ctes.length}),e.jsx("p",{"trae-inspector-start-line":"167","trae-inspector-start-column":"24","trae-inspector-end-line":"169","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:p(s.totalRevenue)})]}),e.jsxs("div",{"trae-inspector-start-line":"172","trae-inspector-start-column":"22","trae-inspector-end-line":"183","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-3 bg-red-500/10 rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"173","trae-inspector-start-column":"24","trae-inspector-end-line":"176","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-1",children:[e.jsx(Y,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{"trae-inspector-start-line":"175","trae-inspector-start-column":"26","trae-inspector-end-line":"175","trae-inspector-end-column":"92","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Combust%C3%ADvel%22%2C%22textStartLine%22%3A%22175%22%2C%22textStartColumn%22%3A%2274%22%2C%22textEndLine%22%3A%22175%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Combust√≠vel"})]}),e.jsxs("p",{"trae-inspector-start-line":"177","trae-inspector-start-column":"24","trae-inspector-end-line":"179","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-bold text-red-600",children:[s.refuelings.length,"x"]}),e.jsx("p",{"trae-inspector-start-line":"180","trae-inspector-start-column":"24","trae-inspector-end-line":"182","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:p(s.totalFuel)})]})]}),e.jsxs("div",{"trae-inspector-start-line":"186","trae-inspector-start-column":"20","trae-inspector-end-line":"194","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between p-3 bg-primary/10 rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"22","trae-inspector-end-line":"190","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"189","trae-inspector-start-column":"24","trae-inspector-end-line":"189","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Valor%20L%C3%ADquido%22%2C%22textStartLine%22%3A%22189%22%2C%22textStartColumn%22%3A%2256%22%2C%22textEndLine%22%3A%22189%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Valor L√≠quido"})]}),e.jsx("span",{"trae-inspector-start-line":"191","trae-inspector-start-column":"22","trae-inspector-end-line":"193","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`text-lg font-bold ${s.netValue>=0?"text-green-600":"text-red-600"}`,children:p(s.netValue)})]}),s.ctes.length>0&&e.jsxs("div",{"trae-inspector-start-line":"197","trae-inspector-start-column":"22","trae-inspector-end-line":"212","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-3 space-y-1",children:[e.jsx("p",{"trae-inspector-start-line":"198","trae-inspector-start-column":"24","trae-inspector-end-line":"198","trae-inspector-end-column":"104","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CT-es%20desta%20rota%3A%22%2C%22textStartLine%22%3A%22198%22%2C%22textStartColumn%22%3A%2283%22%2C%22textEndLine%22%3A%22198%22%2C%22textEndColumn%22%3A%22100%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs font-semibold text-muted-foreground",children:"CT-es desta rota:"}),e.jsx("div",{"trae-inspector-start-line":"199","trae-inspector-start-column":"24","trae-inspector-end-line":"211","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:s.ctes.map(r=>e.jsxs("div",{"trae-inspector-start-line":"201","trae-inspector-start-column":"28","trae-inspector-end-line":"209","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs p-2 bg-muted/30 rounded",children:[e.jsx("span",{"trae-inspector-start-line":"202","trae-inspector-start-column":"30","trae-inspector-end-line":"202","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-mono",children:r.numero_cte})," - ",e.jsxs("span",{"trae-inspector-start-line":"204","trae-inspector-start-column":"30","trae-inspector-end-line":"206","trae-inspector-end-column":"37","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[r.remetente_cidade,"/",r.remetente_uf," ‚Üí ",r.destinatario_cidade,"/",r.destinatario_uf]})," - ",e.jsx("span",{"trae-inspector-start-line":"208","trae-inspector-start-column":"30","trae-inspector-end-line":"208","trae-inspector-end-column":"102","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:p(r.valor_total)})]},r.id))})]})]},s.session.id)})}):e.jsxs("div",{"trae-inspector-start-line":"219","trae-inspector-start-column":"12","trae-inspector-end-line":"222","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(ce,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"221","trae-inspector-start-column":"14","trae-inspector-end-line":"221","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DriverRouteFinancial.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20rota%20com%20dados%20financeiros%20encontrada%22%2C%22textStartLine%22%3A%22221%22%2C%22textStartColumn%22%3A%2217%22%2C%22textEndLine%22%3A%22221%22%2C%22textEndColumn%22%3A%2262%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhuma rota com dados financeiros encontrada"})]})})})]})};function et(){const{geocode:t,calculateRoute:n,loading:d}=Te(),[c,C]=h.useState({address:""}),[a,p]=h.useState([{address:""}]),[o,s]=h.useState(null),[i,m]=h.useState(!1),x=()=>{p([...a,{address:""}])},r=l=>{a.length>1&&p(a.filter((u,f)=>f!==l))},g=(l,u)=>{const f=[...a];f[l].address=u,p(f)},D=async()=>{if(!c.address.trim()){v.error("Informe o endere√ßo de origem");return}const l=a.filter(u=>u.address.trim());if(l.length===0){v.error("Informe pelo menos um endere√ßo de entrega");return}m(!0),s(null);try{v.info("Buscando endere√ßo de origem...");const u=await t(c.address);if(!u){v.error("Endere√ßo de origem n√£o encontrado"),m(!1);return}const f={lat:u.position.lat,lng:u.position.lon,address:u.address.freeformAddress};C(w=>({...w,lat:f.lat,lng:f.lng})),v.info("Buscando endere√ßos de entrega...");const I=[];for(let w=0;w<l.length;w++){const U=await t(l[w].address);if(!U){v.warning(`Entrega ${w+1}: endere√ßo n√£o encontrado, pulando...`);continue}I.push({lat:U.position.lat,lng:U.position.lon,address:U.address.freeformAddress,originalIndex:a.indexOf(l[w])})}if(I.length===0){v.error("Nenhum endere√ßo de entrega v√°lido encontrado"),m(!1);return}const Q=[...a];I.forEach(w=>{Q[w.originalIndex]={address:w.address,lat:w.lat,lng:w.lng}}),p(Q),v.info("Calculando rota otimizada...");const H=[f,...I],X=[];let ee=0,te=0;for(let w=0;w<H.length-1;w++){const U=await n({lat:H[w].lat,lng:H[w].lng},{lat:H[w+1].lat,lng:H[w+1].lng},"truck");U&&(ee+=U.distance,te+=U.duration,X.push({from:H[w].address,to:H[w+1].address,distance:U.distance,duration:U.duration}))}s({totalDistance:ee,totalDuration:te,segments:X}),v.success("Rota calculada com sucesso!")}catch(u){console.error("Erro ao calcular rota:",u),v.error("Erro ao calcular rota")}finally{m(!1)}};return e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"4","trae-inspector-end-line":"307","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs(j,{children:[e.jsx(S,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-green-500"}),"Origem da Viagem"]})}),e.jsx(y,{children:e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"10","trae-inspector-end-line":"182","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:[e.jsxs("div",{"trae-inspector-start-line":"167","trae-inspector-start-column":"12","trae-inspector-end-line":"176","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(b,{htmlFor:"origin",children:"Endere√ßo de Origem"}),e.jsx(R,{id:"origin",value:c.address,onChange:l=>C({address:l.target.value}),placeholder:"Ex: Av. Paulista, 1000 - S√£o Paulo, SP",disabled:i})]}),c.lat&&c.lng&&e.jsxs("div",{"trae-inspector-start-line":"178","trae-inspector-start-column":"14","trae-inspector-end-line":"180","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground bg-muted p-2 rounded",children:["üìç Coordenadas: ",c.lat.toFixed(6),", ",c.lng.toFixed(6)]})]})})]}),e.jsxs(j,{children:[e.jsx(S,{children:e.jsxs(_,{className:"flex items-center justify-between",children:[e.jsxs("span",{"trae-inspector-start-line":"189","trae-inspector-start-column":"12","trae-inspector-end-line":"192","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-blue-500"}),"Entregas"]}),e.jsxs(B,{size:"sm",onClick:x,disabled:i,children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})}),e.jsx(y,{className:"space-y-4",children:a.map((l,u)=>e.jsxs("div",{"trae-inspector-start-line":"201","trae-inspector-start-column":"12","trae-inspector-end-line":"226","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"202","trae-inspector-start-column":"14","trae-inspector-end-line":"214","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs(b,{children:["Entrega ",u+1]}),a.length>1&&e.jsx(B,{size:"sm",variant:"ghost",onClick:()=>r(u),disabled:i,children:e.jsx(qe,{className:"h-4 w-4 text-destructive"})})]}),e.jsx(R,{value:l.address,onChange:f=>g(u,f.target.value),placeholder:"Ex: Rua Augusta, 500 - S√£o Paulo, SP",disabled:i}),l.lat&&l.lng&&e.jsxs("div",{"trae-inspector-start-line":"222","trae-inspector-start-column":"16","trae-inspector-end-line":"224","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground bg-muted p-2 rounded",children:["üìç Coordenadas: ",l.lat.toFixed(6),", ",l.lng.toFixed(6)]})]},u))})]}),e.jsx(B,{className:"w-full",size:"lg",onClick:D,disabled:i||d,children:i||d?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-5 w-5 mr-2 animate-spin"}),"Calculando rota..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-5 w-5 mr-2"}),"Calcular Rota Otimizada"]})}),o&&e.jsxs(j,{className:"border-primary",children:[e.jsx(S,{children:e.jsx(_,{children:"Resumo da Rota"})}),e.jsxs(y,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"256","trae-inspector-start-column":"12","trae-inspector-end-line":"276","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"257","trae-inspector-start-column":"14","trae-inspector-end-line":"265","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"258","trae-inspector-start-column":"16","trae-inspector-end-line":"261","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(V,{className:"h-4 w-4"}),"Dist√¢ncia Total"]}),e.jsxs("div",{"trae-inspector-start-line":"262","trae-inspector-start-column":"16","trae-inspector-end-line":"264","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:[(o.totalDistance/1e3).toFixed(1)," km"]})]}),e.jsxs("div",{"trae-inspector-start-line":"266","trae-inspector-start-column":"14","trae-inspector-end-line":"275","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"267","trae-inspector-start-column":"16","trae-inspector-end-line":"270","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(G,{className:"h-4 w-4"}),"Tempo Estimado"]}),e.jsxs("div",{"trae-inspector-start-line":"271","trae-inspector-start-column":"16","trae-inspector-end-line":"274","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:[Math.floor(o.totalDuration/3600),"h"," ",Math.floor(o.totalDuration%3600/60),"min"]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"12","trae-inspector-end-line":"303","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border-t pt-4",children:[e.jsx("h4",{"trae-inspector-start-line":"279","trae-inspector-start-column":"14","trae-inspector-end-line":"279","trae-inspector-end-column":"71","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Segmentos%20da%20Rota%22%2C%22textStartLine%22%3A%22279%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22279%22%2C%22textEndColumn%22%3A%2266%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold mb-3",children:"Segmentos da Rota"}),e.jsx("div",{"trae-inspector-start-line":"280","trae-inspector-start-column":"14","trae-inspector-end-line":"302","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:o.segments.map((l,u)=>e.jsxs("div",{"trae-inspector-start-line":"282","trae-inspector-start-column":"18","trae-inspector-end-line":"300","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-3 p-3 bg-muted rounded-lg text-sm",children:[e.jsx("div",{"trae-inspector-start-line":"286","trae-inspector-start-column":"20","trae-inspector-end-line":"288","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold",children:u+1}),e.jsxs("div",{"trae-inspector-start-line":"289","trae-inspector-start-column":"20","trae-inspector-end-line":"299","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 space-y-1",children:[e.jsxs("div",{"trae-inspector-start-line":"290","trae-inspector-start-column":"22","trae-inspector-end-line":"292","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:[l.from," ‚Üí ",l.to]}),e.jsxs("div",{"trae-inspector-start-line":"293","trae-inspector-start-column":"22","trae-inspector-end-line":"298","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground flex gap-4",children:[e.jsxs("span",{"trae-inspector-start-line":"294","trae-inspector-start-column":"24","trae-inspector-end-line":"294","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[(l.distance/1e3).toFixed(1)," km"]}),e.jsxs("span",{"trae-inspector-start-line":"295","trae-inspector-start-column":"24","trae-inspector-end-line":"297","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\components\\\\driver\\\\DeliveryRouting.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[Math.floor(l.duration/60)," min"]})]})]})]},u))})]})]})]})]})}function tt(){const{user:t}=E(),[n,d]=h.useState(!1),c=h.useRef(null);h.useEffect(()=>()=>{c.current!=null&&navigator.geolocation.clearWatch(c.current)},[]);const C=()=>{t&&(c.current=navigator.geolocation.watchPosition(async p=>{const{latitude:o,longitude:s}=p.coords;await A.from("vehicle_tracking").insert({driver_id:t.id,vehicle_plate:null,latitude:o,longitude:s,speed_kmh:null,recorded_at:new Date().toISOString()})},()=>{},{enableHighAccuracy:!0,maximumAge:1e4,timeout:2e4}),d(!0))},a=()=>{c.current!=null&&navigator.geolocation.clearWatch(c.current),c.current=null,d(!1)};return e.jsx("div",{"trae-inspector-start-line":"33","trae-inspector-start-column":"4","trae-inspector-end-line":"35","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\driver\\\\LiveLocationToggle.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:e.jsx(B,{variant:n?"destructive":"modern",onClick:n?a:C,children:n?"Parar Localiza√ß√£o Ao Vivo":"Iniciar Localiza√ß√£o Ao Vivo"})})}function tr(){const{user:t}=E(),{data:n,isLoading:d}=$({queryKey:["active-session",t==null?void 0:t.id],queryFn:async()=>{const{data:r,error:g}=await A.from("driver_work_sessions").select("*").eq("driver_id",t==null?void 0:t.id).eq("status","em_andamento").single();if(g&&g.code!=="PGRST116")throw g;return r},enabled:!!(t!=null&&t.id)}),{data:c,isLoading:C,refetch:a}=$({queryKey:["daily-allowances",t==null?void 0:t.id],queryFn:async()=>{const{data:r,error:g}=await A.from("driver_work_sessions").select("*").eq("driver_id",t==null?void 0:t.id).eq("status","finalizada").order("data_inicio",{ascending:!1}).limit(10);if(g)throw g;return r||[]},enabled:!!(t!=null&&t.id)}),{data:p,isLoading:o}=$({queryKey:["monthly-earnings",t==null?void 0:t.id],queryFn:async()=>{const r=new Date,{data:g,error:D}=await A.from("driver_payroll").select("*").eq("driver_id",t==null?void 0:t.id).eq("mes",r.getMonth()+1).eq("ano",r.getFullYear()).maybeSingle();if(D)throw D;return g},enabled:!!(t!=null&&t.id)}),s=r=>{if(!r.data_inicio||!r.data_fim)return 0;const g=new Date(r.data_inicio),D=new Date(r.data_fim);return oe(D,g)*80},i=async r=>{try{const{error:g}=await A.from("notifications").insert({user_id:t==null?void 0:t.id,title:"Solicita√ß√£o de Di√°ria",message:`Motorista solicitou aprova√ß√£o de di√°ria da viagem ${r}`,type:"info",module:"driver"});if(g)throw g;v.success("Solicita√ß√£o enviada!",{description:"Seu pedido de di√°ria foi enviado para aprova√ß√£o"}),a()}catch(g){console.error("Erro ao solicitar aprova√ß√£o:",g),v.error("Erro ao enviar solicita√ß√£o")}},m=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r);if(d||C||o)return e.jsx(re,{children:e.jsx("div",{"trae-inspector-start-line":"147","trae-inspector-start-column":"8","trae-inspector-end-line":"149","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center h-96",children:e.jsx(we,{className:"w-8 h-8 animate-spin text-primary"})})});const x=(c==null?void 0:c.filter(r=>!r.allowance_approved).reduce((r,g)=>r+s(g),0))||0;return e.jsx(re,{children:e.jsxs("div",{"trae-inspector-start-line":"160","trae-inspector-start-column":"6","trae-inspector-end-line":"394","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{"trae-inspector-start-line":"162","trae-inspector-start-column":"8","trae-inspector-end-line":"168","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h1",{"trae-inspector-start-line":"163","trae-inspector-start-column":"10","trae-inspector-end-line":"163","trae-inspector-end-column":"72","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%F0%9F%9A%9A%20Meu%20App%22%2C%22textStartLine%22%3A%22163%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22163%22%2C%22textEndColumn%22%3A%2267%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl md:text-3xl font-bold",children:"üöö Meu App"}),e.jsx("p",{"trae-inspector-start-line":"164","trae-inspector-start-column":"10","trae-inspector-end-line":"166","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gest%C3%A3o%20completa%20da%20sua%20jornada%22%2C%22textStartLine%22%3A%22164%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22166%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm md:text-base text-muted-foreground",children:"Gest√£o completa da sua jornada"}),e.jsx(tt,{})]}),e.jsxs("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"8","trae-inspector-end-line":"196","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[e.jsx(z,{title:"Status",value:n?"Em Viagem":"Parado",icon:be,className:"text-sm"}),e.jsx(z,{title:"M√™s Atual",value:m((p==null?void 0:p.total_liquido)||0),icon:ae,className:"text-sm"}),e.jsx(z,{title:"Di√°rias Pendentes",value:(c==null?void 0:c.filter(r=>!r.allowance_approved).length)||0,icon:q,className:"text-sm"}),e.jsx(z,{title:"Di√°rias R$",value:m(x),icon:ve,className:"text-sm"})]}),e.jsxs(ie,{defaultValue:"jornada",className:"w-full",children:[e.jsxs(se,{className:"grid w-full grid-cols-3 sm:grid-cols-4 lg:grid-cols-9 h-auto gap-1",children:[e.jsxs(L,{value:"jornada",className:"text-xs py-2",children:[e.jsx(G,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"203","trae-inspector-start-column":"14","trae-inspector-end-line":"203","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Jornada%22%2C%22textStartLine%22%3A%22203%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22203%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Jornada"})]}),e.jsxs(L,{value:"gratificacao",className:"text-xs py-2",children:[e.jsx(ae,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"207","trae-inspector-start-column":"14","trae-inspector-end-line":"207","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gratifica%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22207%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22207%22%2C%22textEndColumn%22%3A%2261%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Gratifica√ß√£o"})]}),e.jsxs(L,{value:"desempenho",className:"text-xs py-2",children:[e.jsx(G,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"211","trae-inspector-start-column":"14","trae-inspector-end-line":"211","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Desempenho%22%2C%22textStartLine%22%3A%22211%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22211%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Desempenho"})]}),e.jsxs(L,{value:"historico",className:"text-xs py-2",children:[e.jsx(Ae,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"215","trae-inspector-start-column":"14","trae-inspector-end-line":"215","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Hist%C3%B3rico%22%2C%22textStartLine%22%3A%22215%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22215%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Hist√≥rico"})]}),e.jsxs(L,{value:"rotas",className:"text-xs py-2",children:[e.jsx(T,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"219","trae-inspector-start-column":"14","trae-inspector-end-line":"219","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Rotas%22%2C%22textStartLine%22%3A%22219%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22219%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Rotas"})]}),e.jsxs(L,{value:"diarias",className:"text-xs py-2",children:[e.jsx(q,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"223","trae-inspector-start-column":"14","trae-inspector-end-line":"223","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Di%C3%A1rias%22%2C%22textStartLine%22%3A%22223%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22223%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Di√°rias"})]}),e.jsxs(L,{value:"despesas",className:"text-xs py-2",children:[e.jsx(Y,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"227","trae-inspector-start-column":"14","trae-inspector-end-line":"227","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Despesas%22%2C%22textStartLine%22%3A%22227%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22227%22%2C%22textEndColumn%22%3A%2257%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Despesas"})]}),e.jsxs(L,{value:"checklist",className:"text-xs py-2",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"231","trae-inspector-start-column":"14","trae-inspector-end-line":"231","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Checklist%22%2C%22textStartLine%22%3A%22231%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22231%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Checklist"})]}),e.jsxs(L,{value:"viagens",className:"text-xs py-2",children:[e.jsx(W,{className:"w-4 h-4 mr-1"}),e.jsx("span",{"trae-inspector-start-line":"235","trae-inspector-start-column":"14","trae-inspector-end-line":"235","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Viagens%22%2C%22textStartLine%22%3A%22235%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22235%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Viagens"})]})]}),e.jsxs(N,{value:"jornada",className:"space-y-4 mt-4",children:[n&&e.jsx(ye,{}),e.jsx(je,{})]}),e.jsx(N,{value:"gratificacao",className:"space-y-4 mt-4",children:e.jsx(Le,{})}),e.jsx(N,{value:"desempenho",className:"space-y-4 mt-4",children:e.jsx(Ye,{})}),e.jsx(N,{value:"historico",className:"space-y-4 mt-4",children:e.jsx(Qe,{})}),e.jsx(N,{value:"rotas",className:"space-y-4 mt-4",children:e.jsxs(ie,{defaultValue:"planejamento",className:"w-full",children:[e.jsxs(se,{className:"grid w-full grid-cols-2",children:[e.jsx(L,{value:"planejamento",children:"Planejar Rota"}),e.jsx(L,{value:"financeiro",children:"Financeiro"})]}),e.jsx(N,{value:"planejamento",className:"mt-4",children:e.jsx(et,{})}),e.jsx(N,{value:"financeiro",className:"mt-4",children:e.jsx(Xe,{})})]})}),e.jsx(N,{value:"diarias",className:"space-y-4 mt-4",children:e.jsxs(j,{children:[e.jsxs(S,{children:[e.jsxs(_,{className:"flex items-center gap-2 text-lg md:text-xl",children:[e.jsx(q,{className:"w-5 h-5"}),"Minhas Di√°rias"]}),e.jsx("p",{"trae-inspector-start-line":"284","trae-inspector-start-column":"16","trae-inspector-end-line":"286","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Di%C3%A1rias%20autom%C3%A1ticas%20baseadas%20em%20dias%20fora%20da%20garagem%22%2C%22textStartLine%22%3A%22284%22%2C%22textStartColumn%22%3A%2272%22%2C%22textEndLine%22%3A%22286%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs md:text-sm text-muted-foreground",children:"Di√°rias autom√°ticas baseadas em dias fora da garagem"})]}),e.jsx(y,{className:"space-y-3",children:c&&c.length>0?c.map(r=>{const g=r.data_fim?oe(new Date(r.data_fim),new Date(r.data_inicio)):0,D=s(r);return e.jsx(j,{className:"border-l-4 border-l-primary/20",children:e.jsxs(y,{className:"p-4 space-y-3",children:[e.jsxs("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"26","trae-inspector-end-line":"346","trae-inspector-end-column":"32","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{"trae-inspector-start-line":"300","trae-inspector-start-column":"28","trae-inspector-end-line":"314","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsxs("div",{"trae-inspector-start-line":"301","trae-inspector-start-column":"30","trae-inspector-end-line":"310","trae-inspector-end-column":"36","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 flex-wrap",children:[e.jsx(P,{variant:"outline",className:"text-xs",children:r.vehicle_plate}),e.jsxs("span",{"trae-inspector-start-line":"305","trae-inspector-start-column":"32","trae-inspector-end-line":"309","trae-inspector-end-column":"39","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[F(new Date(r.data_inicio),"dd/MM/yyyy",{locale:k})," ‚Üí ",r.data_fim&&F(new Date(r.data_fim),"dd/MM/yyyy",{locale:k})]})]}),e.jsxs("p",{"trae-inspector-start-line":"311","trae-inspector-start-column":"30","trae-inspector-end-line":"313","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-medium",children:[g," ",g===1?"dia":"dias"," fora"]})]}),e.jsxs("div",{"trae-inspector-start-line":"316","trae-inspector-start-column":"28","trae-inspector-end-line":"345","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsxs("div",{"trae-inspector-start-line":"317","trae-inspector-start-column":"30","trae-inspector-end-line":"334","trae-inspector-end-column":"36","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-right",children:[e.jsx("p",{"trae-inspector-start-line":"318","trae-inspector-start-column":"32","trae-inspector-end-line":"320","trae-inspector-end-column":"36","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-bold text-green-600",children:m(D)}),e.jsx(P,{variant:r.allowance_approved?"default":"secondary",className:"text-xs",children:r.allowance_approved?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-3 h-3 mr-1"}),"Aprovado"]}):"Pendente"})]}),!r.allowance_approved&&e.jsx(B,{size:"sm",onClick:()=>i(r.id),className:"text-xs",children:"Solicitar"})]})]}),r.localizacao_inicio&&e.jsxs("div",{"trae-inspector-start-line":"349","trae-inspector-start-column":"28","trae-inspector-end-line":"355","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-2 text-xs text-muted-foreground pt-2 border-t",children:[e.jsx(T,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),e.jsxs("span",{"trae-inspector-start-line":"351","trae-inspector-start-column":"30","trae-inspector-end-line":"354","trae-inspector-end-column":"37","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"line-clamp-1",children:[r.localizacao_inicio.city,", ",r.localizacao_inicio.state,r.localizacao_fim&&` ‚Üí ${r.localizacao_fim.city}, ${r.localizacao_fim.state}`]})]})]})},r.id)}):e.jsxs("div",{"trae-inspector-start-line":"362","trae-inspector-start-column":"18","trae-inspector-end-line":"365","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(q,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"364","trae-inspector-start-column":"20","trae-inspector-end-line":"364","trae-inspector-end-column":"72","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20di%C3%A1ria%20registrada%22%2C%22textStartLine%22%3A%22364%22%2C%22textStartColumn%22%3A%2243%22%2C%22textEndLine%22%3A%22364%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Nenhuma di√°ria registrada"})]})})]})}),e.jsx(N,{value:"despesas",className:"space-y-4 mt-4",children:e.jsxs("div",{"trae-inspector-start-line":"373","trae-inspector-start-column":"12","trae-inspector-end-line":"376","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:[e.jsx(Ke,{}),e.jsx(We,{})]})}),e.jsx(N,{value:"checklist",className:"space-y-4 mt-4",children:e.jsx(Ze,{})}),e.jsx(N,{value:"viagens",className:"space-y-4 mt-4",children:e.jsx(Je,{})})]}),e.jsx("div",{"trae-inspector-start-line":"391","trae-inspector-start-column":"8","trae-inspector-end-line":"393","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\DriverApp.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"fixed bottom-4 right-4 z-50",children:e.jsx(Ve,{})})]})})}export{tr as default};
