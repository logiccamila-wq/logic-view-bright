import{r,d as n,j as e,L as I,B as C}from"./index-C8gJK6VO.js";import{I as p}from"./input-D5Ccm-s1.js";import{C as V,a as F,d as O}from"./card-XpOOVLWI.js";import{D as z,a as R,b as H,c as q,d as G}from"./dialog-KfbCdWZy.js";import{L as o}from"./label-C3geKGxC.js";import{T as J}from"./textarea-Oo1gIRGr.js";import{S as g,a as x,b as v,c as w,d as a}from"./select-CgN7rKuh.js";import{l as K,u as M,c as Q,d as W}from"./planoContas-DTMzEqO5.js";import{l as X}from"./centrosCusto-CChH3ibP.js";import{P as Y}from"./plus-C4B_3Olf.js";import{S as Z}from"./search-Da-3pudI.js";import{S as $}from"./square-pen-C6yFawho.js";import{T as ee}from"./trash-2-DqbN6Ybf.js";import"./index-C9UnwKLR.js";import"./Combination-BQvqHitJ.js";import"./index-XPvY48Nz.js";import"./chevron-down-ChCbnXTB.js";import"./check-CMTAF2ib.js";function we(){const[D,A]=r.useState([]),[b,P]=r.useState([]),[L,j]=r.useState(!0),[d,N]=r.useState(""),[m,S]=r.useState("todos"),[B,c]=r.useState(!1),[u,f]=r.useState(null),[s,i]=r.useState({codigo:"",nome:"",tipo:"despesa",classe:"",centro_custo_id:"nenhum",descricao:"",status:"ativo"});r.useEffect(()=>{h()},[]);async function h(){try{j(!0);const[t,l]=await Promise.all([K(),X()]);A(t),P(l)}catch(t){n.error("Erro ao carregar dados"),console.error(t)}finally{j(!1)}}function U(t){f(t),i({codigo:t.codigo,nome:t.nome,tipo:t.tipo,classe:t.classe||"",centro_custo_id:t.centro_custo_id||"nenhum",descricao:t.descricao||"",status:t.status}),c(!0)}function _(){f(null),i({codigo:"",nome:"",tipo:"despesa",classe:"",centro_custo_id:"nenhum",descricao:"",status:"ativo"}),c(!0)}async function y(){try{const t={...s,centro_custo_id:s.centro_custo_id==="nenhum"?void 0:s.centro_custo_id,classe:s.classe||void 0,descricao:s.descricao||void 0};u?(await M(u.id,t),n.success("Conta atualizada")):(await Q(t),n.success("Conta criada")),c(!1),h()}catch(t){n.error(t.message||"Erro ao salvar conta")}}async function T(t){if(confirm("Deseja realmente excluir esta conta?"))try{await W(t),n.success("Conta excluída"),h()}catch(l){n.error(l.message||"Erro ao excluir conta")}}const E=D.filter(t=>{const l=t.codigo.toLowerCase().includes(d.toLowerCase())||t.nome.toLowerCase().includes(d.toLowerCase()),k=m==="todos"||t.tipo===m;return l&&k});return e.jsxs(I,{children:[e.jsxs("div",{"trae-inspector-start-line":"123","trae-inspector-start-column":"6","trae-inspector-end-line":"194","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"124","trae-inspector-start-column":"8","trae-inspector-end-line":"130","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsx("h1",{"trae-inspector-start-line":"125","trae-inspector-start-column":"10","trae-inspector-end-line":"125","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Plano%20de%20Contas%22%2C%22textStartLine%22%3A%22125%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22125%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold",children:"Plano de Contas"}),e.jsxs(C,{onClick:_,children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Nova Conta"]})]}),e.jsxs(V,{children:[e.jsx(F,{children:e.jsxs("div",{"trae-inspector-start-line":"133","trae-inspector-start-column":"12","trae-inspector-end-line":"157","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"14","trae-inspector-end-line":"142","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 flex-1",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(p,{placeholder:"Buscar por código ou nome...",value:d,onChange:t=>N(t.target.value),className:"max-w-sm"})]}),e.jsxs(g,{value:m,onValueChange:S,children:[e.jsx(x,{className:"w-[200px]",children:e.jsx(v,{placeholder:"Filtrar por tipo"})}),e.jsxs(w,{children:[e.jsx(a,{value:"todos",children:"Todos"}),e.jsx(a,{value:"receita",children:"Receita"}),e.jsx(a,{value:"despesa",children:"Despesa"}),e.jsx(a,{value:"imposto",children:"Imposto"}),e.jsx(a,{value:"custo",children:"Custo"}),e.jsx(a,{value:"ativo",children:"Ativo"}),e.jsx(a,{value:"passivo",children:"Passivo"})]})]})]})}),e.jsx(O,{children:L?e.jsx("p",{"trae-inspector-start-line":"161","trae-inspector-start-column":"14","trae-inspector-end-line":"161","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22161%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22161%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center text-muted-foreground",children:"Carregando..."}):e.jsx("div",{"trae-inspector-start-line":"163","trae-inspector-start-column":"14","trae-inspector-end-line":"190","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:E.map(t=>e.jsxs("div",{"trae-inspector-start-line":"165","trae-inspector-start-column":"18","trae-inspector-end-line":"188","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"20","trae-inspector-end-line":"179","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"167","trae-inspector-start-column":"22","trae-inspector-end-line":"171","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("p",{"trae-inspector-start-line":"168","trae-inspector-start-column":"24","trae-inspector-end-line":"168","trae-inspector-end-column":"71","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:t.codigo}),e.jsx("p",{"trae-inspector-start-line":"169","trae-inspector-start-column":"24","trae-inspector-end-line":"169","trae-inspector-end-column":"43","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:t.nome}),e.jsx("span",{"trae-inspector-start-line":"170","trae-inspector-start-column":"24","trae-inspector-end-line":"170","trae-inspector-end-column":"114","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs px-2 py-1 rounded bg-primary/10 text-primary",children:t.tipo})]}),t.descricao&&e.jsx("p",{"trae-inspector-start-line":"172","trae-inspector-start-column":"42","trae-inspector-end-line":"172","trae-inspector-end-column":"113","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mt-1",children:t.descricao}),t.classe&&e.jsxs("p",{"trae-inspector-start-line":"173","trae-inspector-start-column":"39","trae-inspector-end-line":"173","trae-inspector-end-column":"115","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:["Classe: ",t.classe]}),t.centros_custo&&e.jsxs("p",{"trae-inspector-start-line":"175","trae-inspector-start-column":"24","trae-inspector-end-line":"177","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:["Centro: ",t.centros_custo.codigo," - ",t.centros_custo.nome]})]}),e.jsxs("div",{"trae-inspector-start-line":"180","trae-inspector-start-column":"20","trae-inspector-end-line":"187","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",onClick:()=>U(t),children:e.jsx($,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>T(t.id),children:e.jsx(ee,{className:"h-4 w-4"})})]})]},t.id))})})]})]}),e.jsx(z,{open:B,onOpenChange:c,children:e.jsxs(R,{className:"max-w-2xl",children:[e.jsx(H,{children:e.jsxs(q,{children:[u?"Editar":"Nova"," Conta"]})}),e.jsxs("div",{"trae-inspector-start-line":"200","trae-inspector-start-column":"10","trae-inspector-end-line":"268","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"201","trae-inspector-start-column":"12","trae-inspector-end-line":"208","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Código *"}),e.jsx(p,{value:s.codigo,onChange:t=>i({...s,codigo:t.target.value}),placeholder:"1.01.001"})]}),e.jsxs("div",{"trae-inspector-start-line":"209","trae-inspector-start-column":"12","trae-inspector-end-line":"216","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Nome *"}),e.jsx(p,{value:s.nome,onChange:t=>i({...s,nome:t.target.value}),placeholder:"Vendas de Produtos"})]}),e.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"12","trae-inspector-end-line":"232","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo *"}),e.jsxs(g,{value:s.tipo,onValueChange:t=>i({...s,tipo:t}),children:[e.jsx(x,{children:e.jsx(v,{placeholder:"Selecione o tipo"})}),e.jsxs(w,{children:[e.jsx(a,{value:"receita",children:"Receita"}),e.jsx(a,{value:"despesa",children:"Despesa"}),e.jsx(a,{value:"imposto",children:"Imposto"}),e.jsx(a,{value:"custo",children:"Custo"}),e.jsx(a,{value:"ativo",children:"Ativo"}),e.jsx(a,{value:"passivo",children:"Passivo"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"233","trae-inspector-start-column":"12","trae-inspector-end-line":"240","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Classe"}),e.jsx(p,{value:s.classe,onChange:t=>i({...s,classe:t.target.value}),placeholder:"Operacional"})]}),e.jsxs("div",{"trae-inspector-start-line":"241","trae-inspector-start-column":"12","trae-inspector-end-line":"259","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Centro de Custo"}),e.jsxs(g,{value:s.centro_custo_id,onValueChange:t=>i({...s,centro_custo_id:t}),children:[e.jsx(x,{children:e.jsx(v,{placeholder:"Selecione um centro de custo"})}),e.jsxs(w,{children:[e.jsx(a,{value:"nenhum",children:"Nenhum"}),b.map(t=>e.jsxs(a,{value:t.id,children:[t.codigo," - ",t.nome]},t.id))]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"260","trae-inspector-start-column":"12","trae-inspector-end-line":"267","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\PlanoContas.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Descrição"}),e.jsx(J,{value:s.descricao,onChange:t=>i({...s,descricao:t.target.value}),placeholder:"Descrição da conta contábil"})]})]}),e.jsxs(G,{children:[e.jsx(C,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),e.jsx(C,{onClick:y,children:"Salvar"})]})]})})]})}export{we as default};
