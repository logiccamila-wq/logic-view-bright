{"version":3,"file":"DriverApp-C84Om4vv.js","sources":["../../node_modules/lucide-react/dist/esm/icons/receipt.js","../../node_modules/lucide-react/dist/esm/icons/route.js","../../node_modules/lucide-react/dist/esm/icons/trophy.js","../../node_modules/date-fns/differenceInDays.mjs","../../src/components/driver/FuelExpenseDialog.tsx","../../src/components/driver/TripExpenseDialog.tsx","../../src/components/driver/DriverChecklist.tsx","../../src/components/driver/TripAlerts.tsx","../../src/components/driver/DriverPerformance.tsx","../../src/components/driver/DriverPayrollHistory.tsx","../../src/components/driver/DriverRouteFinancial.tsx","../../src/components/driver/DeliveryRouting.tsx","../../src/components/driver/LiveLocationToggle.tsx","../../src/pages/DriverApp.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z\", key: \"q3az6g\" }\n  ],\n  [\"path\", { d: \"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8\", key: \"1h4pet\" }],\n  [\"path\", { d: \"M12 17.5v-11\", key: \"1jc1ny\" }]\n];\nconst Receipt = createLucideIcon(\"receipt\", __iconNode);\n\nexport { __iconNode, Receipt as default };\n//# sourceMappingURL=receipt.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"6\", cy: \"19\", r: \"3\", key: \"1kj8tv\" }],\n  [\"path\", { d: \"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15\", key: \"1d8sl\" }],\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }]\n];\nconst Route = createLucideIcon(\"route\", __iconNode);\n\nexport { __iconNode, Route as default };\n//# sourceMappingURL=route.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\", key: \"17hqa7\" }],\n  [\"path\", { d: \"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\", key: \"lmptdp\" }],\n  [\"path\", { d: \"M4 22h16\", key: \"57wxv0\" }],\n  [\"path\", { d: \"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\", key: \"1nw9bq\" }],\n  [\"path\", { d: \"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\", key: \"1np0yb\" }],\n  [\"path\", { d: \"M18 2H6v7a6 6 0 0 0 12 0V2Z\", key: \"u46fv3\" }]\n];\nconst Trophy = createLucideIcon(\"trophy\", __iconNode);\n\nexport { __iconNode, Trophy as default };\n//# sourceMappingURL=trophy.js.map\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.trunc(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full days according to the local timezone\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n *\n * @example\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n * //=> 92\n */\nexport function differenceInDays(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareLocalAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(differenceInCalendarDays(_dateLeft, _dateRight));\n\n  _dateLeft.setDate(_dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  const isLastDayNotFull = Number(\n    compareLocalAsc(_dateLeft, _dateRight) === -sign,\n  );\n  const result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  const diff =\n    dateLeft.getFullYear() - dateRight.getFullYear() ||\n    dateLeft.getMonth() - dateRight.getMonth() ||\n    dateLeft.getDate() - dateRight.getDate() ||\n    dateLeft.getHours() - dateRight.getHours() ||\n    dateLeft.getMinutes() - dateRight.getMinutes() ||\n    dateLeft.getSeconds() - dateRight.getSeconds() ||\n    dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default differenceInDays;\n","import { VehicleSelect } from \"@/components/VehicleSelect\";\r\nimport { useEffect, useState } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Fuel } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function FuelExpenseDialog() {\n  const { user } = useAuth();\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recent, setRecent] = useState<any[]>([]);\n  const [formData, setFormData] = useState({\n    vehicle_plate: \"\",\n    km: \"\",\n    liters: \"\",\n    total_value: \"\"\n  });\n\n  const litersNum = parseFloat(formData.liters || \"0\");\n  const totalNum = parseFloat(formData.total_value || \"0\");\n  const kmNum = parseInt(formData.km || \"0\");\n  const pricePerLiter = litersNum > 0 ? (totalNum / litersNum) : 0;\n  const canSubmit = !!formData.vehicle_plate && kmNum > 0 && litersNum > 0 && totalNum > 0;\n\n  useEffect(() => {\n    const loadRecent = async () => {\n      const { data } = await supabase.from('refuelings' as any).select('*').order('created_at', { ascending: false }).limit(5);\n      setRecent((data as any) || []);\n    };\n    if (open) loadRecent();\n  }, [open]);\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\n      const { error } = await supabase.from('refuelings' as any).insert({\n        driver_id: user?.id,\n        vehicle_plate: formData.vehicle_plate,\n        km: kmNum,\n        liters: litersNum,\n        total_value: totalNum,\n        cost_per_km: totalNum / Math.max(kmNum, 1),\n        price_per_liter: pricePerLiter\n      });\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Abastecimento registrado!\");\r\n      setOpen(false);\r\n      setFormData({ vehicle_plate: \"\", km: \"\", liters: \"\", total_value: \"\" });\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Erro ao registrar abastecimento\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button className=\"w-full\">\r\n          <Fuel className=\"w-4 h-4 mr-2\" />\r\n          Registrar Abastecimento\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>Lan√ßamento de Combust√≠vel</DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\n            <Label>Placa do Ve√≠culo</Label>\n            <VehicleSelect \n              value={formData.vehicle_plate} \n              onChange={(v) => setFormData({ ...formData, vehicle_plate: v })} \n              placeholder=\"Selecione a placa\"\n            />\n          </div>\n          <div>\n            <Label>KM Real</Label>\n            <Input\n              required\n              type=\"number\"\n              value={formData.km}\n              onChange={(e) => setFormData({...formData, km: e.target.value})}\n            />\n          </div>\n          <div>\n            <Label>Litros</Label>\n            <Input\n              required\n              type=\"number\"\n              step=\"0.01\"\n              value={formData.liters}\n              onChange={(e) => setFormData({...formData, liters: e.target.value})}\n            />\n          </div>\n          <div>\n            <Label>Valor Total (R$)</Label>\n            <Input\n              required\n              type=\"number\"\n              step=\"0.01\"\n              value={formData.total_value}\n              onChange={(e) => setFormData({...formData, total_value: e.target.value})}\n            />\n          </div>\n          <div>\n            <Label>Pre√ßo por Litro (R$/L)</Label>\n            <Input disabled value={pricePerLiter > 0 ? pricePerLiter.toFixed(2) : \"\"} />\n          </div>\n          <Button type=\"submit\" className=\"w-full\" disabled={loading || !canSubmit}>\n            {loading ? \"Salvando...\" : \"Registrar\"}\n          </Button>\n          {recent.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label>√öltimos abastecimentos</Label>\n              {recent.map((r) => (\n                <div key={r.id} className=\"text-sm text-muted-foreground\">\n                  {r.vehicle_plate} ‚Ä¢ {r.km} km ‚Ä¢ {r.liters} L ‚Ä¢ R$ {Number(r.total_value || 0).toFixed(2)}\n                </div>\n              ))}\n            </div>\n          )}\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Receipt } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { VehicleSelect } from \"@/components/VehicleSelect\";\r\n\r\nexport function TripExpenseDialog() {\r\n  const { user } = useAuth();\r\n  const [open, setOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    tipo: \"\",\r\n    descricao: \"\",\r\n    valor: \"\",\r\n    plate: \"\"\r\n  });\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Criar despesa e notifica√ß√£o para aprova√ß√£o\r\n      const { error } = await supabase.from('contas_pagar').insert({\r\n        fornecedor: 'Motorista',\r\n        descricao: `${formData.tipo}: ${formData.descricao} (Ve√≠culo: ${formData.plate})`,\r\n        valor: parseFloat(formData.valor),\r\n        data_vencimento: new Date().toISOString(),\r\n        status: 'pendente',\r\n        categoria: 'despesas_viagem',\r\n        created_by: user?.id\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      // Notificar gestores\r\n      await supabase.from('notifications').insert({\r\n        user_id: user?.id,\r\n        title: 'Solicita√ß√£o de Despesa',\r\n        message: `Motorista solicitou aprova√ß√£o de despesa: ${formData.tipo} - R$ ${formData.valor} - Ve√≠culo ${formData.plate}`,\r\n        type: 'warning',\r\n        module: 'driver'\r\n      });\r\n\r\n      toast.success(\"Despesa enviada para aprova√ß√£o!\");\r\n      setOpen(false);\r\n      setFormData({ tipo: \"\", descricao: \"\", valor: \"\", plate: \"\" });\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Erro ao registrar despesa\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button variant=\"outline\" className=\"w-full\">\r\n          <Receipt className=\"w-4 h-4 mr-2\" />\r\n          Registrar Despesa\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>Lan√ßamento de Despesas de Viagem</DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <Label>Ve√≠culo</Label>\r\n            <VehicleSelect\r\n              value={formData.plate}\r\n              onChange={(v) => setFormData({ ...formData, plate: v })}\r\n              placeholder=\"Selecione o Ve√≠culo\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <Label>Tipo de Despesa</Label>\r\n            <Select value={formData.tipo} onValueChange={(v) => setFormData({...formData, tipo: v})}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Selecione...\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"refeicao\">Refei√ß√£o (Kamoa)</SelectItem>\r\n                <SelectItem value=\"disco_tacografo\">Disco de Tac√≥grafo</SelectItem>\r\n                <SelectItem value=\"pedagio\">Ped√°gio</SelectItem>\r\n                <SelectItem value=\"estacionamento\">Estacionamento</SelectItem>\r\n                <SelectItem value=\"outros\">Outros</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <Label>Descri√ß√£o</Label>\r\n            <Input\r\n              required\r\n              value={formData.descricao}\r\n              onChange={(e) => setFormData({...formData, descricao: e.target.value})}\r\n              placeholder=\"Detalhe a despesa...\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <Label>Valor (R$)</Label>\r\n            <Input\r\n              required\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              value={formData.valor}\r\n              onChange={(e) => setFormData({...formData, valor: e.target.value})}\r\n            />\r\n          </div>\r\n          <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n            {loading ? \"Enviando...\" : \"Solicitar Aprova√ß√£o\"}\r\n          </Button>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ClipboardCheck } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { VehicleSelect } from \"@/components/VehicleSelect\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nconst checklistItems = [\r\n  { id: \"pneus\", label: \"Verificar press√£o dos pneus\" },\r\n  { id: \"oleo\", label: \"Verificar n√≠vel de √≥leo\" },\r\n  { id: \"agua\", label: \"Verificar n√≠vel de √°gua\" },\r\n  { id: \"freios\", label: \"Testar freios\" },\r\n  { id: \"luzes\", label: \"Verificar todas as luzes\" },\r\n  { id: \"documentos\", label: \"Verificar documenta√ß√£o do ve√≠culo\" },\r\n  { id: \"carga\", label: \"Conferir amarra√ß√£o da carga\" },\r\n  { id: \"extintor\", label: \"Verificar extintor\" },\r\n];\r\n\r\nexport function DriverChecklist() {\r\n  const { user } = useAuth();\r\n  const [checked, setChecked] = useState<Record<string, boolean>>({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [vehiclePlate, setVehiclePlate] = useState(\"\");\r\n\r\n  const handleSubmit = async () => {\r\n    const allChecked = checklistItems.every(item => checked[item.id]);\r\n    \r\n    if (!allChecked) {\r\n      toast.error(\"Complete todos os itens do checklist\");\r\n      return;\r\n    }\r\n\r\n    if (!vehiclePlate) {\r\n      toast.error(\"Informe a placa do ve√≠culo\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const items = checklistItems.map(item => ({\r\n        id: item.id,\r\n        label: item.label,\r\n        checked: checked[item.id],\r\n        timestamp: new Date().toISOString()\r\n      }));\r\n\r\n      const { error } = await supabase.from('maintenance_checklists').insert({\r\n        vehicle_plate: vehiclePlate,\r\n        checklist_type: 'pre_trip',\r\n        mechanic_id: user?.id,\r\n        status: 'concluido',\r\n        items,\r\n        completed_at: new Date().toISOString()\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Checklist conclu√≠do!\");\r\n      setChecked({});\r\n      setVehiclePlate(\"\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Erro ao salvar checklist\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <ClipboardCheck className=\"w-5 h-5\" />\r\n          Checklist Pr√©-Viagem\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div>\r\n          <Label className=\"mb-2 block\">Placa do Ve√≠culo</Label>\r\n          <VehicleSelect\r\n            value={vehiclePlate}\r\n            onChange={setVehiclePlate}\r\n            placeholder=\"Selecione a placa\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"space-y-3\">\r\n          {checklistItems.map((item) => (\r\n            <div key={item.id} className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id={item.id}\r\n                checked={checked[item.id] || false}\r\n                onCheckedChange={(value) => \r\n                  setChecked({...checked, [item.id]: value as boolean})\r\n                }\r\n              />\r\n              <label\r\n                htmlFor={item.id}\r\n                className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n              >\r\n                {item.label}\r\n              </label>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <Button \r\n          onClick={handleSubmit} \r\n          className=\"w-full\" \r\n          disabled={loading}\r\n        >\r\n          {loading ? \"Salvando...\" : \"Concluir Checklist\"}\r\n        </Button>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import { useQuery } from \"@tanstack/react-query\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Bell, MapPin, Clock, Navigation } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { format } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function TripAlerts() {\r\n  const { user } = useAuth();\r\n\r\n  const { data: trips, refetch } = useQuery({\r\n    queryKey: ['driver-trips', user?.id],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('trips')\r\n        .select(`\r\n          *,\r\n          cte(\r\n            destinatario_cidade,\r\n            destinatario_uf,\r\n            remetente_cidade,\r\n            remetente_uf\r\n          )\r\n        `)\r\n        .eq('driver_id', user?.id)\r\n        .eq('status', 'pending')\r\n        .order('created_at', { ascending: false })\r\n        .limit(5);\r\n\r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  const handleAcceptTrip = async (tripId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('trips')\r\n        .update({ status: 'in_progress' })\r\n        .eq('id', tripId);\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Viagem aceita!\");\r\n      refetch();\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Erro ao aceitar viagem\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <Bell className=\"w-5 h-5\" />\r\n          Novas Viagens\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        {trips && trips.length > 0 ? (\r\n          trips.map((trip: any) => (\r\n            <Card key={trip.id} className=\"border-l-4 border-l-blue-500\">\r\n              <CardContent className=\"p-4 space-y-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Badge variant=\"secondary\">\r\n                    {trip.vehicle_plate}\r\n                  </Badge>\r\n                  <Badge>\r\n                    {format(new Date(trip.created_at), 'dd/MM HH:mm', { locale: ptBR })}\r\n                  </Badge>\r\n                </div>\r\n\r\n                {trip.cte && trip.cte[0] && (\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <MapPin className=\"w-4 h-4 mt-0.5 text-green-600\" />\r\n                      <div>\r\n                        <strong>Origem:</strong> {trip.cte[0].remetente_cidade}/{trip.cte[0].remetente_uf}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <Navigation className=\"w-4 h-4 mt-0.5 text-red-600\" />\r\n                      <div>\r\n                        <strong>Destino:</strong> {trip.cte[0].destinatario_cidade}/{trip.cte[0].destinatario_uf}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <Clock className=\"w-4 h-4\" />\r\n                  <span>In√≠cio previsto: {format(new Date(trip.departure_date), \"dd/MM/yyyy '√†s' HH:mm\", { locale: ptBR })}</span>\r\n                </div>\r\n\r\n                <Button \r\n                  onClick={() => handleAcceptTrip(trip.id)}\r\n                  className=\"w-full\"\r\n                  size=\"sm\"\r\n                >\r\n                  Aceitar Viagem\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center py-8 text-muted-foreground\">\r\n            <Bell className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\r\n            <p className=\"text-sm\">Nenhuma viagem pendente</p>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Trophy, Star, TrendingUp, Target, Award, Zap } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\n\r\nexport const DriverPerformance = () => {\r\n  const { user } = useAuth();\r\n  const [stats, setStats] = useState({\r\n    onTimeDeliveries: 0,\r\n    totalTrips: 0,\r\n    averageRating: 0,\r\n    totalKm: 0,\r\n    violations: 0,\r\n  });\r\n  const [achievements, setAchievements] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    loadPerformance();\r\n  }, [user]);\r\n\r\n  const loadPerformance = async () => {\r\n    if (!user) return;\r\n\r\n    // Buscar viagens completadas\r\n    const { data: sessions } = await supabase\r\n      .from('driver_work_sessions')\r\n      .select('*')\r\n      .eq('driver_id', user.id)\r\n      .eq('status', 'finalizada');\r\n\r\n    // Buscar viola√ß√µes\r\n    const { data: violations } = await supabase\r\n      .from('driver_violations')\r\n      .select('*')\r\n      .eq('driver_id', user.id)\r\n      .eq('resolvida', false);\r\n\r\n    // Buscar abastecimentos para calcular KM\r\n    const { data: refuelings } = await supabase\r\n      .from('refuelings')\r\n      .select('km')\r\n      .eq('driver_id', user.id)\r\n      .order('km', { ascending: false })\r\n      .limit(1);\r\n\r\n    const totalTrips = sessions?.length || 0;\r\n    const totalKm = refuelings?.[0]?.km || 0;\r\n    const violationsCount = violations?.length || 0;\r\n    \r\n    // Simular entregas no prazo (96% baseado na aus√™ncia de viola√ß√µes graves)\r\n    const onTimeRate = violationsCount === 0 ? 0.98 : Math.max(0.85, 1 - (violationsCount * 0.05));\r\n    \r\n    setStats({\r\n      onTimeDeliveries: Math.round(totalTrips * onTimeRate),\r\n      totalTrips,\r\n      averageRating: 4.8, // Pode ser expandido com avalia√ß√µes reais\r\n      totalKm,\r\n      violations: violationsCount,\r\n    });\r\n\r\n    // Gerar conquistas baseadas no desempenho\r\n    const newAchievements = [];\r\n    \r\n    if (totalTrips >= 100) {\r\n      newAchievements.push({\r\n        id: 1,\r\n        icon: \"‚ö°\",\r\n        title: \"100 Entregas\",\r\n        description: \"Sem atrasos\",\r\n        achieved: true,\r\n      });\r\n    }\r\n\r\n    if (violationsCount === 0 && totalTrips >= 10) {\r\n      newAchievements.push({\r\n        id: 2,\r\n        icon: \"üåü\",\r\n        title: \"5 Estrelas\",\r\n        description: `${totalTrips} avalia√ß√µes`,\r\n        achieved: true,\r\n      });\r\n    }\r\n\r\n    const currentMonth = new Date().toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' });\r\n    if (onTimeRate >= 0.95) {\r\n      newAchievements.push({\r\n        id: 3,\r\n        icon: \"üèÜ\",\r\n        title: \"Motorista do M√™s\",\r\n        description: currentMonth,\r\n        achieved: true,\r\n      });\r\n    }\r\n\r\n    setAchievements(newAchievements);\r\n  };\r\n\r\n  const onTimePercentage = stats.totalTrips > 0 \r\n    ? Math.round((stats.onTimeDeliveries / stats.totalTrips) * 100) \r\n    : 0;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <TrendingUp className=\"h-5 w-5\" />\r\n            Desempenho\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2 p-4 bg-green-500/10 rounded-lg border border-green-500/20\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Target className=\"h-4 w-4 text-green-600\" />\r\n                <span className=\"text-sm text-muted-foreground\">Entregas no Prazo</span>\r\n              </div>\r\n              <p className=\"text-3xl font-bold text-green-600\">{onTimePercentage}%</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {stats.onTimeDeliveries} de {stats.totalTrips} viagens\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 p-4 bg-yellow-500/10 rounded-lg border border-yellow-500/20\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Star className=\"h-4 w-4 text-yellow-600\" />\r\n                <span className=\"text-sm text-muted-foreground\">Avalia√ß√£o M√©dia</span>\r\n              </div>\r\n              <p className=\"text-3xl font-bold text-yellow-600\">{stats.averageRating} ‚≠ê</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Baseado em {stats.totalTrips} viagens\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 p-4 bg-blue-500/10 rounded-lg border border-blue-500/20\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <TrendingUp className=\"h-4 w-4 text-blue-600\" />\r\n                <span className=\"text-sm text-muted-foreground\">Km Rodados</span>\r\n              </div>\r\n              <p className=\"text-2xl font-bold text-blue-600\">\r\n                {(stats.totalKm / 1000).toFixed(1)} mil km\r\n              </p>\r\n              <p className=\"text-xs text-muted-foreground\">Total acumulado</p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 p-4 bg-red-500/10 rounded-lg border border-red-500/20\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Zap className=\"h-4 w-4 text-red-600\" />\r\n                <span className=\"text-sm text-muted-foreground\">Viola√ß√µes</span>\r\n              </div>\r\n              <p className=\"text-3xl font-bold text-red-600\">{stats.violations}</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {stats.violations === 0 ? \"Parab√©ns!\" : \"Pendentes\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Trophy className=\"h-5 w-5\" />\r\n            Conquistas\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {achievements.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              {achievements.map((achievement) => (\r\n                <div\r\n                  key={achievement.id}\r\n                  className=\"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border border-primary/20\"\r\n                >\r\n                  <div className=\"text-4xl mb-2\">{achievement.icon}</div>\r\n                  <h4 className=\"font-semibold mb-1\">{achievement.title}</h4>\r\n                  <p className=\"text-sm text-muted-foreground\">{achievement.description}</p>\r\n                  {achievement.achieved && (\r\n                    <Badge variant=\"default\" className=\"mt-2\">\r\n                      Conquistado\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              <Award className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\r\n              <p>Continue trabalhando para desbloquear conquistas!</p>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { History, DollarSign, Calendar, TrendingUp, FileText } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { format } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\n\r\nexport const DriverPayrollHistory = () => {\r\n  const { user } = useAuth();\r\n  const [history, setHistory] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadHistory();\r\n  }, [user]);\r\n\r\n  const loadHistory = async () => {\r\n    if (!user) return;\r\n\r\n    const { data, error } = await supabase\r\n      .from('driver_payroll')\r\n      .select('*')\r\n      .eq('driver_id', user.id)\r\n      .order('ano', { ascending: false })\r\n      .order('mes', { ascending: false })\r\n      .limit(12);\r\n\r\n    if (data) {\r\n      setHistory(data);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL'\r\n    }).format(value);\r\n  };\r\n\r\n  const getMonthName = (month: number, year: number) => {\r\n    const date = new Date(year, month - 1, 1);\r\n    return format(date, \"MMMM 'de' yyyy\", { locale: ptBR });\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const variants: Record<string, any> = {\r\n      'calculado': { variant: 'secondary', label: 'Calculado' },\r\n      'aprovado': { variant: 'default', label: 'Aprovado' },\r\n      'pago': { variant: 'outline', label: 'Pago' },\r\n      'pendente': { variant: 'destructive', label: 'Pendente' }\r\n    };\r\n    \r\n    const config = variants[status] || variants['calculado'];\r\n    return <Badge variant={config.variant}>{config.label}</Badge>;\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <History className=\"h-5 w-5\" />\r\n            Mem√≥ria de C√°lculos\r\n          </CardTitle>\r\n          <Badge variant=\"outline\" className=\"flex items-center gap-1\">\r\n            <FileText className=\"h-3 w-3\" />\r\n            √öltimos 12 meses\r\n          </Badge>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ScrollArea className=\"h-[600px] pr-4\">\r\n          {loading ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              Carregando hist√≥rico...\r\n            </div>\r\n          ) : history.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {history.map((payroll) => (\r\n                <div\r\n                  key={payroll.id}\r\n                  className=\"p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div>\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                        <h4 className=\"font-semibold capitalize\">\r\n                          {getMonthName(payroll.mes, payroll.ano)}\r\n                        </h4>\r\n                      </div>\r\n                      <p className=\"text-xs text-muted-foreground\">\r\n                        Calculado em {format(new Date(payroll.created_at), \"dd/MM/yyyy '√†s' HH:mm\", { locale: ptBR })}\r\n                      </p>\r\n                    </div>\r\n                    {getStatusBadge(payroll.status)}\r\n                  </div>\r\n\r\n                  <Separator className=\"my-3\" />\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Sal√°rio Base</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.salario_base)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Horas Normais</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.valor_horas_normais)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Horas Extras</p>\r\n                        <p className=\"text-sm font-semibold text-green-600\">\r\n                          +{formatCurrency(payroll.valor_horas_extras)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Horas Espera</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.valor_horas_espera)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Separator className=\"my-2\" />\r\n\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Total CT-e</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.total_valor_ctes)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Combust√≠vel</p>\r\n                        <p className=\"text-sm font-semibold text-red-600\">\r\n                          -{formatCurrency(payroll.total_combustivel)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Base Gratifica√ß√£o</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.base_calculo_gratificacao)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Gratifica√ß√£o</p>\r\n                        <p className=\"text-sm font-semibold text-green-600\">\r\n                          +{formatCurrency(payroll.valor_gratificacao)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Separator className=\"my-2\" />\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-primary/10 rounded-lg\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <DollarSign className=\"h-4 w-4\" />\r\n                        <span className=\"font-semibold\">Total L√≠quido</span>\r\n                      </div>\r\n                      <span className=\"text-lg font-bold text-primary\">\r\n                        {formatCurrency(payroll.total_liquido)}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {payroll.observacoes && (\r\n                      <div className=\"mt-2 p-2 bg-muted/50 rounded text-xs\">\r\n                        <p className=\"text-muted-foreground\">\r\n                          <strong>Obs:</strong> {payroll.observacoes}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              <TrendingUp className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\r\n              <p>Nenhum hist√≥rico de pagamento encontrado</p>\r\n            </div>\r\n          )}\r\n        </ScrollArea>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { MapPin, DollarSign, Fuel, Package, TrendingUp, Route } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { format } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\n\r\ninterface RouteFinancial {\r\n  session: any;\r\n  ctes: any[];\r\n  refuelings: any[];\r\n  totalRevenue: number;\r\n  totalFuel: number;\r\n  netValue: number;\r\n}\r\n\r\nexport const DriverRouteFinancial = () => {\r\n  const { user } = useAuth();\r\n  const [routes, setRoutes] = useState<RouteFinancial[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadRouteFinancials();\r\n  }, [user]);\r\n\r\n  const loadRouteFinancials = async () => {\r\n    if (!user) return;\r\n\r\n    // Buscar sess√µes finalizadas com trip_id\r\n    const { data: sessions } = await supabase\r\n      .from('driver_work_sessions')\r\n      .select('*')\r\n      .eq('driver_id', user.id)\r\n      .eq('status', 'finalizada')\r\n      .not('trip_id', 'is', null)\r\n      .order('data_inicio', { ascending: false })\r\n      .limit(20);\r\n\r\n    if (!sessions) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Para cada sess√£o, buscar CTEs e abastecimentos relacionados\r\n    const routeFinancials: RouteFinancial[] = [];\r\n\r\n    for (const session of sessions) {\r\n      // Buscar CTEs da viagem\r\n      const { data: ctes } = await supabase\r\n        .from('cte')\r\n        .select('*')\r\n        .eq('trip_id', session.trip_id);\r\n\r\n      // Buscar abastecimentos da sess√£o\r\n      const { data: refuelings } = await supabase\r\n        .from('refuelings')\r\n        .select('*')\r\n        .eq('driver_id', user.id)\r\n        .gte('timestamp', session.data_inicio)\r\n        .lte('timestamp', session.data_fim || new Date().toISOString());\r\n\r\n      const totalRevenue = ctes?.reduce((sum, cte) => sum + Number(cte.valor_total), 0) || 0;\r\n      const totalFuel = refuelings?.reduce((sum, ref) => sum + Number(ref.total_value), 0) || 0;\r\n      const netValue = totalRevenue - totalFuel;\r\n\r\n      routeFinancials.push({\r\n        session,\r\n        ctes: ctes || [],\r\n        refuelings: refuelings || [],\r\n        totalRevenue,\r\n        totalFuel,\r\n        netValue,\r\n      });\r\n    }\r\n\r\n    setRoutes(routeFinancials);\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL'\r\n    }).format(value);\r\n  };\r\n\r\n  const getRouteOriginDestination = (ctes: any[]) => {\r\n    if (ctes.length === 0) return { origin: 'N/A', destination: 'N/A' };\r\n    \r\n    const firstCte = ctes[0];\r\n    const lastCte = ctes[ctes.length - 1];\r\n    \r\n    return {\r\n      origin: `${firstCte.remetente_cidade}/${firstCte.remetente_uf}`,\r\n      destination: `${lastCte.destinatario_cidade}/${lastCte.destinatario_uf}`\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Route className=\"h-5 w-5\" />\r\n            Rotas & Financeiro\r\n          </CardTitle>\r\n          <Badge variant=\"outline\">√öltimas 20 viagens</Badge>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ScrollArea className=\"h-[600px] pr-4\">\r\n          {loading ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              Carregando rotas...\r\n            </div>\r\n          ) : routes.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {routes.map((route, index) => {\r\n                const { origin, destination } = getRouteOriginDestination(route.ctes);\r\n                \r\n                return (\r\n                  <div\r\n                    key={route.session.id}\r\n                    className=\"p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between mb-3\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                          <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span className=\"font-semibold\">Viagem #{routes.length - index}</span>\r\n                        </div>\r\n                        <div className=\"space-y-1 text-sm\">\r\n                          <p className=\"text-muted-foreground\">\r\n                            <strong>Origem:</strong> {origin}\r\n                          </p>\r\n                          <p className=\"text-muted-foreground\">\r\n                            <strong>Destino:</strong> {destination}\r\n                          </p>\r\n                          <p className=\"text-muted-foreground\">\r\n                            <strong>Ve√≠culo:</strong> {route.session.vehicle_plate}\r\n                          </p>\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            {format(new Date(route.session.data_inicio), \"dd/MM/yyyy\", { locale: ptBR })}\r\n                            {route.session.data_fim && \r\n                              ` - ${format(new Date(route.session.data_fim), \"dd/MM/yyyy\", { locale: ptBR })}`\r\n                            }\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Separator className=\"my-3\" />\r\n\r\n                    <div className=\"grid grid-cols-2 gap-3 mb-3\">\r\n                      <div className=\"p-3 bg-green-500/10 rounded-lg\">\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                          <Package className=\"h-4 w-4 text-green-600\" />\r\n                          <span className=\"text-xs text-muted-foreground\">CT-es</span>\r\n                        </div>\r\n                        <p className=\"text-lg font-bold text-green-600\">\r\n                          {route.ctes.length}\r\n                        </p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          {formatCurrency(route.totalRevenue)}\r\n                        </p>\r\n                      </div>\r\n\r\n                      <div className=\"p-3 bg-red-500/10 rounded-lg\">\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                          <Fuel className=\"h-4 w-4 text-red-600\" />\r\n                          <span className=\"text-xs text-muted-foreground\">Combust√≠vel</span>\r\n                        </div>\r\n                        <p className=\"text-lg font-bold text-red-600\">\r\n                          {route.refuelings.length}x\r\n                        </p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          {formatCurrency(route.totalFuel)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-primary/10 rounded-lg\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <TrendingUp className=\"h-4 w-4\" />\r\n                        <span className=\"font-semibold\">Valor L√≠quido</span>\r\n                      </div>\r\n                      <span className={`text-lg font-bold ${route.netValue >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                        {formatCurrency(route.netValue)}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {route.ctes.length > 0 && (\r\n                      <div className=\"mt-3 space-y-1\">\r\n                        <p className=\"text-xs font-semibold text-muted-foreground\">CT-es desta rota:</p>\r\n                        <div className=\"space-y-1\">\r\n                          {route.ctes.map((cte) => (\r\n                            <div key={cte.id} className=\"text-xs p-2 bg-muted/30 rounded\">\r\n                              <span className=\"font-mono\">{cte.numero_cte}</span>\r\n                              {' - '}\r\n                              <span className=\"text-muted-foreground\">\r\n                                {cte.remetente_cidade}/{cte.remetente_uf} ‚Üí {cte.destinatario_cidade}/{cte.destinatario_uf}\r\n                              </span>\r\n                              {' - '}\r\n                              <span className=\"font-semibold\">{formatCurrency(cte.valor_total)}</span>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              <Route className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\r\n              <p>Nenhuma rota com dados financeiros encontrada</p>\r\n            </div>\r\n          )}\r\n        </ScrollArea>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { useTomTom } from '@/hooks/useTomTom';\r\nimport { MapPin, Navigation, Loader2, Plus, Trash2, Clock, TrendingUp } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\n\r\ninterface DeliveryPoint {\r\n  address: string;\r\n  lat?: number;\r\n  lng?: number;\r\n}\r\n\r\nexport function DeliveryRouting() {\r\n  const { geocode, calculateRoute, loading } = useTomTom();\r\n  const [origin, setOrigin] = useState<DeliveryPoint>({ address: '' });\r\n  const [deliveries, setDeliveries] = useState<DeliveryPoint[]>([{ address: '' }]);\r\n  const [routeInfo, setRouteInfo] = useState<{\r\n    totalDistance: number;\r\n    totalDuration: number;\r\n    segments: Array<{ from: string; to: string; distance: number; duration: number }>;\r\n  } | null>(null);\r\n  const [isCalculating, setIsCalculating] = useState(false);\r\n\r\n  const addDelivery = () => {\r\n    setDeliveries([...deliveries, { address: '' }]);\r\n  };\r\n\r\n  const removeDelivery = (index: number) => {\r\n    if (deliveries.length > 1) {\r\n      setDeliveries(deliveries.filter((_, i) => i !== index));\r\n    }\r\n  };\r\n\r\n  const updateDeliveryAddress = (index: number, address: string) => {\r\n    const updated = [...deliveries];\r\n    updated[index].address = address;\r\n    setDeliveries(updated);\r\n  };\r\n\r\n  const handleCalculateRoute = async () => {\r\n    // Validar origem\r\n    if (!origin.address.trim()) {\r\n      toast.error('Informe o endere√ßo de origem');\r\n      return;\r\n    }\r\n\r\n    // Validar entregas\r\n    const validDeliveries = deliveries.filter(d => d.address.trim());\r\n    if (validDeliveries.length === 0) {\r\n      toast.error('Informe pelo menos um endere√ßo de entrega');\r\n      return;\r\n    }\r\n\r\n    setIsCalculating(true);\r\n    setRouteInfo(null);\r\n\r\n    try {\r\n      // Geocodificar origem\r\n      toast.info('Buscando endere√ßo de origem...');\r\n      const originResult = await geocode(origin.address);\r\n      if (!originResult) {\r\n        toast.error('Endere√ßo de origem n√£o encontrado');\r\n        setIsCalculating(false);\r\n        return;\r\n      }\r\n\r\n      const originCoords = {\r\n        lat: originResult.position.lat,\r\n        lng: originResult.position.lon,\r\n        address: originResult.address.freeformAddress\r\n      };\r\n\r\n      setOrigin(prev => ({ ...prev, lat: originCoords.lat, lng: originCoords.lng }));\r\n\r\n      // Geocodificar entregas\r\n      toast.info('Buscando endere√ßos de entrega...');\r\n      const deliveryCoords = [];\r\n      \r\n      for (let i = 0; i < validDeliveries.length; i++) {\r\n        const result = await geocode(validDeliveries[i].address);\r\n        if (!result) {\r\n          toast.warning(`Entrega ${i + 1}: endere√ßo n√£o encontrado, pulando...`);\r\n          continue;\r\n        }\r\n\r\n        deliveryCoords.push({\r\n          lat: result.position.lat,\r\n          lng: result.position.lon,\r\n          address: result.address.freeformAddress,\r\n          originalIndex: deliveries.indexOf(validDeliveries[i])\r\n        });\r\n      }\r\n\r\n      if (deliveryCoords.length === 0) {\r\n        toast.error('Nenhum endere√ßo de entrega v√°lido encontrado');\r\n        setIsCalculating(false);\r\n        return;\r\n      }\r\n\r\n      // Atualizar coordenadas das entregas\r\n      const updatedDeliveries = [...deliveries];\r\n      deliveryCoords.forEach(coord => {\r\n        updatedDeliveries[coord.originalIndex] = {\r\n          address: coord.address,\r\n          lat: coord.lat,\r\n          lng: coord.lng\r\n        };\r\n      });\r\n      setDeliveries(updatedDeliveries);\r\n\r\n      // Calcular rotas segmento por segmento\r\n      toast.info('Calculando rota otimizada...');\r\n      const allPoints = [originCoords, ...deliveryCoords];\r\n      const segments = [];\r\n      let totalDistance = 0;\r\n      let totalDuration = 0;\r\n\r\n      for (let i = 0; i < allPoints.length - 1; i++) {\r\n        const segment = await calculateRoute(\r\n          { lat: allPoints[i].lat, lng: allPoints[i].lng },\r\n          { lat: allPoints[i + 1].lat, lng: allPoints[i + 1].lng },\r\n          'truck'\r\n        );\r\n\r\n        if (segment) {\r\n          totalDistance += segment.distance;\r\n          totalDuration += segment.duration;\r\n          \r\n          segments.push({\r\n            from: allPoints[i].address,\r\n            to: allPoints[i + 1].address,\r\n            distance: segment.distance,\r\n            duration: segment.duration\r\n          });\r\n        }\r\n      }\r\n\r\n      setRouteInfo({\r\n        totalDistance,\r\n        totalDuration,\r\n        segments\r\n      });\r\n\r\n      toast.success('Rota calculada com sucesso!');\r\n    } catch (error) {\r\n      console.error('Erro ao calcular rota:', error);\r\n      toast.error('Erro ao calcular rota');\r\n    } finally {\r\n      setIsCalculating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <MapPin className=\"h-5 w-5 text-green-500\" />\r\n            Origem da Viagem\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            <div>\r\n              <Label htmlFor=\"origin\">Endere√ßo de Origem</Label>\r\n              <Input\r\n                id=\"origin\"\r\n                value={origin.address}\r\n                onChange={(e) => setOrigin({ address: e.target.value })}\r\n                placeholder=\"Ex: Av. Paulista, 1000 - S√£o Paulo, SP\"\r\n                disabled={isCalculating}\r\n              />\r\n            </div>\r\n            {origin.lat && origin.lng && (\r\n              <div className=\"text-xs text-muted-foreground bg-muted p-2 rounded\">\r\n                üìç Coordenadas: {origin.lat.toFixed(6)}, {origin.lng.toFixed(6)}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center justify-between\">\r\n            <span className=\"flex items-center gap-2\">\r\n              <MapPin className=\"h-5 w-5 text-blue-500\" />\r\n              Entregas\r\n            </span>\r\n            <Button size=\"sm\" onClick={addDelivery} disabled={isCalculating}>\r\n              <Plus className=\"h-4 w-4 mr-1\" />\r\n              Adicionar\r\n            </Button>\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {deliveries.map((delivery, index) => (\r\n            <div key={index} className=\"space-y-3 p-4 border rounded-lg\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label>Entrega {index + 1}</Label>\r\n                {deliveries.length > 1 && (\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"ghost\"\r\n                    onClick={() => removeDelivery(index)}\r\n                    disabled={isCalculating}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              <Input\r\n                value={delivery.address}\r\n                onChange={(e) => updateDeliveryAddress(index, e.target.value)}\r\n                placeholder=\"Ex: Rua Augusta, 500 - S√£o Paulo, SP\"\r\n                disabled={isCalculating}\r\n              />\r\n              {delivery.lat && delivery.lng && (\r\n                <div className=\"text-xs text-muted-foreground bg-muted p-2 rounded\">\r\n                  üìç Coordenadas: {delivery.lat.toFixed(6)}, {delivery.lng.toFixed(6)}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Button\r\n        className=\"w-full\"\r\n        size=\"lg\"\r\n        onClick={handleCalculateRoute}\r\n        disabled={isCalculating || loading}\r\n      >\r\n        {isCalculating || loading ? (\r\n          <>\r\n            <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" />\r\n            Calculando rota...\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Navigation className=\"h-5 w-5 mr-2\" />\r\n            Calcular Rota Otimizada\r\n          </>\r\n        )}\r\n      </Button>\r\n\r\n      {routeInfo && (\r\n        <Card className=\"border-primary\">\r\n          <CardHeader>\r\n            <CardTitle>Resumo da Rota</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <TrendingUp className=\"h-4 w-4\" />\r\n                  Dist√¢ncia Total\r\n                </div>\r\n                <div className=\"text-2xl font-bold\">\r\n                  {(routeInfo.totalDistance / 1000).toFixed(1)} km\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <Clock className=\"h-4 w-4\" />\r\n                  Tempo Estimado\r\n                </div>\r\n                <div className=\"text-2xl font-bold\">\r\n                  {Math.floor(routeInfo.totalDuration / 3600)}h{' '}\r\n                  {Math.floor((routeInfo.totalDuration % 3600) / 60)}min\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-t pt-4\">\r\n              <h4 className=\"font-semibold mb-3\">Segmentos da Rota</h4>\r\n              <div className=\"space-y-2\">\r\n                {routeInfo.segments.map((segment, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"flex items-start gap-3 p-3 bg-muted rounded-lg text-sm\"\r\n                  >\r\n                    <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold\">\r\n                      {index + 1}\r\n                    </div>\r\n                    <div className=\"flex-1 space-y-1\">\r\n                      <div className=\"font-medium\">\r\n                        {segment.from} ‚Üí {segment.to}\r\n                      </div>\r\n                      <div className=\"text-muted-foreground flex gap-4\">\r\n                        <span>{(segment.distance / 1000).toFixed(1)} km</span>\r\n                        <span>\r\n                          {Math.floor(segment.duration / 60)} min\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\nexport function LiveLocationToggle() {\n  const { user } = useAuth();\n  const [enabled, setEnabled] = useState(false);\n  const watchId = useRef<number | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (watchId.current != null) navigator.geolocation.clearWatch(watchId.current);\n    };\n  }, []);\n\n  const start = () => {\n    if (!user) return;\n    watchId.current = navigator.geolocation.watchPosition(async (pos) => {\n      const { latitude, longitude } = pos.coords;\n      await supabase.from(\"vehicle_tracking\" as any).insert({ driver_id: user.id, vehicle_plate: null, latitude, longitude, speed_kmh: null, recorded_at: new Date().toISOString() } as any);\n    }, () => {}, { enableHighAccuracy: true, maximumAge: 10000, timeout: 20000 });\n    setEnabled(true);\n  };\n\n  const stop = () => {\n    if (watchId.current != null) navigator.geolocation.clearWatch(watchId.current);\n    watchId.current = null;\n    setEnabled(false);\n  };\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <Button variant={enabled ? \"destructive\" : \"modern\"} onClick={enabled ? stop : start}>{enabled ? \"Parar Localiza√ß√£o Ao Vivo\" : \"Iniciar Localiza√ß√£o Ao Vivo\"}</Button>\n    </div>\n  );\n}\n\n","import { Layout } from \"@/components/Layout\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { \r\n  Clock, \r\n  Wallet, \r\n  Calendar,\r\n  MapPin,\r\n  Truck,\r\n  DollarSign,\r\n  CheckCircle,\r\n  Loader2,\r\n  Fuel,\r\n  Receipt,\r\n  ClipboardCheck,\r\n  Bell,\r\n  MessageSquare,\r\n  TrendingUp\r\n} from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { StatCard } from \"@/components/StatCard\";\r\nimport { WorkSessionPanel } from \"@/components/driver/WorkSessionPanel\";\r\nimport { DriverJourneyStatus } from \"@/components/driver/DriverJourneyStatus\";\r\nimport { DriverEarnings } from \"@/components/driver/DriverEarnings\";\r\nimport { FuelExpenseDialog } from \"@/components/driver/FuelExpenseDialog\";\r\nimport { TripExpenseDialog } from \"@/components/driver/TripExpenseDialog\";\r\nimport { DriverChecklist } from \"@/components/driver/DriverChecklist\";\r\nimport { TripAlerts } from \"@/components/driver/TripAlerts\";\r\nimport { DriverPerformance } from \"@/components/driver/DriverPerformance\";\r\nimport { DriverPayrollHistory } from \"@/components/driver/DriverPayrollHistory\";\r\nimport { DriverRouteFinancial } from \"@/components/driver/DriverRouteFinancial\";\r\nimport { DeliveryRouting } from \"@/components/driver/DeliveryRouting\";\nimport { LiveLocationToggle } from \"@/components/driver/LiveLocationToggle\";\nimport GaelChatbot from \"@/components/GaelChatbot\";\r\nimport { format, differenceInDays } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function DriverApp() {\r\n  const { user } = useAuth();\r\n\r\n  // Buscar sess√£o ativa\r\n  const { data: activeSession, isLoading: loadingSession } = useQuery({\r\n    queryKey: ['active-session', user?.id],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('driver_work_sessions')\r\n        .select('*')\r\n        .eq('driver_id', user?.id)\r\n        .eq('status', 'em_andamento')\r\n        .single();\r\n      \r\n      if (error && error.code !== 'PGRST116') throw error;\r\n      return data;\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  // Buscar di√°rias pendentes\r\n  const { data: dailyAllowances, isLoading: loadingAllowances, refetch: refetchAllowances } = useQuery({\r\n    queryKey: ['daily-allowances', user?.id],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('driver_work_sessions')\r\n        .select('*')\r\n        .eq('driver_id', user?.id)\r\n        .eq('status', 'finalizada')\r\n        .order('data_inicio', { ascending: false })\r\n        .limit(10);\r\n      \r\n      if (error) throw error;\r\n      return data || [];\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  // Buscar gratifica√ß√µes do m√™s\r\n  const { data: monthlyEarnings, isLoading: loadingEarnings } = useQuery({\r\n    queryKey: ['monthly-earnings', user?.id],\r\n    queryFn: async () => {\r\n      const now = new Date();\r\n      const { data, error } = await supabase\r\n        .from('driver_payroll')\r\n        .select('*')\r\n        .eq('driver_id', user?.id)\r\n        .eq('mes', now.getMonth() + 1)\r\n        .eq('ano', now.getFullYear())\r\n        .maybeSingle();\r\n      \r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  const calculateDailyAllowance = (session: any) => {\r\n    if (!session.data_inicio || !session.data_fim) return 0;\r\n    \r\n    const start = new Date(session.data_inicio);\r\n    const end = new Date(session.data_fim);\r\n    const daysAway = differenceInDays(end, start);\r\n    \r\n    // R$ 80 por dia fora (exemplo)\r\n    return daysAway * 80;\r\n  };\r\n\r\n  const handleRequestAllowanceApproval = async (sessionId: string) => {\r\n    try {\r\n      // Aqui voc√™ pode criar uma notifica√ß√£o ou registro de solicita√ß√£o\r\n      const { error } = await supabase\r\n        .from('notifications')\r\n        .insert({\r\n          user_id: user?.id,\r\n          title: 'Solicita√ß√£o de Di√°ria',\r\n          message: `Motorista solicitou aprova√ß√£o de di√°ria da viagem ${sessionId}`,\r\n          type: 'info',\r\n          module: 'driver'\r\n        });\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success('Solicita√ß√£o enviada!', {\r\n        description: 'Seu pedido de di√°ria foi enviado para aprova√ß√£o'\r\n      });\r\n      \r\n      refetchAllowances();\r\n    } catch (error) {\r\n      console.error('Erro ao solicitar aprova√ß√£o:', error);\r\n      toast.error('Erro ao enviar solicita√ß√£o');\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL'\r\n    }).format(value);\r\n  };\r\n\r\n  if (loadingSession || loadingAllowances || loadingEarnings) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"flex items-center justify-center h-96\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  const totalPendingAllowances = dailyAllowances\r\n    ?.filter((s: any) => !s.allowance_approved)\r\n    .reduce((sum: number, s: any) => sum + calculateDailyAllowance(s), 0) || 0;\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"space-y-6 max-w-7xl mx-auto\">\r\n        {/* Header Mobile-friendly */}\r\n        <div className=\"space-y-2\">\n          <h1 className=\"text-2xl md:text-3xl font-bold\">üöö Meu App</h1>\n          <p className=\"text-sm md:text-base text-muted-foreground\">\n            Gest√£o completa da sua jornada\n          </p>\n          <LiveLocationToggle />\n        </div>\n\r\n        {/* KPIs Mobile-friendly */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4\">\r\n          <StatCard\r\n            title=\"Status\"\r\n            value={activeSession ? \"Em Viagem\" : \"Parado\"}\r\n            icon={Truck}\r\n            className=\"text-sm\"\r\n          />\r\n          <StatCard\r\n            title=\"M√™s Atual\"\r\n            value={formatCurrency(monthlyEarnings?.total_liquido || 0)}\r\n            icon={Wallet}\r\n            className=\"text-sm\"\r\n          />\r\n          <StatCard\r\n            title=\"Di√°rias Pendentes\"\r\n            value={dailyAllowances?.filter((s: any) => !s.allowance_approved).length || 0}\r\n            icon={Calendar}\r\n            className=\"text-sm\"\r\n          />\r\n          <StatCard\r\n            title=\"Di√°rias R$\"\r\n            value={formatCurrency(totalPendingAllowances)}\r\n            icon={DollarSign}\r\n            className=\"text-sm\"\r\n          />\r\n        </div>\r\n\r\n        {/* Tabs Mobile-optimized */}\r\n        <Tabs defaultValue=\"jornada\" className=\"w-full\">\r\n          <TabsList className=\"grid w-full grid-cols-3 sm:grid-cols-4 lg:grid-cols-9 h-auto gap-1\">\r\n            <TabsTrigger value=\"jornada\" className=\"text-xs py-2\">\r\n              <Clock className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Jornada</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"gratificacao\" className=\"text-xs py-2\">\r\n              <Wallet className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Gratifica√ß√£o</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"desempenho\" className=\"text-xs py-2\">\r\n              <Clock className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Desempenho</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"historico\" className=\"text-xs py-2\">\r\n              <Receipt className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Hist√≥rico</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"rotas\" className=\"text-xs py-2\">\r\n              <MapPin className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Rotas</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"diarias\" className=\"text-xs py-2\">\r\n              <Calendar className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Di√°rias</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"despesas\" className=\"text-xs py-2\">\r\n              <Fuel className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Despesas</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"checklist\" className=\"text-xs py-2\">\r\n              <ClipboardCheck className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Checklist</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"viagens\" className=\"text-xs py-2\">\r\n              <Bell className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Viagens</span>\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          {/* Aba Jornada */}\r\n          <TabsContent value=\"jornada\" className=\"space-y-4 mt-4\">\r\n            {activeSession && <DriverJourneyStatus />}\r\n            <WorkSessionPanel />\r\n          </TabsContent>\r\n\r\n          {/* Aba Gratifica√ß√£o */}\r\n          <TabsContent value=\"gratificacao\" className=\"space-y-4 mt-4\">\r\n            <DriverEarnings />\r\n          </TabsContent>\r\n\r\n          {/* Aba Desempenho */}\r\n          <TabsContent value=\"desempenho\" className=\"space-y-4 mt-4\">\r\n            <DriverPerformance />\r\n          </TabsContent>\r\n\r\n          {/* Aba Hist√≥rico */}\r\n          <TabsContent value=\"historico\" className=\"space-y-4 mt-4\">\r\n            <DriverPayrollHistory />\r\n          </TabsContent>\r\n\r\n          {/* Aba Rotas */}\r\n          <TabsContent value=\"rotas\" className=\"space-y-4 mt-4\">\r\n            <Tabs defaultValue=\"planejamento\" className=\"w-full\">\r\n              <TabsList className=\"grid w-full grid-cols-2\">\r\n                <TabsTrigger value=\"planejamento\">Planejar Rota</TabsTrigger>\r\n                <TabsTrigger value=\"financeiro\">Financeiro</TabsTrigger>\r\n              </TabsList>\r\n              <TabsContent value=\"planejamento\" className=\"mt-4\">\r\n                <DeliveryRouting />\r\n              </TabsContent>\r\n              <TabsContent value=\"financeiro\" className=\"mt-4\">\r\n                <DriverRouteFinancial />\r\n              </TabsContent>\r\n            </Tabs>\r\n          </TabsContent>\r\n\r\n          {/* Aba Di√°rias */}\r\n          <TabsContent value=\"diarias\" className=\"space-y-4 mt-4\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2 text-lg md:text-xl\">\r\n                  <Calendar className=\"w-5 h-5\" />\r\n                  Minhas Di√°rias\r\n                </CardTitle>\r\n                <p className=\"text-xs md:text-sm text-muted-foreground\">\r\n                  Di√°rias autom√°ticas baseadas em dias fora da garagem\r\n                </p>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                {dailyAllowances && dailyAllowances.length > 0 ? (\r\n                  dailyAllowances.map((session: any) => {\r\n                    const daysAway = session.data_fim \r\n                      ? differenceInDays(new Date(session.data_fim), new Date(session.data_inicio))\r\n                      : 0;\r\n                    const allowanceValue = calculateDailyAllowance(session);\r\n\r\n                    return (\r\n                      <Card key={session.id} className=\"border-l-4 border-l-primary/20\">\r\n                        <CardContent className=\"p-4 space-y-3\">\r\n                          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\">\r\n                            <div className=\"space-y-1\">\r\n                              <div className=\"flex items-center gap-2 flex-wrap\">\r\n                                <Badge variant=\"outline\" className=\"text-xs\">\r\n                                  {session.vehicle_plate}\r\n                                </Badge>\r\n                                <span className=\"text-xs text-muted-foreground\">\r\n                                  {format(new Date(session.data_inicio), 'dd/MM/yyyy', { locale: ptBR })}\r\n                                  {' ‚Üí '}\r\n                                  {session.data_fim && format(new Date(session.data_fim), 'dd/MM/yyyy', { locale: ptBR })}\r\n                                </span>\r\n                              </div>\r\n                              <p className=\"text-sm font-medium\">\r\n                                {daysAway} {daysAway === 1 ? 'dia' : 'dias'} fora\r\n                              </p>\r\n                            </div>\r\n                            \r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"text-right\">\r\n                                <p className=\"text-lg font-bold text-green-600\">\r\n                                  {formatCurrency(allowanceValue)}\r\n                                </p>\r\n                                <Badge \r\n                                  variant={session.allowance_approved ? \"default\" : \"secondary\"}\r\n                                  className=\"text-xs\"\r\n                                >\r\n                                  {session.allowance_approved ? (\r\n                                    <>\r\n                                      <CheckCircle className=\"w-3 h-3 mr-1\" />\r\n                                      Aprovado\r\n                                    </>\r\n                                  ) : (\r\n                                    'Pendente'\r\n                                  )}\r\n                                </Badge>\r\n                              </div>\r\n                              \r\n                              {!session.allowance_approved && (\r\n                                <Button\r\n                                  size=\"sm\"\r\n                                  onClick={() => handleRequestAllowanceApproval(session.id)}\r\n                                  className=\"text-xs\"\r\n                                >\r\n                                  Solicitar\r\n                                </Button>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n\r\n                          {session.localizacao_inicio && (\r\n                            <div className=\"flex items-start gap-2 text-xs text-muted-foreground pt-2 border-t\">\r\n                              <MapPin className=\"w-3 h-3 mt-0.5 flex-shrink-0\" />\r\n                              <span className=\"line-clamp-1\">\r\n                                {session.localizacao_inicio.city}, {session.localizacao_inicio.state}\r\n                                {session.localizacao_fim && ` ‚Üí ${session.localizacao_fim.city}, ${session.localizacao_fim.state}`}\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n                        </CardContent>\r\n                      </Card>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <div className=\"text-center py-8 text-muted-foreground\">\r\n                    <Calendar className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\r\n                    <p className=\"text-sm\">Nenhuma di√°ria registrada</p>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Aba Despesas */}\r\n          <TabsContent value=\"despesas\" className=\"space-y-4 mt-4\">\r\n            <div className=\"grid gap-4\">\r\n              <FuelExpenseDialog />\r\n              <TripExpenseDialog />\r\n            </div>\r\n          </TabsContent>\r\n\r\n          {/* Aba Checklist */}\r\n          <TabsContent value=\"checklist\" className=\"space-y-4 mt-4\">\r\n            <DriverChecklist />\r\n          </TabsContent>\r\n\r\n          {/* Aba Viagens */}\r\n          <TabsContent value=\"viagens\" className=\"space-y-4 mt-4\">\r\n            <TripAlerts />\r\n          </TabsContent>\r\n        </Tabs>\r\n\r\n        {/* Chatbot flutuante */}\r\n        <div className=\"fixed bottom-4 right-4 z-50\">\r\n          <GaelChatbot />\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":["__iconNode","Receipt","createLucideIcon","Route","Trophy","differenceInDays","dateLeft","dateRight","_dateLeft","toDate","_dateRight","sign","compareLocalAsc","difference","differenceInCalendarDays","isLastDayNotFull","result","diff","FuelExpenseDialog","user","useAuth","open","setOpen","useState","loading","setLoading","recent","setRecent","formData","setFormData","vehicle_plate","km","liters","total_value","litersNum","parseFloat","totalNum","kmNum","parseInt","pricePerLiter","canSubmit","useEffect","data","supabase","from","select","order","ascending","limit","loadRecent","handleSubmit","e","preventDefault","error","insert","driver_id","id","cost_per_km","Math","max","price_per_liter","toast","success","console","jsxs","Dialog","jsx","DialogTrigger","Button","Fuel","DialogContent","DialogHeader","DialogTitle","Label","VehicleSelect","v","Input","target","value","toFixed","length","map","r","Number","TripExpenseDialog","tipo","descricao","valor","plate","fornecedor","data_vencimento","Date","toISOString","status","categoria","created_by","user_id","title","message","type","module","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","checklistItems","label","DriverChecklist","checked","setChecked","vehiclePlate","setVehiclePlate","every","item","items","timestamp","checklist_type","mechanic_id","completed_at","Card","CardHeader","CardTitle","ClipboardCheck","CardContent","Checkbox","TripAlerts","trips","refetch","useQuery","queryKey","queryFn","eq","enabled","handleAcceptTrip","tripId","update","Bell","trip","Badge","format","created_at","locale","ptBR","cte","MapPin","remetente_cidade","remetente_uf","Navigation","destinatario_cidade","destinatario_uf","Clock","departure_date","DriverPerformance","stats","setStats","onTimeDeliveries","totalTrips","averageRating","totalKm","violations","achievements","setAchievements","loadPerformance","sessions","refuelings","violationsCount","onTimeRate","round","newAchievements","push","icon","description","achieved","currentMonth","toLocaleDateString","month","year","onTimePercentage","TrendingUp","Target","Star","Zap","achievement","Award","DriverPayrollHistory","history","setHistory","loadHistory","formatCurrency","Intl","NumberFormat","style","currency","getMonthName","date","getStatusBadge","variants","variant","config","History","FileText","ScrollArea","payroll","Calendar","mes","ano","Separator","salario_base","valor_horas_normais","valor_horas_extras","valor_horas_espera","total_valor_ctes","total_combustivel","base_calculo_gratificacao","valor_gratificacao","DollarSign","total_liquido","observacoes","DriverRouteFinancial","routes","setRoutes","loadRouteFinancials","not","routeFinancials","session","ctes","trip_id","gte","data_inicio","lte","data_fim","totalRevenue","reduce","sum","valor_total","totalFuel","ref","netValue","getRouteOriginDestination","origin","destination","firstCte","lastCte","route","index","Package","numero_cte","DeliveryRouting","geocode","calculateRoute","useTomTom","setOrigin","address","deliveries","setDeliveries","routeInfo","setRouteInfo","isCalculating","setIsCalculating","addDelivery","removeDelivery","filter","_","i","updateDeliveryAddress","updated","handleCalculateRoute","trim","validDeliveries","d","info","originResult","originCoords","lat","position","lng","lon","freeformAddress","prev","deliveryCoords","warning","originalIndex","indexOf","updatedDeliveries","forEach","coord","allPoints","segments","totalDistance","totalDuration","segment","distance","duration","to","Plus","delivery","Trash2","Fragment","Loader2","floor","LiveLocationToggle","setEnabled","watchId","useRef","current","geolocation","clearWatch","start","navigator","watchPosition","pos","latitude","longitude","coords","speed_kmh","recorded_at","enableHighAccuracy","maximumAge","timeout","stop","DriverApp","activeSession","isLoading","loadingSession","single","code","dailyAllowances","loadingAllowances","refetchAllowances","monthlyEarnings","loadingEarnings","now","getMonth","getFullYear","maybeSingle","calculateDailyAllowance","end","handleRequestAllowanceApproval","sessionId","Layout","totalPendingAllowances","s","allowance_approved","StatCard","Truck","Wallet","Tabs","TabsList","TabsTrigger","TabsContent","DriverJourneyStatus","WorkSessionPanel","DriverEarnings","daysAway","allowanceValue","CheckCircle","localizacao_inicio","city","state","localizacao_fim","GaelChatbot"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}