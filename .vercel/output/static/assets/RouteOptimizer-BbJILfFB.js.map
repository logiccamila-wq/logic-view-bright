{"version":3,"file":"RouteOptimizer-BbJILfFB.js","sources":["../../src/components/tms/RouteMap.tsx","../../src/components/tms/RouteOptimizer.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\nimport { useTomTom } from '@/hooks/useTomTom';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\ninterface RoutePoint {\r\n  lat: number;\r\n  lng: number;\r\n  label: string;\r\n  type: 'origin' | 'client' | 'delivery';\r\n}\r\n\r\ninterface RouteMapProps {\r\n  points: RoutePoint[];\r\n  routeGeometry?: number[][];\r\n}\r\n\r\nexport function RouteMap({ points, routeGeometry }: RouteMapProps) {\r\n  const mapRef = useRef<L.Map | null>(null);\r\n  const mapContainerRef = useRef<HTMLDivElement>(null);\r\n  const { getTileUrl } = useTomTom();\r\n\r\n  useEffect(() => {\r\n    if (!mapContainerRef.current) return;\r\n\r\n    // Inicializar mapa se não existir\r\n    if (!mapRef.current) {\r\n      mapRef.current = L.map(mapContainerRef.current).setView([-23.5505, -46.6333], 13);\r\n\r\n      // Adicionar tiles do OpenStreetMap\r\n      L.tileLayer(getTileUrl(), {\r\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n        maxZoom: 18\r\n      }).addTo(mapRef.current);\r\n    }\r\n\r\n    // Limpar marcadores e rotas anteriores\r\n    mapRef.current.eachLayer((layer) => {\r\n      if (layer instanceof L.Marker || layer instanceof L.Polyline) {\r\n        mapRef.current?.removeLayer(layer);\r\n      }\r\n    });\r\n\r\n    // Adicionar marcadores para cada ponto\r\n    const bounds = L.latLngBounds([]);\r\n    \r\n    points.forEach((point) => {\r\n      const icon = L.divIcon({\r\n        className: 'custom-marker',\r\n        html: `\r\n          <div class=\"flex flex-col items-center\">\r\n            <div class=\"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${\r\n              point.type === 'origin' ? 'bg-green-500' :\r\n              point.type === 'client' ? 'bg-blue-500' :\r\n              'bg-red-500'\r\n            }\">\r\n              ${point.type === 'origin' ? 'I' : point.type === 'client' ? 'C' : 'E'}\r\n            </div>\r\n            <div class=\"bg-white px-2 py-1 rounded shadow-md text-xs font-semibold mt-1 whitespace-nowrap\">\r\n              ${point.label}\r\n            </div>\r\n          </div>\r\n        `,\r\n        iconSize: [40, 60],\r\n        iconAnchor: [20, 60]\r\n      });\r\n\r\n      const marker = L.marker([point.lat, point.lng], { icon }).addTo(mapRef.current!);\r\n      bounds.extend([point.lat, point.lng]);\r\n    });\r\n\r\n    // Desenhar rota se existir geometria\r\n    if (routeGeometry && routeGeometry.length > 0) {\r\n      const latLngs = routeGeometry.map(coord => L.latLng(coord[1], coord[0]));\r\n      L.polyline(latLngs, {\r\n        color: '#3b82f6',\r\n        weight: 4,\r\n        opacity: 0.7\r\n      }).addTo(mapRef.current!);\r\n    }\r\n\r\n    // Ajustar visualização para mostrar todos os pontos\r\n    if (points.length > 0) {\r\n      mapRef.current.fitBounds(bounds, { padding: [50, 50] });\r\n    }\r\n\r\n    return () => {\r\n      if (mapRef.current) {\r\n        mapRef.current.remove();\r\n        mapRef.current = null;\r\n      }\r\n    };\r\n  }, [points, routeGeometry]);\r\n\r\n  return (\r\n    <div \r\n      ref={mapContainerRef} \r\n      className=\"w-full h-[600px] rounded-lg shadow-lg border\"\r\n    />\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { useTomTom } from '@/hooks/useTomTom';\r\nimport { RouteMap } from './RouteMap';\r\nimport { MapPin, Plus, Trash2, Navigation, Clock, TrendingUp } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\n\r\ninterface RoutePoint {\r\n  lat: number;\r\n  lng: number;\r\n  label: string;\r\n  type: 'origin' | 'client' | 'delivery';\r\n}\r\n\r\nexport function RouteOptimizer() {\r\n  const { calculateRoute, loading } = useTomTom();\r\n  const [origin, setOrigin] = useState({ lat: '', lng: '', label: 'Início' });\r\n  const [client, setClient] = useState({ lat: '', lng: '', label: 'Cliente' });\r\n  const [deliveries, setDeliveries] = useState<Array<{ lat: string; lng: string; label: string }>>([\r\n    { lat: '', lng: '', label: 'Entrega 1' }\r\n  ]);\r\n\r\n  const [routePoints, setRoutePoints] = useState<RoutePoint[]>([]);\r\n  const [routeGeometry, setRouteGeometry] = useState<number[][]>([]);\r\n  const [routeInfo, setRouteInfo] = useState<{\r\n    distance: number;\r\n    duration: number;\r\n  } | null>(null);\r\n\r\n  const addDelivery = () => {\r\n    setDeliveries([...deliveries, { \r\n      lat: '', \r\n      lng: '', \r\n      label: `Entrega ${deliveries.length + 1}` \r\n    }]);\r\n  };\r\n\r\n  const removeDelivery = (index: number) => {\r\n    setDeliveries(deliveries.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const updateDelivery = (index: number, field: 'lat' | 'lng' | 'label', value: string) => {\r\n    const updated = [...deliveries];\r\n    updated[index][field] = value;\r\n    setDeliveries(updated);\r\n  };\r\n\r\n  const calculateOptimizedRoute = async () => {\r\n    // Validar entradas\r\n    if (!origin.lat || !origin.lng) {\r\n      toast.error('Preencha a origem da rota');\r\n      return;\r\n    }\r\n\r\n    if (!client.lat || !client.lng) {\r\n      toast.error('Preencha o endereço do cliente');\r\n      return;\r\n    }\r\n\r\n    const validDeliveries = deliveries.filter(d => d.lat && d.lng);\r\n    if (validDeliveries.length === 0) {\r\n      toast.error('Adicione pelo menos uma entrega');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Montar pontos da rota: Início → Cliente → Entregas\r\n      const points: RoutePoint[] = [\r\n        { ...origin, lat: parseFloat(origin.lat), lng: parseFloat(origin.lng), type: 'origin' },\r\n        { ...client, lat: parseFloat(client.lat), lng: parseFloat(client.lng), type: 'client' },\r\n        ...validDeliveries.map(d => ({\r\n          lat: parseFloat(d.lat),\r\n          lng: parseFloat(d.lng),\r\n          label: d.label,\r\n          type: 'delivery' as const\r\n        }))\r\n      ];\r\n\r\n      setRoutePoints(points);\r\n\r\n      // Calcular rota ponto a ponto\r\n      let totalDistance = 0;\r\n      let totalDuration = 0;\r\n      const allCoordinates: number[][] = [];\r\n\r\n      for (let i = 0; i < points.length - 1; i++) {\r\n        const result = await calculateRoute(\r\n          { lat: points[i].lat, lng: points[i].lng },\r\n          { lat: points[i + 1].lat, lng: points[i + 1].lng },\r\n          'truck'\r\n        );\r\n\r\n        if (result) {\r\n          totalDistance += result.distance;\r\n          totalDuration += result.duration;\r\n          allCoordinates.push(...result.geometry.coordinates);\r\n        }\r\n      }\r\n\r\n      setRouteGeometry(allCoordinates);\r\n      setRouteInfo({\r\n        distance: totalDistance,\r\n        duration: totalDuration\r\n      });\r\n\r\n      toast.success('Rota calculada com sucesso!');\r\n    } catch (error) {\r\n      console.error('Erro ao calcular rota:', error);\r\n      toast.error('Erro ao calcular rota');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n      {/* Formulário de pontos */}\r\n      <div className=\"space-y-4\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <MapPin className=\"h-5 w-5\" />\r\n              Início da Rota\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            <div>\r\n              <Label>Nome</Label>\r\n              <Input\r\n                value={origin.label}\r\n                onChange={(e) => setOrigin({ ...origin, label: e.target.value })}\r\n                placeholder=\"Ex: Garagem Central\"\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-2\">\r\n              <div>\r\n                <Label>Latitude</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  step=\"any\"\r\n                  value={origin.lat}\r\n                  onChange={(e) => setOrigin({ ...origin, lat: e.target.value })}\r\n                  placeholder=\"-23.5505\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label>Longitude</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  step=\"any\"\r\n                  value={origin.lng}\r\n                  onChange={(e) => setOrigin({ ...origin, lng: e.target.value })}\r\n                  placeholder=\"-46.6333\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <MapPin className=\"h-5 w-5 text-blue-500\" />\r\n              Cliente\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            <div>\r\n              <Label>Nome</Label>\r\n              <Input\r\n                value={client.label}\r\n                onChange={(e) => setClient({ ...client, label: e.target.value })}\r\n                placeholder=\"Ex: Cliente ABC\"\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-2 gap-2\">\r\n              <div>\r\n                <Label>Latitude</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  step=\"any\"\r\n                  value={client.lat}\r\n                  onChange={(e) => setClient({ ...client, lat: e.target.value })}\r\n                  placeholder=\"-23.5505\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label>Longitude</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  step=\"any\"\r\n                  value={client.lng}\r\n                  onChange={(e) => setClient({ ...client, lng: e.target.value })}\r\n                  placeholder=\"-46.6333\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center justify-between\">\r\n              <span className=\"flex items-center gap-2\">\r\n                <MapPin className=\"h-5 w-5 text-red-500\" />\r\n                Entregas\r\n              </span>\r\n              <Button size=\"sm\" onClick={addDelivery}>\r\n                <Plus className=\"h-4 w-4\" />\r\n              </Button>\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {deliveries.map((delivery, index) => (\r\n              <div key={index} className=\"space-y-3 pb-4 border-b last:border-b-0\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Label>Entrega {index + 1}</Label>\r\n                  {deliveries.length > 1 && (\r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"ghost\"\r\n                      onClick={() => removeDelivery(index)}\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n                <Input\r\n                  value={delivery.label}\r\n                  onChange={(e) => updateDelivery(index, 'label', e.target.value)}\r\n                  placeholder={`Nome da entrega ${index + 1}`}\r\n                />\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  <Input\r\n                    type=\"number\"\r\n                    step=\"any\"\r\n                    value={delivery.lat}\r\n                    onChange={(e) => updateDelivery(index, 'lat', e.target.value)}\r\n                    placeholder=\"Latitude\"\r\n                  />\r\n                  <Input\r\n                    type=\"number\"\r\n                    step=\"any\"\r\n                    value={delivery.lng}\r\n                    onChange={(e) => updateDelivery(index, 'lng', e.target.value)}\r\n                    placeholder=\"Longitude\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Button\r\n          className=\"w-full\"\r\n          size=\"lg\"\r\n          onClick={calculateOptimizedRoute}\r\n          disabled={loading}\r\n        >\r\n          <Navigation className=\"h-5 w-5 mr-2\" />\r\n          {loading ? 'Calculando...' : 'Calcular Rota Otimizada'}\r\n        </Button>\r\n\r\n        {routeInfo && (\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Informações da Rota</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-2\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <TrendingUp className=\"h-4 w-4\" />\r\n                  Distância Total\r\n                </span>\r\n                <span className=\"font-bold\">{(routeInfo.distance / 1000).toFixed(2)} km</span>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <Clock className=\"h-4 w-4\" />\r\n                  Tempo Estimado\r\n                </span>\r\n                <span className=\"font-bold\">\r\n                  {Math.floor(routeInfo.duration / 60)}h {Math.floor(routeInfo.duration % 60)}min\r\n                </span>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n\r\n      {/* Mapa */}\r\n      <div className=\"lg:col-span-2\">\r\n        <RouteMap points={routePoints} routeGeometry={routeGeometry} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["RouteMap","points","routeGeometry","mapRef","useRef","mapContainerRef","getTileUrl","useTomTom","useEffect","current","L","map","setView","tileLayer","attribution","maxZoom","addTo","eachLayer","layer","Marker","Polyline","removeLayer","bounds","latLngBounds","forEach","point","icon","divIcon","className","html","type","label","iconSize","iconAnchor","marker","lat","lng","extend","length","latLngs","coord","latLng","polyline","color","weight","opacity","fitBounds","padding","remove","RouteOptimizer","calculateRoute","loading","origin","setOrigin","useState","client","setClient","deliveries","setDeliveries","routePoints","setRoutePoints","setRouteGeometry","routeInfo","setRouteInfo","addDelivery","removeDelivery","index","filter","_","i","updateDelivery","field","value","updated","calculateOptimizedRoute","toast","error","validDeliveries","d","parseFloat","totalDistance","totalDuration","allCoordinates","result","distance","duration","push","geometry","coordinates","success","console","jsxs","Card","jsx","CardHeader","CardTitle","MapPin","CardContent","Label","Input","e","target","Button","Plus","delivery","Trash2","Navigation","TrendingUp","toFixed","Clock","Math","floor"],"mappings":"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"}