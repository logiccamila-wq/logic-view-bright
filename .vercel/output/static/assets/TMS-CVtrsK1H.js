const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jszip.min-BYpv1T3K.js","assets/index-C8gJK6VO.js","assets/index-CQsXSXM6.css"])))=>i.map(i=>d[i]);
import{a as Je,r as p,s as L,j as e,d as j,B as _,_ as Ze,H as We,K as Qe,N as Le,O as ce,Q as he,V as me,Y as Ye,$ as Ee,a0 as xe,T as V,P as te,L as et}from"./index-C8gJK6VO.js";import{C as q,a as re,b as ie,d as J}from"./card-XpOOVLWI.js";import{T as ve,a as we,b as F,c as P,d as _e,R as tt,I as rt}from"./tabs-C5DHGacV.js";import{S as ne}from"./StatCard-CvR0DIEf.js";import{I as m}from"./input-D5Ccm-s1.js";import{B as I}from"./badge-CRfFogl7.js";import{T as Ae,a as fe,b as Z,c as B,d as De,e as U}from"./table-Duog4cWS.js";import{D as W,a as Q,b as Y,c as ee,d as it,e as st}from"./dialog-KfbCdWZy.js";import{V as $}from"./VehicleSelect-OQhGO8Zg.js";import{L as o}from"./label-C3geKGxC.js";import{S as K,a as G,b as X,c as H,d as y}from"./select-CgN7rKuh.js";import{T as Ne}from"./textarea-Oo1gIRGr.js";import{U as at}from"./upload-C_xAxari.js";import{u as nt,a as ot}from"./index-XPvY48Nz.js";import{C as ct}from"./circle-C8clXpnP.js";import{C as pe}from"./calendar-CGtyORkI.js";import{K as lt}from"./key-u4fCcJLw.js";import{L as le}from"./loader-circle-BUprINBZ.js";import{F as oe}from"./file-text-B5kgXrlL.js";import{S as Te}from"./search-Da-3pudI.js";import{D as Be}from"./download-DNHLnsL1.js";import{P as be}from"./plus-C4B_3Olf.js";import{f as Ue}from"./format-CmB4SkOX.js";import{E as Ct}from"./eye-XE4jWYuT.js";import{C as mt}from"./checkbox-D8iz3f-4.js";import{C as Se}from"./circle-check-big-CG-bN1l7.js";import{R as pt}from"./RevenueAnalysis-Bf6PD-vD.js";import{S as dt}from"./sparkles-Blg3jjmz.js";import{M as de}from"./map-pin-BVXVU51t.js";import{U as ut}from"./user-Cs2hIgFr.js";import{C as gt}from"./circle-alert-CNjLJXF5.js";import{C as ue}from"./clock-Cc7nNxD7.js";import{N as ht}from"./navigation-iGwyqmKK.js";import{R as xt}from"./RouteOptimizer-BbJILfFB.js";import{D as vt}from"./dollar-sign-C1fvDVSy.js";import"./index-C9UnwKLR.js";import"./Combination-BQvqHitJ.js";import"./demoStore-BIsfGJR8.js";import"./chevron-down-ChCbnXTB.js";import"./check-CMTAF2ib.js";import"./en-US-B1CXRoBY.js";import"./constructFrom-rJN6zrQ_.js";import"./switch-CM5BIiBp.js";import"./bell-DklMG7XH.js";import"./trash-2-DqbN6Ybf.js";import"./triangle-alert-Bog7h-1T.js";import"./refresh-cw-BeAIEPlv.js";import"./circle-check-BcP393cQ.js";import"./CategoricalChart-C2-bnGS6.js";import"./index-De_FPpeP.js";import"./CartesianChart-sJGvtODh.js";import"./LineChart-Chu0Q6MQ.js";import"./getRadiusAndStrokeWidthFromDot-BovFsRfD.js";import"./Area-HuI9nLtC.js";import"./trending-up-DWFUeL7W.js";import"./trending-down-Bwvyf_cf.js";import"./target-C5FEJZH4.js";import"./history-BTM_SjEN.js";import"./BarChart-DLmN00sM.js";import"./tooltipContext-C_VwTSky.js";import"./useTomTom-BR81LqCR.js";import"./leaflet-D91Ma3Ee.js";function wt({open:l,onOpenChange:w,tripId:a,onSuccess:h}){const{user:x}=Je(),[A,i]=p.useState(!1),[C,f]=p.useState(!1),[n,r]=p.useState([]),v=p.useRef(null),[t,g]=p.useState({numero_cte:"",serie:"1",tipo_cte:"normal",tipo_servico:"normal",trip_id:a||"",remetente_nome:"",remetente_cnpj:"",remetente_endereco:"",remetente_cidade:"",remetente_uf:"",remetente_cep:"",destinatario_nome:"",destinatario_cnpj:"",destinatario_endereco:"",destinatario_cidade:"",destinatario_uf:"",destinatario_cep:"",tomador_tipo:"remetente",tomador_nome:"",tomador_cnpj:"",produto_predominante:"",peso_bruto:"",peso_cubado:"",quantidade_volumes:"",valor_mercadoria:"",modal:"rodoviario",valor_frete:"",valor_pedagio:"",valor_total:"",tipo_frete:"cif",placa_veiculo:"",placa_carreta:"",uf_veiculo:"",rntrc:"",observacoes:""});p.useEffect(()=>{l&&(c(),d())},[l]),p.useEffect(()=>{if(t.trip_id){const s=n.find(N=>N.id===t.trip_id);s&&g(N=>({...N,placa_veiculo:s.vehicle_plate||""}))}},[t.trip_id,n]),p.useEffect(()=>{const s=parseFloat(t.valor_frete)||0,N=parseFloat(t.valor_pedagio)||0,S=s+N;S>0&&t.valor_total!==S.toFixed(2)&&g(E=>({...E,valor_total:S.toFixed(2)}))},[t.valor_frete,t.valor_pedagio]);const d=()=>{const s=Date.now(),N=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),S=`${s}${N}`.slice(-9);g(E=>({...E,numero_cte:S}))},c=async()=>{const{data:s,error:N}=await L.from("trips").select("*").in("status",["aprovada","em_andamento"]).order("created_at",{ascending:!1});s&&r(s)},D=async()=>{var S,E;if(!((E=(S=v.current)==null?void 0:S.files)!=null&&E[0])){j.error("Selecione um arquivo");return}const s=v.current.files[0],N=s.name.toLowerCase();if(!N.endsWith(".xml")&&!N.endsWith(".zip")){j.error("Por favor, selecione um arquivo XML ou ZIP");return}f(!0);try{if(N.endsWith(".zip")){const b=(await Ze(async()=>{const{default:z}=await import("./jszip.min-BYpv1T3K.js").then(ae=>ae.j);return{default:z}},__vite__mapDeps([0,1,2]))).default,M=await new b().loadAsync(s),O=[];for(const[z,ae]of Object.entries(M.files))if(!ae.dir&&z.toLowerCase().endsWith(".xml")){const He=await ae.async("text");O.push(He)}if(O.length===0){j.error("Nenhum arquivo XML encontrado no ZIP");return}j.info(`Processando ${O.length} CT-es...`);const{data:R,error:se}=await L.functions.invoke("import-cte-batch",{body:{xml_files:O}});if(se)throw se;const k=R;if(k.errors.length>0)console.warn("Erros na importação:",k.errors),j.warning(`${k.ctes_created} CT-es importados com sucesso. ${k.errors.length} falharam.`,{duration:5e3});else{const z=[`✓ ${k.ctes_created} CT-es importados`,`✓ ${k.clients_created} novos clientes cadastrados`];k.vehicles_created>0&&z.push(`✓ ${k.vehicles_created} veículos auto-cadastrados`),z.push("✓ Contas a receber criadas","✓ Indicadores atualizados"),j.success(z.join(`
`),{duration:6e3})}}else{const b=await s.text(),{data:T,error:M}=await L.functions.invoke("import-cte-xml",{body:{xml_content:b}});if(M)throw M;j.success("CT-e importado com sucesso!")}h==null||h(),w(!1)}catch(b){console.error("Erro ao importar:",b),j.error(b.message||"Erro ao importar CT-e")}finally{f(!1),v.current&&(v.current.value="")}},u=async()=>{if(!t.trip_id||!t.remetente_nome||!t.destinatario_nome){j.error("Preencha todos os campos obrigatórios");return}i(!0);try{const{data:s}=await L.from("vehicles").select("placa").eq("placa",t.placa_veiculo.toUpperCase()).maybeSingle();if(!s){j.error(`Placa ${t.placa_veiculo} não encontrada. Importe os veículos primeiro.`),i(!1);return}const{data:N,error:S}=await L.from("cte").insert({...t,placa_veiculo:t.placa_veiculo.toUpperCase(),peso_bruto:parseFloat(t.peso_bruto),peso_cubado:t.peso_cubado?parseFloat(t.peso_cubado):null,quantidade_volumes:parseInt(t.quantidade_volumes),valor_mercadoria:parseFloat(t.valor_mercadoria),valor_frete:parseFloat(t.valor_frete),valor_pedagio:parseFloat(t.valor_pedagio),valor_total:parseFloat(t.valor_total),created_by:x==null?void 0:x.id,status:"emitido"}).select().single();if(S)throw S;try{const E=new Date;E.setDate(E.getDate()+30);const b=t.tomador_nome||(t.tipo_frete==="cif"?t.remetente_nome:t.destinatario_nome),{error:T}=await L.from("contas_receber").insert({descricao:`CT-e ${t.numero_cte} - ${t.produto_predominante}`,cliente:b,valor:parseFloat(t.valor_total),data_vencimento:E.toISOString().split("T")[0],status:"pendente",observacoes:`Gerado automaticamente via emissão de CT-e.
Origem: ${t.remetente_cidade}/${t.remetente_uf}
Destino: ${t.destinatario_cidade}/${t.destinatario_uf}`});T?(console.error("Erro ao criar conta a receber:",T),j.error("CT-e emitido, mas houve erro ao gerar o financeiro.")):j.success("Conta a receber gerada com sucesso!")}catch(E){console.error("Erro ao processar financeiro:",E)}j.success("CT-e criado com sucesso! Disponível no app do motorista."),h==null||h(),w(!1),g({numero_cte:"",serie:"1",tipo_cte:"normal",tipo_servico:"normal",trip_id:"",remetente_nome:"",remetente_cnpj:"",remetente_endereco:"",remetente_cidade:"",remetente_uf:"",remetente_cep:"",destinatario_nome:"",destinatario_cnpj:"",destinatario_endereco:"",destinatario_cidade:"",destinatario_uf:"",destinatario_cep:"",tomador_tipo:"remetente",tomador_nome:"",tomador_cnpj:"",produto_predominante:"",peso_bruto:"",peso_cubado:"",quantidade_volumes:"",valor_mercadoria:"",modal:"rodoviario",valor_frete:"",valor_pedagio:"",valor_total:"",tipo_frete:"cif",placa_veiculo:"",placa_carreta:"",uf_veiculo:"",rntrc:"",observacoes:""})}catch(s){console.error("Erro ao criar CT-e:",s),j.error("Erro ao criar CT-e")}finally{i(!1)}};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsx(ee,{children:"Emitir CT-e (Conhecimento de Transporte Eletrônico)"})}),e.jsxs(ve,{defaultValue:"basicos",className:"w-full",children:[e.jsxs(we,{className:"grid w-full grid-cols-6",children:[e.jsx(F,{value:"xml",children:"Importar XML"}),e.jsx(F,{value:"basicos",children:"Básicos"}),e.jsx(F,{value:"remetente",children:"Remetente"}),e.jsx(F,{value:"destinatario",children:"Destinatário"}),e.jsx(F,{value:"carga",children:"Carga"}),e.jsx(F,{value:"transporte",children:"Transporte"})]}),e.jsx(P,{value:"xml",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"378","trae-inspector-start-column":"12","trae-inspector-end-line":"442","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border-2 border-dashed border-border rounded-lg p-8 text-center",children:[e.jsx(at,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{"trae-inspector-start-line":"380","trae-inspector-start-column":"14","trae-inspector-end-line":"380","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Importar%20CT-e%20via%20XML%20ou%20ZIP%22%2C%22textStartLine%22%3A%22380%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22380%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mb-2",children:"Importar CT-e via XML ou ZIP"}),e.jsx("p",{"trae-inspector-start-line":"381","trae-inspector-start-column":"14","trae-inspector-end-line":"383","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Fa%C3%A7a%20upload%20de%20um%20XML%20individual%20ou%20um%20arquivo%20ZIP%20contendo%20m%C3%BAltiplos%20XMLs%22%2C%22textStartLine%22%3A%22381%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22383%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mb-4",children:"Faça upload de um XML individual ou um arquivo ZIP contendo múltiplos XMLs"}),e.jsx("input",{"trae-inspector-start-line":"385","trae-inspector-start-column":"14","trae-inspector-end-line":"395","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",ref:v,type:"file",accept:".xml,.zip",className:"hidden",onChange:s=>{var N;(N=s.target.files)!=null&&N[0]&&j.info("Arquivo selecionado: "+s.target.files[0].name)}}),e.jsxs("div",{"trae-inspector-start-line":"397","trae-inspector-start-column":"14","trae-inspector-end-line":"413","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 justify-center",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>{var s;return(s=v.current)==null?void 0:s.click()},children:"Selecionar XML ou ZIP"}),e.jsx(_,{type:"button",onClick:D,disabled:C,children:C?"Importando...":"Importar"})]}),e.jsxs("div",{"trae-inspector-start-line":"415","trae-inspector-start-column":"14","trae-inspector-end-line":"441","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-6 space-y-2 text-left max-w-md mx-auto",children:[e.jsx("p",{"trae-inspector-start-line":"416","trae-inspector-start-column":"16","trae-inspector-end-line":"418","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%9A%A0%EF%B8%8F%20Importa%C3%A7%C3%A3o%20sem%20placa%3A%22%2C%22textStartLine%22%3A%22416%22%2C%22textStartColumn%22%3A%2275%22%2C%22textEndLine%22%3A%22418%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground font-semibold",children:"⚠️ Importação sem placa:"}),e.jsx("p",{"trae-inspector-start-line":"419","trae-inspector-start-column":"16","trae-inspector-end-line":"421","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Se%20o%20XML%20n%C3%A3o%20trouxer%20placa%20v%C3%A1lida%2C%20ser%C3%A1%20usado%20'SEM-PLACA'%20e%20voc%C3%AA%20define%20a%20placa%20no%20Manifesto%20depois%22%2C%22textStartLine%22%3A%22419%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22421%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground ml-4",children:"• Se o XML não trouxer placa válida, será usado 'SEM-PLACA' e você define a placa no Manifesto depois"}),e.jsx("p",{"trae-inspector-start-line":"423","trae-inspector-start-column":"16","trae-inspector-end-line":"425","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%9C%93%20O%20sistema%20far%C3%A1%20automaticamente%3A%22%2C%22textStartLine%22%3A%22423%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22425%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success font-semibold mt-4",children:"✓ O sistema fará automaticamente:"}),e.jsx("p",{"trae-inspector-start-line":"426","trae-inspector-start-column":"16","trae-inspector-end-line":"428","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Cadastro%20de%20clientes%20(se%20n%C3%A3o%20existirem)%22%2C%22textStartLine%22%3A%22426%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22428%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:"• Cadastro de clientes (se não existirem)"}),e.jsx("p",{"trae-inspector-start-line":"429","trae-inspector-start-column":"16","trae-inspector-end-line":"431","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Cria%C3%A7%C3%A3o%20de%20contas%20a%20receber%22%2C%22textStartLine%22%3A%22429%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22431%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:"• Criação de contas a receber"}),e.jsx("p",{"trae-inspector-start-line":"432","trae-inspector-start-column":"16","trae-inspector-end-line":"434","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Cria%C3%A7%C3%A3o%20autom%C3%A1tica%20do%20ve%C3%ADculo%20%5C%22SEM-PLACA%5C%22%20quando%20necess%C3%A1rio%22%2C%22textStartLine%22%3A%22432%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22434%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:'• Criação automática do veículo "SEM-PLACA" quando necessário'}),e.jsx("p",{"trae-inspector-start-line":"435","trae-inspector-start-column":"16","trae-inspector-end-line":"437","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Atualiza%C3%A7%C3%A3o%20de%20indicadores%20financeiros%22%2C%22textStartLine%22%3A%22435%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22437%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:"• Atualização de indicadores financeiros"}),e.jsx("p",{"trae-inspector-start-line":"438","trae-inspector-start-column":"16","trae-inspector-end-line":"440","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20C%C3%A1lculo%20de%20an%C3%A1lises%20por%20cliente%22%2C%22textStartLine%22%3A%22438%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22440%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:"• Cálculo de análises por cliente"})]})]})}),e.jsx(P,{value:"basicos",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"446","trae-inspector-start-column":"12","trae-inspector-end-line":"517","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"447","trae-inspector-start-column":"14","trae-inspector-end-line":"454","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Número CT-e *"}),e.jsx(m,{value:t.numero_cte,onChange:s=>g({...t,numero_cte:s.target.value}),placeholder:"Auto-gerado"})]}),e.jsxs("div",{"trae-inspector-start-line":"455","trae-inspector-start-column":"14","trae-inspector-end-line":"461","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Série"}),e.jsx(m,{value:t.serie,onChange:s=>g({...t,serie:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"462","trae-inspector-start-column":"14","trae-inspector-end-line":"476","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Viagem *"}),e.jsxs(K,{value:t.trip_id,onValueChange:s=>g({...t,trip_id:s}),children:[e.jsx(G,{children:e.jsx(X,{placeholder:"Selecione a viagem"})}),e.jsx(H,{children:n.map(s=>e.jsxs(y,{value:s.id,children:[s.origin," → ",s.destination," (",s.vehicle_plate,")"]},s.id))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"477","trae-inspector-start-column":"14","trae-inspector-end-line":"490","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo CT-e"}),e.jsxs(K,{value:t.tipo_cte,onValueChange:s=>g({...t,tipo_cte:s}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(y,{value:"normal",children:"Normal"}),e.jsx(y,{value:"complementar",children:"Complementar"}),e.jsx(y,{value:"anulacao",children:"Anulação"}),e.jsx(y,{value:"substituto",children:"Substituto"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"491","trae-inspector-start-column":"14","trae-inspector-end-line":"504","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo Serviço"}),e.jsxs(K,{value:t.tipo_servico,onValueChange:s=>g({...t,tipo_servico:s}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(y,{value:"normal",children:"Normal"}),e.jsx(y,{value:"subcontratacao",children:"Subcontratação"}),e.jsx(y,{value:"redespacho",children:"Redespacho"}),e.jsx(y,{value:"intermediario",children:"Intermediário"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"505","trae-inspector-start-column":"14","trae-inspector-end-line":"516","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo Frete"}),e.jsxs(K,{value:t.tipo_frete,onValueChange:s=>g({...t,tipo_frete:s}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(y,{value:"cif",children:"CIF (Pago pelo Remetente)"}),e.jsx(y,{value:"fob",children:"FOB (Pago pelo Destinatário)"})]})]})]})]})}),e.jsx(P,{value:"remetente",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"521","trae-inspector-start-column":"12","trae-inspector-end-line":"568","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"522","trae-inspector-start-column":"14","trae-inspector-end-line":"528","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Nome/Razão Social *"}),e.jsx(m,{value:t.remetente_nome,onChange:s=>g({...t,remetente_nome:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"529","trae-inspector-start-column":"14","trae-inspector-end-line":"536","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ *"}),e.jsx(m,{value:t.remetente_cnpj,onChange:s=>g({...t,remetente_cnpj:s.target.value}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{"trae-inspector-start-line":"537","trae-inspector-start-column":"14","trae-inspector-end-line":"544","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CEP *"}),e.jsx(m,{value:t.remetente_cep,onChange:s=>g({...t,remetente_cep:s.target.value}),placeholder:"00000-000"})]}),e.jsxs("div",{"trae-inspector-start-line":"545","trae-inspector-start-column":"14","trae-inspector-end-line":"551","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Endereço *"}),e.jsx(m,{value:t.remetente_endereco,onChange:s=>g({...t,remetente_endereco:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"552","trae-inspector-start-column":"14","trae-inspector-end-line":"558","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Cidade *"}),e.jsx(m,{value:t.remetente_cidade,onChange:s=>g({...t,remetente_cidade:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"559","trae-inspector-start-column":"14","trae-inspector-end-line":"567","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF *"}),e.jsx(m,{value:t.remetente_uf,onChange:s=>g({...t,remetente_uf:s.target.value}),maxLength:2,placeholder:"SP"})]})]})}),e.jsx(P,{value:"destinatario",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"572","trae-inspector-start-column":"12","trae-inspector-end-line":"619","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"573","trae-inspector-start-column":"14","trae-inspector-end-line":"579","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Nome/Razão Social *"}),e.jsx(m,{value:t.destinatario_nome,onChange:s=>g({...t,destinatario_nome:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"580","trae-inspector-start-column":"14","trae-inspector-end-line":"587","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ *"}),e.jsx(m,{value:t.destinatario_cnpj,onChange:s=>g({...t,destinatario_cnpj:s.target.value}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{"trae-inspector-start-line":"588","trae-inspector-start-column":"14","trae-inspector-end-line":"595","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CEP *"}),e.jsx(m,{value:t.destinatario_cep,onChange:s=>g({...t,destinatario_cep:s.target.value}),placeholder:"00000-000"})]}),e.jsxs("div",{"trae-inspector-start-line":"596","trae-inspector-start-column":"14","trae-inspector-end-line":"602","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Endereço *"}),e.jsx(m,{value:t.destinatario_endereco,onChange:s=>g({...t,destinatario_endereco:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"603","trae-inspector-start-column":"14","trae-inspector-end-line":"609","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Cidade *"}),e.jsx(m,{value:t.destinatario_cidade,onChange:s=>g({...t,destinatario_cidade:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"610","trae-inspector-start-column":"14","trae-inspector-end-line":"618","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF *"}),e.jsx(m,{value:t.destinatario_uf,onChange:s=>g({...t,destinatario_uf:s.target.value}),maxLength:2,placeholder:"RJ"})]})]})}),e.jsx(P,{value:"carga",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"623","trae-inspector-start-column":"12","trae-inspector-end-line":"695","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"624","trae-inspector-start-column":"14","trae-inspector-end-line":"631","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Produto Predominante *"}),e.jsx(m,{value:t.produto_predominante,onChange:s=>g({...t,produto_predominante:s.target.value}),placeholder:"Ex: Produtos Diversos"})]}),e.jsxs("div",{"trae-inspector-start-line":"632","trae-inspector-start-column":"14","trae-inspector-end-line":"640","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Peso Bruto (kg) *"}),e.jsx(m,{type:"number",step:"0.01",value:t.peso_bruto,onChange:s=>g({...t,peso_bruto:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"641","trae-inspector-start-column":"14","trae-inspector-end-line":"649","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Peso Cubado (kg)"}),e.jsx(m,{type:"number",step:"0.01",value:t.peso_cubado,onChange:s=>g({...t,peso_cubado:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"650","trae-inspector-start-column":"14","trae-inspector-end-line":"657","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Quantidade Volumes *"}),e.jsx(m,{type:"number",value:t.quantidade_volumes,onChange:s=>g({...t,quantidade_volumes:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"658","trae-inspector-start-column":"14","trae-inspector-end-line":"666","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor Mercadoria (R$) *"}),e.jsx(m,{type:"number",step:"0.01",value:t.valor_mercadoria,onChange:s=>g({...t,valor_mercadoria:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"667","trae-inspector-start-column":"14","trae-inspector-end-line":"675","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor Frete (R$) *"}),e.jsx(m,{type:"number",step:"0.01",value:t.valor_frete,onChange:s=>g({...t,valor_frete:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"676","trae-inspector-start-column":"14","trae-inspector-end-line":"684","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor Pedágio (R$)"}),e.jsx(m,{type:"number",step:"0.01",value:t.valor_pedagio,onChange:s=>g({...t,valor_pedagio:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"685","trae-inspector-start-column":"14","trae-inspector-end-line":"694","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor Total (R$) *"}),e.jsx(m,{type:"number",step:"0.01",value:t.valor_total,readOnly:!0,className:"bg-muted"})]})]})}),e.jsx(P,{value:"transporte",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"699","trae-inspector-start-column":"12","trae-inspector-end-line":"757","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"700","trae-inspector-start-column":"14","trae-inspector-end-line":"714","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Modal"}),e.jsxs(K,{value:t.modal,onValueChange:s=>g({...t,modal:s}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(y,{value:"rodoviario",children:"Rodoviário"}),e.jsx(y,{value:"aereo",children:"Aéreo"}),e.jsx(y,{value:"aquaviario",children:"Aquaviário"}),e.jsx(y,{value:"ferroviario",children:"Ferroviário"}),e.jsx(y,{value:"dutoviario",children:"Dutoviário"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"715","trae-inspector-start-column":"14","trae-inspector-end-line":"723","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF Veículo *"}),e.jsx(m,{value:t.uf_veiculo,onChange:s=>g({...t,uf_veiculo:s.target.value}),maxLength:2,placeholder:"SP"})]}),e.jsxs("div",{"trae-inspector-start-line":"724","trae-inspector-start-column":"14","trae-inspector-end-line":"732","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa Veículo *"}),e.jsx($,{value:t.placa_veiculo,onChange:s=>g({...t,placa_veiculo:s}),filter:s=>s.type==="caminhao"||s.type==="cavalo",placeholder:"Selecione"})]}),e.jsxs("div",{"trae-inspector-start-line":"733","trae-inspector-start-column":"14","trae-inspector-end-line":"741","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa Carreta"}),e.jsx($,{value:t.placa_carreta,onChange:s=>g({...t,placa_carreta:s}),filter:s=>s.type==="carreta"||s.type==="reboque",placeholder:"Selecione (Opcional)"})]}),e.jsxs("div",{"trae-inspector-start-line":"742","trae-inspector-start-column":"14","trae-inspector-end-line":"748","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"RNTRC (Transportador Autônomo)"}),e.jsx(m,{value:t.rntrc,onChange:s=>g({...t,rntrc:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"749","trae-inspector-start-column":"14","trae-inspector-end-line":"756","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Observações"}),e.jsx(Ne,{value:t.observacoes,onChange:s=>g({...t,observacoes:s.target.value}),rows:3})]})]})})]}),e.jsxs(it,{children:[e.jsx(_,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsx(_,{onClick:u,disabled:A,children:A?"Emitindo...":"Emitir CT-e"})]})]})})}var je="Radio",[At,ye]=Le(je),[ft,Dt]=At(je),Me=p.forwardRef((l,w)=>{const{__scopeRadio:a,name:h,checked:x=!1,required:A,disabled:i,value:C="on",onCheck:f,form:n,...r}=l,[v,t]=p.useState(null),g=he(w,D=>t(D)),d=p.useRef(!1),c=v?n||!!v.closest("form"):!0;return e.jsxs(ft,{scope:a,checked:x,disabled:i,children:[e.jsx(ce.button,{type:"button",role:"radio","aria-checked":x,"data-state":Oe(x),"data-disabled":i?"":void 0,disabled:i,value:C,...r,ref:g,onClick:me(l.onClick,D=>{x||f==null||f(),c&&(d.current=D.isPropagationStopped(),d.current||D.stopPropagation())})}),c&&e.jsx(Re,{control:v,bubbles:!d.current,name:h,value:C,checked:x,required:A,disabled:i,form:n,style:{transform:"translateX(-100%)"}})]})});Me.displayName=je;var Fe="RadioIndicator",Pe=p.forwardRef((l,w)=>{const{__scopeRadio:a,forceMount:h,...x}=l,A=Dt(Fe,a);return e.jsx(Ye,{present:h||A.checked,children:e.jsx(ce.span,{"data-state":Oe(A.checked),"data-disabled":A.disabled?"":void 0,...x,ref:w})})});Pe.displayName=Fe;var bt="RadioBubbleInput",Re=p.forwardRef(({__scopeRadio:l,control:w,checked:a,bubbles:h=!0,...x},A)=>{const i=p.useRef(null),C=he(i,A),f=nt(a),n=ot(w);return p.useEffect(()=>{const r=i.current;if(!r)return;const v=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(v,"checked").set;if(f!==a&&g){const d=new Event("click",{bubbles:h});g.call(r,a),r.dispatchEvent(d)}},[f,a,h]),e.jsx(ce.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...x,tabIndex:-1,ref:C,style:{...x.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Re.displayName=bt;function Oe(l){return l?"checked":"unchecked"}var jt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ce="RadioGroup",[Lt]=Le(Ce,[_e,ye]),Ve=_e(),Ie=ye(),[Et,_t]=Lt(Ce),qe=p.forwardRef((l,w)=>{const{__scopeRadioGroup:a,name:h,defaultValue:x,value:A,required:i=!1,disabled:C=!1,orientation:f,dir:n,loop:r=!0,onValueChange:v,...t}=l,g=Ve(a),d=We(n),[c,D]=Qe({prop:A,defaultProp:x??null,onChange:v,caller:Ce});return e.jsx(Et,{scope:a,name:h,required:i,disabled:C,value:c,onValueChange:D,children:e.jsx(tt,{asChild:!0,...g,orientation:f,dir:d,loop:r,children:e.jsx(ce.div,{role:"radiogroup","aria-required":i,"aria-orientation":f,"data-disabled":C?"":void 0,dir:d,...t,ref:w})})})});qe.displayName=Ce;var ke="RadioGroupItem",$e=p.forwardRef((l,w)=>{const{__scopeRadioGroup:a,disabled:h,...x}=l,A=_t(ke,a),i=A.disabled||h,C=Ve(a),f=Ie(a),n=p.useRef(null),r=he(w,n),v=A.value===x.value,t=p.useRef(!1);return p.useEffect(()=>{const g=c=>{jt.includes(c.key)&&(t.current=!0)},d=()=>t.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",d),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",d)}},[]),e.jsx(rt,{asChild:!0,...C,focusable:!i,active:v,children:e.jsx(Me,{disabled:i,required:A.required,checked:v,...f,...x,name:A.name,ref:r,onCheck:()=>A.onValueChange(x.value),onKeyDown:me(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:me(x.onFocus,()=>{var g;t.current&&((g=n.current)==null||g.click())})})})});$e.displayName=ke;var Nt="RadioGroupIndicator",ze=p.forwardRef((l,w)=>{const{__scopeRadioGroup:a,...h}=l,x=Ie(a);return e.jsx(Pe,{...x,...h,ref:w})});ze.displayName=Nt;var Ke=qe,Ge=$e,Tt=ze;const Xe=p.forwardRef(({className:l,...w},a)=>e.jsx(Ke,{className:Ee("grid gap-2",l),...w,ref:a}));Xe.displayName=Ke.displayName;const ge=p.forwardRef(({className:l,...w},a)=>e.jsx(Ge,{ref:a,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),...w,children:e.jsx(Tt,{className:"flex items-center justify-center",children:e.jsx(ct,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ge.displayName=Ge.displayName;function Bt({open:l,onOpenChange:w,onSuccess:a}){const[h,x]=p.useState("periodo"),[A,i]=p.useState(""),[C,f]=p.useState(""),[n,r]=p.useState(""),[v,t]=p.useState(!1),g=async()=>{t(!0);try{const d={tipo:h};if(h==="periodo"){if(!A||!C){j.error("Preencha as datas inicial e final");return}d.dataInicial=A,d.dataFinal=C}else{if(!n){j.error("Informe a chave de acesso do CT-e");return}d.chaveAcesso=n.replace(/\s/g,"")}const{data:c,error:D}=await L.functions.invoke("import-cte-brasilnfe",{body:d});if(D)throw D;c.errors&&c.errors.length>0?j.warning(c.message,{description:`${c.errors.length} erro(s) encontrado(s)`}):j.success(c.message),a(),w(!1),i(""),f(""),r("")}catch(d){console.error("Erro ao importar CT-e:",d),j.error("Erro ao importar CT-e da BrasilNFe")}finally{t(!1)}};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"sm:max-w-md",children:[e.jsx(Y,{children:e.jsx(ee,{children:"Importar CT-e da BrasilNFe"})}),e.jsxs("div",{"trae-inspector-start-line":"81","trae-inspector-start-column":"8","trae-inspector-end-line":"160","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6 pt-4",children:[e.jsxs(Xe,{value:h,onValueChange:d=>x(d),children:[e.jsxs("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"12","trae-inspector-end-line":"89","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(ge,{value:"periodo",id:"periodo"}),e.jsxs(o,{htmlFor:"periodo",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(pe,{className:"h-4 w-4"}),"Importar por período"]})]}),e.jsxs("div",{"trae-inspector-start-line":"90","trae-inspector-start-column":"12","trae-inspector-end-line":"96","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(ge,{value:"chave",id:"chave"}),e.jsxs(o,{htmlFor:"chave",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(lt,{className:"h-4 w-4"}),"Importar por chave de acesso"]})]})]}),h==="periodo"?e.jsxs("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"12","trae-inspector-end-line":"119","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"101","trae-inspector-start-column":"14","trae-inspector-end-line":"109","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(o,{htmlFor:"dataInicial",children:"Data Inicial"}),e.jsx(m,{id:"dataInicial",type:"date",value:A,onChange:d=>i(d.target.value)})]}),e.jsxs("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"14","trae-inspector-end-line":"118","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(o,{htmlFor:"dataFinal",children:"Data Final"}),e.jsx(m,{id:"dataFinal",type:"date",value:C,onChange:d=>f(d.target.value)})]})]}):e.jsxs("div",{"trae-inspector-start-line":"121","trae-inspector-start-column":"12","trae-inspector-end-line":"133","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(o,{htmlFor:"chaveAcesso",children:"Chave de Acesso"}),e.jsx(m,{id:"chaveAcesso",placeholder:"Digite a chave de 44 dígitos",value:n,onChange:d=>r(d.target.value),maxLength:44}),e.jsx("p",{"trae-inspector-start-line":"130","trae-inspector-start-column":"14","trae-inspector-end-line":"132","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%2244%20d%C3%ADgitos%20sem%20espa%C3%A7os%20ou%20formata%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22130%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22132%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"44 dígitos sem espaços ou formatação"})]}),e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"10","trae-inspector-end-line":"159","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 pt-4",children:[e.jsx(_,{variant:"outline",className:"flex-1",onClick:()=>w(!1),disabled:v,children:"Cancelar"}),e.jsx(_,{className:"flex-1",onClick:g,disabled:v,children:v?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin"}),"Importando..."]}):"Importar"})]})]})]})})}function Ut({open:l,onOpenChange:w,onSuccess:a}){const{toast:h}=xe(),[x,A]=p.useState(!1),[i,C]=p.useState({numero:"",serie:"1",tipo_tomador:"0",tomador_cnpj:"",tomador_razao:"",tomador_endereco:"",tomador_municipio:"",tomador_uf:"",tomador_cep:"",remetente_cnpj:"",remetente_razao:"",remetente_endereco:"",remetente_municipio:"",remetente_uf:"",remetente_cep:"",destinatario_cnpj:"",destinatario_razao:"",destinatario_endereco:"",destinatario_municipio:"",destinatario_uf:"",destinatario_cep:"",produto_predominante:"PRODUTOS QUIMICOS",quantidade_volumes:"1",peso_bruto:"",valor_carga:"",valor_total:"",placa_veiculo:"",uf_veiculo:"PE",municipio_origem:"",uf_origem:"",municipio_destino:"",uf_destino:""}),f=async n=>{n.preventDefault(),A(!0);try{const{data:r,error:v}=await L.functions.invoke("emitir-cte",{body:{...i,quantidade_volumes:parseInt(i.quantidade_volumes),peso_bruto:parseFloat(i.peso_bruto),valor_carga:parseFloat(i.valor_carga),valor_total:parseFloat(i.valor_total)}});if(v)throw v;if(r.success)h({title:"CT-e emitido com sucesso!",description:`Número: ${r.numero} | Chave: ${r.chave}`}),a(),w(!1);else throw new Error(r.error||"Erro ao emitir CT-e")}catch(r){console.error("Erro:",r),h({title:"Erro ao emitir CT-e",description:r.message,variant:"destructive"})}finally{A(!1)}};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsx(ee,{children:"Emitir CT-e"})}),e.jsxs("form",{"trae-inspector-start-line":"108","trae-inspector-start-column":"8","trae-inspector-end-line":"404","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"10","trae-inspector-end-line":"131","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"111","trae-inspector-start-column":"12","trae-inspector-end-line":"111","trae-inspector-end-column":"60","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Dados%20do%20CT-e%22%2C%22textStartLine%22%3A%22111%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2255%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Dados do CT-e"}),e.jsxs("div",{"trae-inspector-start-line":"112","trae-inspector-start-column":"12","trae-inspector-end-line":"130","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"113","trae-inspector-start-column":"14","trae-inspector-end-line":"121","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Número"}),e.jsx(m,{required:!0,value:i.numero,onChange:n=>C({...i,numero:n.target.value}),placeholder:"000001"})]}),e.jsxs("div",{"trae-inspector-start-line":"122","trae-inspector-start-column":"14","trae-inspector-end-line":"129","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Série"}),e.jsx(m,{value:i.serie,onChange:n=>C({...i,serie:n.target.value}),placeholder:"1"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"10","trae-inspector-end-line":"211","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"135","trae-inspector-start-column":"12","trae-inspector-end-line":"135","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tomador%20do%20Servi%C3%A7o%22%2C%22textStartLine%22%3A%22135%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22135%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Tomador do Serviço"}),e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"12","trae-inspector-end-line":"152","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo de Tomador"}),e.jsxs(K,{value:i.tipo_tomador,onValueChange:n=>C({...i,tipo_tomador:n}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(y,{value:"0",children:"Remetente"}),e.jsx(y,{value:"1",children:"Expedidor"}),e.jsx(y,{value:"2",children:"Recebedor"}),e.jsx(y,{value:"3",children:"Destinatário"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"153","trae-inspector-start-column":"12","trae-inspector-end-line":"171","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"154","trae-inspector-start-column":"14","trae-inspector-end-line":"162","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ"}),e.jsx(m,{required:!0,value:i.tomador_cnpj,onChange:n=>C({...i,tomador_cnpj:n.target.value}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{"trae-inspector-start-line":"163","trae-inspector-start-column":"14","trae-inspector-end-line":"170","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Razão Social"}),e.jsx(m,{required:!0,value:i.tomador_razao,onChange:n=>C({...i,tomador_razao:n.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"172","trae-inspector-start-column":"12","trae-inspector-end-line":"190","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"173","trae-inspector-start-column":"14","trae-inspector-end-line":"180","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Endereço"}),e.jsx(m,{required:!0,value:i.tomador_endereco,onChange:n=>C({...i,tomador_endereco:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"181","trae-inspector-start-column":"14","trae-inspector-end-line":"189","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CEP"}),e.jsx(m,{required:!0,value:i.tomador_cep,onChange:n=>C({...i,tomador_cep:n.target.value}),placeholder:"00000-000"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"191","trae-inspector-start-column":"12","trae-inspector-end-line":"210","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"192","trae-inspector-start-column":"14","trae-inspector-end-line":"199","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Município"}),e.jsx(m,{required:!0,value:i.tomador_municipio,onChange:n=>C({...i,tomador_municipio:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"200","trae-inspector-start-column":"14","trae-inspector-end-line":"209","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:i.tomador_uf,onChange:n=>C({...i,tomador_uf:n.target.value.toUpperCase()}),placeholder:"PE"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"214","trae-inspector-start-column":"10","trae-inspector-end-line":"261","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"215","trae-inspector-start-column":"12","trae-inspector-end-line":"215","trae-inspector-end-column":"56","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Remetente%22%2C%22textStartLine%22%3A%22215%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22215%22%2C%22textEndColumn%22%3A%2251%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Remetente"}),e.jsxs("div",{"trae-inspector-start-line":"216","trae-inspector-start-column":"12","trae-inspector-end-line":"233","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"14","trae-inspector-end-line":"224","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ"}),e.jsx(m,{required:!0,value:i.remetente_cnpj,onChange:n=>C({...i,remetente_cnpj:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"225","trae-inspector-start-column":"14","trae-inspector-end-line":"232","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Razão Social"}),e.jsx(m,{required:!0,value:i.remetente_razao,onChange:n=>C({...i,remetente_razao:n.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"234","trae-inspector-start-column":"12","trae-inspector-end-line":"260","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"235","trae-inspector-start-column":"14","trae-inspector-end-line":"244","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Município"}),e.jsx(m,{required:!0,value:i.remetente_municipio,onChange:n=>C({...i,remetente_municipio:n.target.value,municipio_origem:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"14","trae-inspector-end-line":"259","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:i.remetente_uf,onChange:n=>C({...i,remetente_uf:n.target.value.toUpperCase(),uf_origem:n.target.value.toUpperCase()})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"10","trae-inspector-end-line":"315","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"265","trae-inspector-start-column":"12","trae-inspector-end-line":"265","trae-inspector-end-column":"59","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Destinat%C3%A1rio%22%2C%22textStartLine%22%3A%22265%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22265%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Destinatário"}),e.jsxs("div",{"trae-inspector-start-line":"266","trae-inspector-start-column":"12","trae-inspector-end-line":"283","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"267","trae-inspector-start-column":"14","trae-inspector-end-line":"274","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ"}),e.jsx(m,{required:!0,value:i.destinatario_cnpj,onChange:n=>C({...i,destinatario_cnpj:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"14","trae-inspector-end-line":"282","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Razão Social"}),e.jsx(m,{required:!0,value:i.destinatario_razao,onChange:n=>C({...i,destinatario_razao:n.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"284","trae-inspector-start-column":"12","trae-inspector-end-line":"314","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"285","trae-inspector-start-column":"14","trae-inspector-end-line":"298","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Município"}),e.jsx(m,{required:!0,value:i.destinatario_municipio,onChange:n=>C({...i,destinatario_municipio:n.target.value,municipio_destino:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"14","trae-inspector-end-line":"313","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:i.destinatario_uf,onChange:n=>C({...i,destinatario_uf:n.target.value.toUpperCase(),uf_destino:n.target.value.toUpperCase()})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"318","trae-inspector-start-column":"10","trae-inspector-end-line":"370","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"319","trae-inspector-start-column":"12","trae-inspector-end-line":"319","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carga%20e%20Valores%22%2C%22textStartLine%22%3A%22319%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22319%22%2C%22textEndColumn%22%3A%2257%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Carga e Valores"}),e.jsxs("div",{"trae-inspector-start-line":"320","trae-inspector-start-column":"12","trae-inspector-end-line":"347","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"321","trae-inspector-start-column":"14","trae-inspector-end-line":"327","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Produto"}),e.jsx(m,{value:i.produto_predominante,onChange:n=>C({...i,produto_predominante:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"328","trae-inspector-start-column":"14","trae-inspector-end-line":"336","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Volumes"}),e.jsx(m,{type:"number",required:!0,value:i.quantidade_volumes,onChange:n=>C({...i,quantidade_volumes:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"337","trae-inspector-start-column":"14","trae-inspector-end-line":"346","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Peso Bruto (kg)"}),e.jsx(m,{type:"number",step:"0.01",required:!0,value:i.peso_bruto,onChange:n=>C({...i,peso_bruto:n.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"348","trae-inspector-start-column":"12","trae-inspector-end-line":"369","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"349","trae-inspector-start-column":"14","trae-inspector-end-line":"358","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor da Carga (R$)"}),e.jsx(m,{type:"number",step:"0.01",required:!0,value:i.valor_carga,onChange:n=>C({...i,valor_carga:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"359","trae-inspector-start-column":"14","trae-inspector-end-line":"368","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor do Frete (R$)"}),e.jsx(m,{type:"number",step:"0.01",required:!0,value:i.valor_total,onChange:n=>C({...i,valor_total:n.target.value})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"373","trae-inspector-start-column":"10","trae-inspector-end-line":"393","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"374","trae-inspector-start-column":"12","trae-inspector-end-line":"374","trae-inspector-end-column":"54","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%22%2C%22textStartLine%22%3A%22374%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22374%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Veículo"}),e.jsxs("div",{"trae-inspector-start-line":"375","trae-inspector-start-column":"12","trae-inspector-end-line":"392","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"376","trae-inspector-start-column":"14","trae-inspector-end-line":"382","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa"}),e.jsx($,{value:i.placa_veiculo,onChange:n=>C({...i,placa_veiculo:n})})]}),e.jsxs("div",{"trae-inspector-start-line":"383","trae-inspector-start-column":"14","trae-inspector-end-line":"391","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:i.uf_veiculo,onChange:n=>C({...i,uf_veiculo:n.target.value.toUpperCase()})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"395","trae-inspector-start-column":"10","trae-inspector-end-line":"403","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(_,{type:"submit",disabled:x,children:[x&&e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin"}),"Emitir CT-e"]})]})]})]})})}function St(){const[l,w]=p.useState([]),[a,h]=p.useState(!1),[x,A]=p.useState(!1),[i,C]=p.useState(!1),[f,n]=p.useState(!1),[r,v]=p.useState("");p.useEffect(()=>{t()},[]);const t=async()=>{h(!0);try{const{data:c,error:D}=await L.from("cte").select("*").order("created_at",{ascending:!1});if(D)throw D;w(c||[])}catch(c){console.error("Erro ao carregar CT-e:",c),j.error("Erro ao carregar CT-e")}finally{h(!1)}},g=c=>{const D={rascunho:{variant:"outline",label:"Rascunho"},emitido:{variant:"default",label:"Emitido"},autorizado:{variant:"secondary",label:"Autorizado"},cancelado:{variant:"destructive",label:"Cancelado"},rejeitado:{variant:"destructive",label:"Rejeitado"}},u=D[c]||D.rascunho;return e.jsx(I,{variant:u.variant,children:u.label})},d=l.filter(c=>c.numero_cte.toLowerCase().includes(r.toLowerCase())||c.placa_veiculo.toLowerCase().includes(r.toLowerCase())||c.remetente_nome.toLowerCase().includes(r.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsxs(q,{children:[e.jsx(re,{children:e.jsxs("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"10","trae-inspector-end-line":"103","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs(ie,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Gestão de CT-e"]}),e.jsxs("div",{"trae-inspector-start-line":"84","trae-inspector-start-column":"12","trae-inspector-end-line":"102","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs("div",{"trae-inspector-start-line":"85","trae-inspector-start-column":"14","trae-inspector-end-line":"93","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"relative",children:[e.jsx(Te,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(m,{placeholder:"Buscar CT-e...",className:"pl-8 w-64",value:r,onChange:c=>v(c.target.value)})]}),e.jsxs(_,{variant:"outline",onClick:()=>C(!0),children:[e.jsx(Be,{className:"mr-2 h-4 w-4"}),"Importar da BrasilNFe"]}),e.jsxs(_,{onClick:()=>n(!0),children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Emitir CT-e"]})]})]})}),e.jsx(J,{children:a?e.jsx("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"12","trae-inspector-end-line":"107","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22107%22%2C%22textStartColumn%22%3A%2246%22%2C%22textEndLine%22%3A%22107%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando..."}):d.length===0?e.jsxs("div",{"trae-inspector-start-line":"109","trae-inspector-start-column":"12","trae-inspector-end-line":"112","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(oe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"111","trae-inspector-start-column":"14","trae-inspector-end-line":"111","trae-inspector-end-column":"43","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20CT-e%20encontrado%22%2C%22textStartLine%22%3A%22111%22%2C%22textStartColumn%22%3A%2217%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhum CT-e encontrado"})]}):e.jsxs(Ae,{children:[e.jsx(fe,{children:e.jsxs(Z,{children:[e.jsx(B,{children:"Número"}),e.jsx(B,{children:"Data Emissão"}),e.jsx(B,{children:"Remetente"}),e.jsx(B,{children:"Destinatário"}),e.jsx(B,{children:"Placa"}),e.jsx(B,{children:"Valor Total"}),e.jsx(B,{children:"Status"}),e.jsx(B,{children:"Ações"})]})}),e.jsx(De,{children:d.map(c=>e.jsxs(Z,{children:[e.jsx(U,{className:"font-mono",children:c.numero_cte}),e.jsx(U,{children:Ue(new Date(c.data_emissao),"dd/MM/yyyy HH:mm")}),e.jsx(U,{children:c.remetente_nome}),e.jsx(U,{children:c.destinatario_nome}),e.jsx(U,{className:"font-mono",children:c.placa_veiculo}),e.jsxs(U,{className:"font-semibold text-green-600",children:["R$ ",c.valor_total.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx(U,{children:g(c.status)}),e.jsx(U,{children:e.jsx(_,{variant:"ghost",size:"sm",children:e.jsx(Ct,{className:"h-4 w-4"})})})]},c.id))})]})})]}),e.jsx(wt,{open:x,onOpenChange:A,onSuccess:t}),e.jsx(Bt,{open:i,onOpenChange:C,onSuccess:t}),e.jsx(Ut,{open:f,onOpenChange:n,onSuccess:t})]})}function yt({open:l,onOpenChange:w,onSuccess:a}){const{toast:h}=xe(),[x,A]=p.useState(!1),[i,C]=p.useState([]),[f,n]=p.useState([]),[r,v]=p.useState({numero:"",serie:"1",uf_inicio:"PE",uf_fim:"",ufs_percurso:"",placa_cavalo:"",uf_cavalo:"PE",cpf_motorista:"",nome_motorista:""});p.useEffect(()=>{l&&t()},[l]);const t=async()=>{const{data:c,error:D}=await L.from("cte").select("id, numero_cte, chave_acesso, remetente_cidade, destinatario_cidade, valor_total, peso_bruto").eq("status","autorizado").is("trip_id",null).order("created_at",{ascending:!1}).limit(50);if(D){console.error("Erro ao carregar CT-es:",D);return}C(c||[])},g=async c=>{if(c.preventDefault(),f.length===0){h({title:"Selecione pelo menos um CT-e",variant:"destructive"});return}A(!0);try{const D=i.filter(E=>f.includes(E.id)),u=D.reduce((E,b)=>E+b.peso_bruto,0),s=D.reduce((E,b)=>E+b.valor_total,0),{data:N,error:S}=await L.functions.invoke("emitir-mdfe",{body:{...r,quantidade_ctes:f.length,peso_bruto:u,valor_carga:s,ctes:D.map(E=>({chave:E.chave_acesso})),ufs_percurso:r.ufs_percurso.split(",").map(E=>E.trim().toUpperCase()).filter(E=>E),condutores:[{cpf:r.cpf_motorista,nome:r.nome_motorista}]}});if(S)throw S;if(N.success)h({title:"MDF-e emitido com sucesso!",description:`Número: ${N.numero} | Chave: ${N.chave}`}),a(),w(!1);else throw new Error(N.error||"Erro ao emitir MDF-e")}catch(D){console.error("Erro:",D),h({title:"Erro ao emitir MDF-e",description:D.message,variant:"destructive"})}finally{A(!1)}},d=c=>{n(D=>D.includes(c)?D.filter(u=>u!==c):[...D,c])};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsx(ee,{children:"Emitir MDF-e"})}),e.jsxs("form",{"trae-inspector-start-line":"143","trae-inspector-start-column":"8","trae-inspector-end-line":"283","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"145","trae-inspector-start-column":"10","trae-inspector-end-line":"166","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"146","trae-inspector-start-column":"12","trae-inspector-end-line":"146","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Dados%20do%20MDF-e%22%2C%22textStartLine%22%3A%22146%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22146%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Dados do MDF-e"}),e.jsxs("div",{"trae-inspector-start-line":"147","trae-inspector-start-column":"12","trae-inspector-end-line":"165","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"148","trae-inspector-start-column":"14","trae-inspector-end-line":"156","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Número"}),e.jsx(m,{required:!0,value:r.numero,onChange:c=>v({...r,numero:c.target.value}),placeholder:"000001"})]}),e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"14","trae-inspector-end-line":"164","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Série"}),e.jsx(m,{value:r.serie,onChange:c=>v({...r,serie:c.target.value}),placeholder:"1"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"169","trae-inspector-start-column":"10","trae-inspector-end-line":"201","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"170","trae-inspector-start-column":"12","trae-inspector-end-line":"170","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Percurso%22%2C%22textStartLine%22%3A%22170%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22170%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Percurso"}),e.jsxs("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"12","trae-inspector-end-line":"192","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"172","trae-inspector-start-column":"14","trae-inspector-end-line":"181","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF Início"}),e.jsx(m,{required:!0,maxLength:2,value:r.uf_inicio,onChange:c=>v({...r,uf_inicio:c.target.value.toUpperCase()}),placeholder:"PE"})]}),e.jsxs("div",{"trae-inspector-start-line":"182","trae-inspector-start-column":"14","trae-inspector-end-line":"191","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF Fim"}),e.jsx(m,{required:!0,maxLength:2,value:r.uf_fim,onChange:c=>v({...r,uf_fim:c.target.value.toUpperCase()}),placeholder:"SP"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"12","trae-inspector-end-line":"200","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UFs do Percurso (separadas por vírgula)"}),e.jsx(m,{value:r.ufs_percurso,onChange:c=>v({...r,ufs_percurso:c.target.value}),placeholder:"PE,AL,SE,BA,MG,SP"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"204","trae-inspector-start-column":"10","trae-inspector-end-line":"225","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"205","trae-inspector-start-column":"12","trae-inspector-end-line":"205","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%20de%20Tra%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22205%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22205%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Veículo de Tração"}),e.jsxs("div",{"trae-inspector-start-line":"206","trae-inspector-start-column":"12","trae-inspector-end-line":"224","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"207","trae-inspector-start-column":"14","trae-inspector-end-line":"213","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa"}),e.jsx($,{value:r.placa_cavalo,onChange:c=>v({...r,placa_cavalo:c})})]}),e.jsxs("div",{"trae-inspector-start-line":"214","trae-inspector-start-column":"14","trae-inspector-end-line":"223","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:r.uf_cavalo,onChange:c=>v({...r,uf_cavalo:c.target.value.toUpperCase()}),placeholder:"PE"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"10","trae-inspector-end-line":"249","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"229","trae-inspector-start-column":"12","trae-inspector-end-line":"229","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Condutor%22%2C%22textStartLine%22%3A%22229%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22229%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Condutor"}),e.jsxs("div",{"trae-inspector-start-line":"230","trae-inspector-start-column":"12","trae-inspector-end-line":"248","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"231","trae-inspector-start-column":"14","trae-inspector-end-line":"239","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CPF"}),e.jsx(m,{required:!0,value:r.cpf_motorista,onChange:c=>v({...r,cpf_motorista:c.target.value}),placeholder:"000.000.000-00"})]}),e.jsxs("div",{"trae-inspector-start-line":"240","trae-inspector-start-column":"14","trae-inspector-end-line":"247","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Nome"}),e.jsx(m,{required:!0,value:r.nome_motorista,onChange:c=>v({...r,nome_motorista:c.target.value})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"252","trae-inspector-start-column":"10","trae-inspector-end-line":"272","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("h3",{"trae-inspector-start-line":"253","trae-inspector-start-column":"12","trae-inspector-end-line":"253","trae-inspector-end-column":"103","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:["CT-es para Vincular (",f.length," selecionados)"]}),e.jsx("div",{"trae-inspector-start-line":"254","trae-inspector-start-column":"12","trae-inspector-end-line":"271","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border rounded-md p-4 max-h-60 overflow-y-auto space-y-2",children:i.length===0?e.jsx("p",{"trae-inspector-start-line":"256","trae-inspector-start-column":"16","trae-inspector-end-line":"256","trae-inspector-end-column":"98","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20CT-e%20autorizado%20dispon%C3%ADvel%22%2C%22textStartLine%22%3A%22256%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22256%22%2C%22textEndColumn%22%3A%2294%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Nenhum CT-e autorizado disponível"}):i.map(c=>e.jsxs("div",{"trae-inspector-start-line":"259","trae-inspector-start-column":"18","trae-inspector-end-line":"268","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2 p-2 hover:bg-accent rounded",children:[e.jsx(mt,{checked:f.includes(c.id),onCheckedChange:()=>d(c.id)}),e.jsxs("div",{"trae-inspector-start-line":"261","trae-inspector-start-column":"20","trae-inspector-end-line":"267","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"262","trae-inspector-start-column":"22","trae-inspector-end-line":"262","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:["CT-e ",c.numero_cte]}),e.jsxs("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"22","trae-inspector-end-line":"266","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[c.remetente_cidade," → ",c.destinatario_cidade," | ",c.peso_bruto,"kg | R$"," ",c.valor_total.toFixed(2)]})]})]},c.id))})]}),e.jsxs("div",{"trae-inspector-start-line":"274","trae-inspector-start-column":"10","trae-inspector-end-line":"282","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(_,{type:"submit",disabled:x||f.length===0,children:[x&&e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin"}),"Emitir MDF-e"]})]})]})]})})}function Mt(){const{toast:l}=xe(),[w,a]=p.useState([]),[h,x]=p.useState(!0),[A,i]=p.useState(!1);p.useEffect(()=>{C()},[]);const C=async()=>{x(!0);const{data:r,error:v}=await L.from("mdfe").select("*").order("created_at",{ascending:!1});v?(console.error("Erro ao carregar MDF-es:",v),l({title:"Erro ao carregar MDF-es",description:v.message,variant:"destructive"})):a(r||[]),x(!1)},f=async r=>{if(!confirm(`Confirma o encerramento do MDF-e ${r.numero_mdfe}?`))return;const v=prompt("Município de encerramento:");if(v)try{const{data:t,error:g}=await L.functions.invoke("encerrar-mdfe",{body:{mdfe_id:r.id,chave_acesso:r.chave_acesso,uf_encerramento:r.uf_fim,municipio_encerramento:v}});if(g)throw g;if(t.success)l({title:"MDF-e encerrado com sucesso!"}),C();else throw new Error(t.error)}catch(t){l({title:"Erro ao encerrar MDF-e",description:t.message,variant:"destructive"})}},n=r=>{const v={autorizado:"default",processando:"secondary",encerrado:"outline",cancelado:"destructive"};return e.jsx(I,{variant:v[r]||"default",children:r.toUpperCase()})};return e.jsxs("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"4","trae-inspector-end-line":"184","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"101","trae-inspector-start-column":"6","trae-inspector-end-line":"107","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsx("h2",{"trae-inspector-start-line":"102","trae-inspector-start-column":"8","trae-inspector-end-line":"102","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22MDF-e%20-%20Manifesto%20Eletr%C3%B4nico%22%2C%22textStartLine%22%3A%22102%22%2C%22textStartColumn%22%3A%2243%22%2C%22textEndLine%22%3A%22102%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"MDF-e - Manifesto Eletrônico"}),e.jsxs(_,{onClick:()=>i(!0),children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Emitir MDF-e"]})]}),e.jsxs(q,{children:[e.jsx(re,{children:e.jsx(ie,{children:"MDF-es Emitidos"})}),e.jsx(J,{children:h?e.jsx("p",{"trae-inspector-start-line":"115","trae-inspector-start-column":"12","trae-inspector-end-line":"115","trae-inspector-end-column":"32","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22115%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22115%22%2C%22textEndColumn%22%3A%2228%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Carregando..."}):w.length===0?e.jsx("p",{"trae-inspector-start-line":"117","trae-inspector-start-column":"12","trae-inspector-end-line":"117","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20MDF-e%20emitido%22%2C%22textStartLine%22%3A%22117%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22117%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Nenhum MDF-e emitido"}):e.jsxs(Ae,{children:[e.jsx(fe,{children:e.jsxs(Z,{children:[e.jsx(B,{children:"Número"}),e.jsx(B,{children:"Status"}),e.jsx(B,{children:"Percurso"}),e.jsx(B,{children:"Veículo"}),e.jsx(B,{children:"CT-es"}),e.jsx(B,{children:"Peso"}),e.jsx(B,{children:"Valor"}),e.jsx(B,{children:"Ações"})]})}),e.jsx(De,{children:w.map(r=>e.jsxs(Z,{children:[e.jsx(U,{children:e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"22","trae-inspector-end-line":"143","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"24","trae-inspector-end-line":"139","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:[r.numero_mdfe,"/",r.serie]}),e.jsx("div",{"trae-inspector-start-line":"140","trae-inspector-start-column":"24","trae-inspector-end-line":"142","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:new Date(r.data_emissao).toLocaleDateString()})]})}),e.jsx(U,{children:n(r.status)}),e.jsxs(U,{children:[r.uf_inicio," → ",r.uf_fim]}),e.jsx(U,{children:r.veiculo_tracao_placa}),e.jsx(U,{className:"text-center",children:r.quantidade_ctes}),e.jsxs(U,{children:[r.peso_total_kg.toFixed(0)," kg"]}),e.jsxs(U,{children:["R$ ",r.valor_total_carga.toFixed(2)]}),e.jsx(U,{children:e.jsxs("div",{"trae-inspector-start-line":"154","trae-inspector-start-column":"22","trae-inspector-end-line":"173","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[r.status==="autorizado"&&e.jsxs(_,{size:"sm",variant:"outline",onClick:()=>f(r),children:[e.jsx(Se,{className:"h-4 w-4 mr-1"}),"Encerrar"]}),r.chave_acesso&&e.jsx(_,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(r.chave_acesso),l({title:"Chave copiada!"})},children:e.jsx(oe,{className:"h-4 w-4"})})]})})]},r.id))})]})})]}),e.jsx(yt,{open:A,onOpenChange:i,onSuccess:C})]})}const Ft=({open:l,onOpenChange:w,cte:a,onTripCreated:h})=>{const[x,A]=p.useState(!1),[i,C]=p.useState([]),[f,n]=p.useState(""),[r,v]=p.useState(""),[t,g]=p.useState(""),[d,c]=p.useState(""),[D,u]=p.useState(""),[s,N]=p.useState("");p.useEffect(()=>{if(l){S(),a!=null&&a.placa_veiculo&&v(a.placa_veiculo);const b=new Date;b.setDate(b.getDate()+1),b.setHours(8,0,0,0),c(b.toISOString().slice(0,16));const T=new Date(b);T.setDate(T.getDate()+2),u(T.toISOString().slice(0,16))}},[l,a]);const S=async()=>{const{data:b}=await L.from("profiles").select("id, full_name, email").order("full_name"),{data:T}=await L.from("user_roles").select("user_id").eq("role","driver"),M=(T==null?void 0:T.map(R=>R.user_id))||[],O=(b||[]).filter(R=>M.includes(R.id)).map(R=>({id:R.id,full_name:R.full_name,email:R.email,available:!0}));C(O)},E=async b=>{if(b.preventDefault(),!f||!d||!D){j.error("Preencha todos os campos obrigatórios (Motorista e Datas)");return}if(!r){j.error("Selecione um veículo (Cavalo Mecânico)");return}A(!0);try{const T=i.find(se=>se.id===f),{data:M,error:O}=await L.from("trips").insert({origin:`${a.remetente_cidade}/${a.remetente_uf}`,destination:`${a.destinatario_cidade}/${a.destinatario_uf}`,driver_id:f,driver_name:(T==null?void 0:T.full_name)||"Motorista",vehicle_plate:r||a.placa_veiculo||"SEM-PLACA",status:"aprovada",estimated_departure:d,estimated_arrival:D,notes:s||null}).select().single();if(O)throw O;const{error:R}=await L.from("cte").update({trip_id:M.id}).eq("id",a.id);if(R)throw R;await L.from("driver_work_sessions").insert({driver_id:f,vehicle_plate:r,trip_id:M.id,data_inicio:d,status:"planejada",tipo_motorista:"carga"}),await L.from("notifications").insert({user_id:f,title:"🚚 Nova Viagem Atribuída!",message:`Viagem: ${a.remetente_cidade}/${a.remetente_uf} → ${a.destinatario_cidade}/${a.destinatario_uf}
Veículo: ${r}${t&&t!=="none"?` + Carreta ${t}`:""}
Partida: ${new Date(d).toLocaleString("pt-BR")}
CT-e: ${a.numero_cte} - ${a.produto_predominante}`,type:"info",module:"tms",read:!1}),j.success("Viagem criada com sucesso!",{description:"O motorista recebeu uma notificação com os detalhes da viagem."}),h()}catch(T){console.error("Erro ao criar viagem:",T),j.error("Erro ao criar viagem",{description:T.message})}finally{A(!1)}};return a?e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Y,{children:[e.jsxs(ee,{className:"text-2xl flex items-center gap-2",children:[e.jsx(dt,{className:"h-6 w-6 text-primary"}),"Criar Nova Viagem"]}),e.jsxs(st,{children:["Configure os detalhes da viagem para o CT-e ",a.numero_cte]})]}),e.jsxs("form",{"trae-inspector-start-line":"186","trae-inspector-start-column":"8","trae-inspector-end-line":"337","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"188","trae-inspector-start-column":"10","trae-inspector-end-line":"213","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[e.jsxs("h3",{"trae-inspector-start-line":"189","trae-inspector-start-column":"12","trae-inspector-end-line":"192","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Rota do CT-e"]}),e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"12","trae-inspector-end-line":"212","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"14","trae-inspector-end-line":"197","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"195","trae-inspector-start-column":"16","trae-inspector-end-line":"195","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Origem%22%2C%22textStartLine%22%3A%22195%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22195%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Origem"}),e.jsxs("p",{"trae-inspector-start-line":"196","trae-inspector-start-column":"16","trae-inspector-end-line":"196","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:[a.remetente_cidade,"/",a.remetente_uf]})]}),e.jsxs("div",{"trae-inspector-start-line":"198","trae-inspector-start-column":"14","trae-inspector-end-line":"201","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"199","trae-inspector-start-column":"16","trae-inspector-end-line":"199","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Destino%22%2C%22textStartLine%22%3A%22199%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22199%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Destino"}),e.jsxs("p",{"trae-inspector-start-line":"200","trae-inspector-start-column":"16","trae-inspector-end-line":"200","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:[a.destinatario_cidade,"/",a.destinatario_uf]})]}),e.jsxs("div",{"trae-inspector-start-line":"202","trae-inspector-start-column":"14","trae-inspector-end-line":"205","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"203","trae-inspector-start-column":"16","trae-inspector-end-line":"203","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Produto%22%2C%22textStartLine%22%3A%22203%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22203%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Produto"}),e.jsx("p",{"trae-inspector-start-line":"204","trae-inspector-start-column":"16","trae-inspector-end-line":"204","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:a.produto_predominante})]}),e.jsxs("div",{"trae-inspector-start-line":"206","trae-inspector-start-column":"14","trae-inspector-end-line":"211","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"207","trae-inspector-start-column":"16","trae-inspector-end-line":"207","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Valor%22%2C%22textStartLine%22%3A%22207%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22207%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Valor"}),e.jsxs("p",{"trae-inspector-start-line":"208","trae-inspector-start-column":"16","trae-inspector-end-line":"210","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-green-600",children:["R$ ",a.valor_total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"216","trae-inspector-start-column":"10","trae-inspector-end-line":"247","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"driver",className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-4 w-4"}),"Motorista *"]}),e.jsxs(K,{value:f,onValueChange:n,required:!0,children:[e.jsx(G,{id:"driver",children:e.jsx(X,{placeholder:"Selecione um motorista"})}),e.jsx(H,{children:i.length===0?e.jsxs("div",{"trae-inspector-start-line":"227","trae-inspector-start-column":"18","trae-inspector-end-line":"230","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 text-center text-sm text-muted-foreground",children:[e.jsx(gt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),"Nenhum motorista cadastrado"]}):i.map(b=>e.jsx(y,{value:b.id,children:e.jsxs("div",{"trae-inspector-start-line":"234","trae-inspector-start-column":"22","trae-inspector-end-line":"241","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between w-full",children:[e.jsx("span",{"trae-inspector-start-line":"235","trae-inspector-start-column":"24","trae-inspector-end-line":"235","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:b.full_name}),b.available&&e.jsx(I,{variant:"outline",className:"ml-2 bg-green-500/10 text-green-600",children:"Disponível"})]})},b.id))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"250","trae-inspector-start-column":"10","trae-inspector-end-line":"261","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"vehicle",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Veículo (Cavalo Mecânico) *"]}),e.jsx($,{value:r,onChange:v,placeholder:"Selecione um cavalo mecânico",filter:b=>{var T,M;return((T=b.type)==null?void 0:T.toLowerCase())==="cavalo"||((M=b.type)==null?void 0:M.toLowerCase())==="caminhão"}})]}),e.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"10","trae-inspector-end-line":"275","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"carreta",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Carreta (Opcional)"]}),e.jsx($,{value:t,onChange:g,placeholder:"Selecione uma carreta (se aplicável)",filter:b=>{var T,M;return((T=b.type)==null?void 0:T.toLowerCase())==="carreta"||((M=b.type)==null?void 0:M.toLowerCase())==="reboque"}})]}),e.jsxs("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"10","trae-inspector-end-line":"305","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"279","trae-inspector-start-column":"12","trae-inspector-end-line":"291","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"departure",className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),"Partida Prevista *"]}),e.jsx(m,{id:"departure",type:"datetime-local",value:d,onChange:b=>c(b.target.value),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"12","trae-inspector-end-line":"304","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"arrival",className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),"Chegada Prevista *"]}),e.jsx(m,{id:"arrival",type:"datetime-local",value:D,onChange:b=>u(b.target.value),required:!0})]})]}),e.jsxs("div",{"trae-inspector-start-line":"308","trae-inspector-start-column":"10","trae-inspector-end-line":"317","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(o,{htmlFor:"notes",children:"Observações"}),e.jsx(Ne,{id:"notes",value:s,onChange:b=>N(b.target.value),placeholder:"Instruções especiais, pontos de atenção, etc.",rows:3})]}),e.jsxs("div",{"trae-inspector-start-line":"320","trae-inspector-start-column":"10","trae-inspector-end-line":"336","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 justify-end pt-4 border-t",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:x,children:"Cancelar"}),e.jsx(_,{type:"submit",disabled:x,className:"bg-gradient-to-r from-primary to-primary/80",children:x?"Criando...":"Criar Viagem"})]})]})]})}):null},Pt=()=>{const[l,w]=p.useState([]),[a,h]=p.useState([]),[x,A]=p.useState(!0),[i,C]=p.useState(null),[f,n]=p.useState(!1);p.useEffect(()=>{r()},[]);const r=async()=>{A(!0),await Promise.all([v(),t()]),A(!1)},v=async()=>{const{data:u,error:s}=await L.from("cte").select("*").is("trip_id",null).in("status",["emitido","autorizado"]).order("data_emissao",{ascending:!1});if(s){j.error("Erro ao carregar CT-es disponíveis");return}w(u||[])},t=async()=>{const{data:u,error:s}=await L.from("trips").select(`
        *,
        profiles:driver_id (full_name, email)
      `).in("status",["aprovada","em_andamento","planejada"]).order("created_at",{ascending:!1});if(s){j.error("Erro ao carregar viagens");return}const N=await Promise.all((u||[]).map(async S=>{const{data:E}=await L.from("cte").select("*").eq("trip_id",S.id);return{...S,driver:Array.isArray(S.profiles)?S.profiles[0]:S.profiles,ctes:E||[]}}));h(N)},g=u=>{C(u),n(!0)},d=()=>{n(!1),C(null),r(),j.success("Viagem criada! O motorista já pode visualizar no app.")},c=u=>({planejada:"bg-blue-500/20 text-blue-600 border-blue-500/30",aprovada:"bg-green-500/20 text-green-600 border-green-500/30",em_andamento:"bg-purple-500/20 text-purple-600 border-purple-500/30",concluida:"bg-gray-500/20 text-gray-600 border-gray-500/30"})[u]||"bg-gray-500/20 text-gray-600",D=(u,s)=>Math.floor(Math.random()*800)+200;return e.jsxs(e.Fragment,{children:[e.jsxs(ve,{defaultValue:"available",className:"w-full",children:[e.jsxs(we,{className:"grid w-full grid-cols-2",children:[e.jsxs(F,{value:"available",className:"gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),"CT-es Disponíveis",l.length>0&&e.jsx(I,{variant:"secondary",className:"ml-2",children:l.length})]}),e.jsxs(F,{value:"active",className:"gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Viagens Ativas",a.length>0&&e.jsx(I,{variant:"secondary",className:"ml-2",children:a.length})]})]}),e.jsxs(P,{value:"available",className:"space-y-4 mt-6",children:[e.jsx("div",{"trae-inspector-start-line":"161","trae-inspector-start-column":"10","trae-inspector-end-line":"168","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between mb-4",children:e.jsxs("div",{"trae-inspector-start-line":"162","trae-inspector-start-column":"12","trae-inspector-end-line":"167","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h3",{"trae-inspector-start-line":"163","trae-inspector-start-column":"14","trae-inspector-end-line":"163","trae-inspector-end-column":"82","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CT-es%20Aguardando%20Aloca%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22163%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22163%22%2C%22textEndColumn%22%3A%2277%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:"CT-es Aguardando Alocação"}),e.jsx("p",{"trae-inspector-start-line":"164","trae-inspector-start-column":"14","trae-inspector-end-line":"166","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Selecione%20um%20CT-e%20para%20criar%20uma%20viagem%22%2C%22textStartLine%22%3A%22164%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22166%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Selecione um CT-e para criar uma viagem"})]})}),x?e.jsx("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"12","trae-inspector-end-line":"173","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20CT-es...%22%2C%22textStartLine%22%3A%22171%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22173%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-12 text-muted-foreground",children:"Carregando CT-es..."}):l.length===0?e.jsx(q,{className:"border-dashed",children:e.jsxs(J,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mb-4 opacity-50"}),e.jsx("h3",{"trae-inspector-start-line":"178","trae-inspector-start-column":"16","trae-inspector-end-line":"178","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20CT-e%20dispon%C3%ADvel%22%2C%22textStartLine%22%3A%22178%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22178%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-lg mb-2",children:"Nenhum CT-e disponível"}),e.jsx("p",{"trae-inspector-start-line":"179","trae-inspector-start-column":"16","trae-inspector-end-line":"181","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Todos%20os%20CT-es%20emitidos%20j%C3%A1%20foram%20alocados%20para%20viagens%20ou%20n%C3%A3o%20h%C3%A1%20CT-es%20cadastrados.%22%2C%22textStartLine%22%3A%22179%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22181%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground max-w-sm",children:"Todos os CT-es emitidos já foram alocados para viagens ou não há CT-es cadastrados."})]})}):e.jsx("div",{"trae-inspector-start-line":"185","trae-inspector-start-column":"12","trae-inspector-end-line":"263","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:l.map(u=>e.jsxs(q,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/50",children:[e.jsx(re,{className:"pb-3",children:e.jsxs("div",{"trae-inspector-start-line":"189","trae-inspector-start-column":"20","trae-inspector-end-line":"206","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"190","trae-inspector-start-column":"22","trae-inspector-end-line":"198","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5 text-primary"}),"CT-e ",u.numero_cte]}),e.jsx(I,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/30",children:u.status==="emitido"?"Emitido":"Autorizado"})]}),e.jsxs(_,{onClick:()=>g(u),className:"bg-gradient-to-r from-primary to-primary/80",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Criar Viagem"]})]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"210","trae-inspector-start-column":"20","trae-inspector-end-line":"237","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 p-3 bg-muted/30 rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"211","trae-inspector-start-column":"22","trae-inspector-end-line":"219","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{"trae-inspector-start-line":"213","trae-inspector-start-column":"24","trae-inspector-end-line":"218","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 min-w-0",children:[e.jsx("p",{"trae-inspector-start-line":"214","trae-inspector-start-column":"26","trae-inspector-end-line":"214","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm truncate",children:u.remetente_nome}),e.jsxs("p",{"trae-inspector-start-line":"215","trae-inspector-start-column":"26","trae-inspector-end-line":"217","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[u.remetente_cidade,"/",u.remetente_uf]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"221","trae-inspector-start-column":"22","trae-inspector-end-line":"226","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 pl-2",children:[e.jsx("div",{"trae-inspector-start-line":"222","trae-inspector-start-column":"24","trae-inspector-end-line":"222","trae-inspector-end-column":"95","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"h-8 w-px bg-gradient-to-b from-green-600 to-red-600"}),e.jsxs("span",{"trae-inspector-start-line":"223","trae-inspector-start-column":"24","trae-inspector-end-line":"225","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["~",D(u.remetente_cidade,u.destinatario_cidade)," km"]})]}),e.jsxs("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"22","trae-inspector-end-line":"236","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{"trae-inspector-start-line":"230","trae-inspector-start-column":"24","trae-inspector-end-line":"235","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 min-w-0",children:[e.jsx("p",{"trae-inspector-start-line":"231","trae-inspector-start-column":"26","trae-inspector-end-line":"231","trae-inspector-end-column":"99","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm truncate",children:u.destinatario_nome}),e.jsxs("p",{"trae-inspector-start-line":"232","trae-inspector-start-column":"26","trae-inspector-end-line":"234","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[u.destinatario_cidade,"/",u.destinatario_uf]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"240","trae-inspector-start-column":"20","trae-inspector-end-line":"259","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{"trae-inspector-start-line":"241","trae-inspector-start-column":"22","trae-inspector-end-line":"244","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-primary/5 rounded-lg",children:[e.jsx("p",{"trae-inspector-start-line":"242","trae-inspector-start-column":"24","trae-inspector-end-line":"242","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Produto%22%2C%22textStartLine%22%3A%22242%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22242%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Produto"}),e.jsx("p",{"trae-inspector-start-line":"243","trae-inspector-start-column":"24","trae-inspector-end-line":"243","trae-inspector-end-column":"100","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm truncate",children:u.produto_predominante})]}),e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"22","trae-inspector-end-line":"248","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-primary/5 rounded-lg",children:[e.jsx("p",{"trae-inspector-start-line":"246","trae-inspector-start-column":"24","trae-inspector-end-line":"246","trae-inspector-end-column":"89","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%20Sugerido%22%2C%22textStartLine%22%3A%22246%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22246%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Veículo Sugerido"}),e.jsx("p",{"trae-inspector-start-line":"247","trae-inspector-start-column":"24","trae-inspector-end-line":"247","trae-inspector-end-column":"94","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm font-mono",children:u.placa_veiculo})]}),e.jsxs("div",{"trae-inspector-start-line":"249","trae-inspector-start-column":"22","trae-inspector-end-line":"252","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-primary/5 rounded-lg",children:[e.jsx("p",{"trae-inspector-start-line":"250","trae-inspector-start-column":"24","trae-inspector-end-line":"250","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Peso%22%2C%22textStartLine%22%3A%22250%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22250%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Peso"}),e.jsxs("p",{"trae-inspector-start-line":"251","trae-inspector-start-column":"24","trae-inspector-end-line":"251","trae-inspector-end-column":"108","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm",children:[u.peso_bruto.toLocaleString("pt-BR")," kg"]})]}),e.jsxs("div",{"trae-inspector-start-line":"253","trae-inspector-start-column":"22","trae-inspector-end-line":"258","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-green-500/10 rounded-lg",children:[e.jsx("p",{"trae-inspector-start-line":"254","trae-inspector-start-column":"24","trae-inspector-end-line":"254","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Valor%22%2C%22textStartLine%22%3A%22254%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22254%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Valor"}),e.jsxs("p",{"trae-inspector-start-line":"255","trae-inspector-start-column":"24","trae-inspector-end-line":"257","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm text-green-600",children:["R$ ",u.valor_total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]},u.id))})]}),e.jsxs(P,{value:"active",className:"space-y-4 mt-6",children:[e.jsx("div",{"trae-inspector-start-line":"268","trae-inspector-start-column":"10","trae-inspector-end-line":"275","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between mb-4",children:e.jsxs("div",{"trae-inspector-start-line":"269","trae-inspector-start-column":"12","trae-inspector-end-line":"274","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h3",{"trae-inspector-start-line":"270","trae-inspector-start-column":"14","trae-inspector-end-line":"270","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Viagens%20em%20Opera%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22270%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22270%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:"Viagens em Operação"}),e.jsx("p",{"trae-inspector-start-line":"271","trae-inspector-start-column":"14","trae-inspector-end-line":"273","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Acompanhe%20todas%20as%20viagens%20planejadas%20e%20em%20andamento%22%2C%22textStartLine%22%3A%22271%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22273%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Acompanhe todas as viagens planejadas e em andamento"})]})}),x?e.jsx("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"12","trae-inspector-end-line":"280","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20viagens...%22%2C%22textStartLine%22%3A%22278%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22280%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-12 text-muted-foreground",children:"Carregando viagens..."}):a.length===0?e.jsx(q,{className:"border-dashed",children:e.jsxs(J,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(V,{className:"h-12 w-12 text-muted-foreground mb-4 opacity-50"}),e.jsx("h3",{"trae-inspector-start-line":"285","trae-inspector-start-column":"16","trae-inspector-end-line":"285","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20viagem%20ativa%22%2C%22textStartLine%22%3A%22285%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22285%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-lg mb-2",children:"Nenhuma viagem ativa"}),e.jsx("p",{"trae-inspector-start-line":"286","trae-inspector-start-column":"16","trae-inspector-end-line":"288","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Crie%20viagens%20a%20partir%20dos%20CT-es%20dispon%C3%ADveis%20para%20come%C3%A7ar%20o%20acompanhamento.%22%2C%22textStartLine%22%3A%22286%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22288%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground max-w-sm",children:"Crie viagens a partir dos CT-es disponíveis para começar o acompanhamento."})]})}):e.jsx("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"12","trae-inspector-end-line":"401","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:a.map(u=>e.jsxs(q,{className:"hover:shadow-lg transition-all duration-300",children:[e.jsx(re,{className:"pb-3",children:e.jsx("div",{"trae-inspector-start-line":"296","trae-inspector-start-column":"20","trae-inspector-end-line":"321","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between",children:e.jsxs("div",{"trae-inspector-start-line":"297","trae-inspector-start-column":"22","trae-inspector-end-line":"320","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"298","trae-inspector-start-column":"24","trae-inspector-end-line":"308","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5 text-primary"}),u.origin," → ",u.destination]}),e.jsx(I,{className:c(u.status),children:u.status==="planejada"?"Planejada":u.status==="aprovada"?"Aprovada":u.status==="em_andamento"?"Em Andamento":"Concluída"})]}),e.jsxs("div",{"trae-inspector-start-line":"309","trae-inspector-start-column":"24","trae-inspector-end-line":"319","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{"trae-inspector-start-line":"310","trae-inspector-start-column":"26","trae-inspector-end-line":"313","trae-inspector-end-column":"33","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-1",children:[e.jsx(V,{className:"h-4 w-4"}),u.vehicle_plate]}),u.driver&&e.jsxs("span",{"trae-inspector-start-line":"315","trae-inspector-start-column":"28","trae-inspector-end-line":"317","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-1",children:["👤 ",u.driver.full_name]})]})]})})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"325","trae-inspector-start-column":"20","trae-inspector-end-line":"340","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4 p-3 bg-muted/30 rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"326","trae-inspector-start-column":"22","trae-inspector-end-line":"332","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"327","trae-inspector-start-column":"24","trae-inspector-end-line":"327","trae-inspector-end-column":"94","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Partida%20Prevista%22%2C%22textStartLine%22%3A%22327%22%2C%22textStartColumn%22%3A%2274%22%2C%22textEndLine%22%3A%22327%22%2C%22textEndColumn%22%3A%2290%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mb-1",children:"Partida Prevista"}),e.jsxs("p",{"trae-inspector-start-line":"328","trae-inspector-start-column":"24","trae-inspector-end-line":"331","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm flex items-center gap-1",children:[e.jsx(ue,{className:"h-4 w-4"}),new Date(u.estimated_departure).toLocaleString("pt-BR")]})]}),e.jsxs("div",{"trae-inspector-start-line":"333","trae-inspector-start-column":"22","trae-inspector-end-line":"339","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"334","trae-inspector-start-column":"24","trae-inspector-end-line":"334","trae-inspector-end-column":"94","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Chegada%20Prevista%22%2C%22textStartLine%22%3A%22334%22%2C%22textStartColumn%22%3A%2274%22%2C%22textEndLine%22%3A%22334%22%2C%22textEndColumn%22%3A%2290%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mb-1",children:"Chegada Prevista"}),e.jsxs("p",{"trae-inspector-start-line":"335","trae-inspector-start-column":"24","trae-inspector-end-line":"338","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm flex items-center gap-1",children:[e.jsx(ue,{className:"h-4 w-4"}),new Date(u.estimated_arrival).toLocaleString("pt-BR")]})]})]}),u.ctes&&u.ctes.length>0&&e.jsxs("div",{"trae-inspector-start-line":"344","trae-inspector-start-column":"22","trae-inspector-end-line":"364","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("p",{"trae-inspector-start-line":"345","trae-inspector-start-column":"24","trae-inspector-end-line":"348","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),"CT-es Vinculados (",u.ctes.length,")"]}),e.jsx("div",{"trae-inspector-start-line":"349","trae-inspector-start-column":"24","trae-inspector-end-line":"363","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:u.ctes.map(s=>e.jsxs("div",{"trae-inspector-start-line":"351","trae-inspector-start-column":"28","trae-inspector-end-line":"361","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-primary/5 rounded border border-primary/20",children:[e.jsxs("div",{"trae-inspector-start-line":"352","trae-inspector-start-column":"30","trae-inspector-end-line":"357","trae-inspector-end-column":"36","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx("span",{"trae-inspector-start-line":"353","trae-inspector-start-column":"32","trae-inspector-end-line":"353","trae-inspector-end-column":"105","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs font-mono font-semibold",children:s.numero_cte}),e.jsxs(I,{variant:"outline",className:"text-xs",children:["R$ ",s.valor_total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx("p",{"trae-inspector-start-line":"358","trae-inspector-start-column":"30","trae-inspector-end-line":"360","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1 truncate",children:s.produto_predominante})]},s.id))})]}),u.notes&&e.jsxs("div",{"trae-inspector-start-line":"368","trae-inspector-start-column":"22","trae-inspector-end-line":"371","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-blue-500/5 rounded border border-blue-500/20",children:[e.jsx("p",{"trae-inspector-start-line":"369","trae-inspector-start-column":"24","trae-inspector-end-line":"369","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Observa%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22369%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22369%22%2C%22textEndColumn%22%3A%2280%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Observações"}),e.jsx("p",{"trae-inspector-start-line":"370","trae-inspector-start-column":"24","trae-inspector-end-line":"370","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:u.notes})]}),e.jsxs("div",{"trae-inspector-start-line":"375","trae-inspector-start-column":"20","trae-inspector-end-line":"397","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs(_,{variant:"outline",className:"flex-1",size:"sm",children:[e.jsx(ht,{className:"mr-2 h-4 w-4"}),"Ver Rastreamento"]}),u.status==="planejada"&&e.jsxs(_,{className:"flex-1 bg-green-600 hover:bg-green-700",size:"sm",onClick:async()=>{await L.from("trips").update({status:"aprovada"}).eq("id",u.id),r(),j.success("Viagem aprovada!")},children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Aprovar"]})]})]})]},u.id))})]})]}),e.jsx(Ft,{open:f,onOpenChange:n,cte:i,onTripCreated:d})]})};function Rt({open:l,onOpenChange:w,ordem:a,onSuccess:h}){const[x,A]=p.useState(!1),[i,C]=p.useState({numero_ordem:"",fornecedor_nome:"",fornecedor_cidade:"",fornecedor_uf:"",cliente_nome:"",cliente_cnpj:"",motorista_nome:"",motorista_telefone:"",placa_cavalo:"",placa_carreta:"",capacidade_carreta:"",produto:"",pedido_venda:""});p.useEffect(()=>{l&&(a?C({numero_ordem:a.numero_ordem||"",fornecedor_nome:a.fornecedor_nome||"",fornecedor_cidade:a.fornecedor_cidade||"",fornecedor_uf:a.fornecedor_uf||"",cliente_nome:a.cliente_nome||"",cliente_cnpj:a.cliente_cnpj||"",motorista_nome:a.motorista_nome||"",motorista_telefone:a.motorista_telefone||"",placa_cavalo:a.placa_cavalo||"",placa_carreta:a.placa_carreta||"",capacidade_carreta:a.capacidade_carreta||"",produto:a.produto||"",pedido_venda:a.pedido_venda||""}):f())},[l,a]);const f=()=>{const r=new Date,v=`OC-${r.getFullYear()}${String(r.getMonth()+1).padStart(2,"0")}${String(r.getDate()).padStart(2,"0")}-${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;C(t=>({...t,numero_ordem:v}))},n=async r=>{r.preventDefault(),A(!0);try{const{data:{user:v}}=await L.auth.getUser();if(a){const{error:t}=await L.from("ordem_coleta").update(i).eq("id",a.id);if(t)throw t;j.success("Ordem de coleta atualizada!")}else{const{error:t}=await L.from("ordem_coleta").insert({...i,created_by:v==null?void 0:v.id});if(t)throw t;j.success("Ordem de coleta criada!")}h==null||h(),w(!1)}catch(v){console.error("Erro:",v),j.error(v.message||"Erro ao salvar ordem de coleta")}finally{A(!1)}};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsxs(ee,{children:[a?"Editar":"Nova"," Ordem de Coleta"]})}),e.jsxs("form",{"trae-inspector-start-line":"109","trae-inspector-start-column":"8","trae-inspector-end-line":"209","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:n,className:"space-y-4",children:[e.jsx("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"10","trae-inspector-end-line":"115","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{"trae-inspector-start-line":"111","trae-inspector-start-column":"12","trae-inspector-end-line":"114","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Número da Ordem"}),e.jsx(m,{value:i.numero_ordem,onChange:r=>C({...i,numero_ordem:r.target.value}),required:!0})]})}),e.jsxs("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"10","trae-inspector-end-line":"133","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h3",{"trae-inspector-start-line":"118","trae-inspector-start-column":"12","trae-inspector-end-line":"118","trae-inspector-end-column":"57","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Fornecedor%22%2C%22textStartLine%22%3A%22118%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22118%22%2C%22textEndColumn%22%3A%2252%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Fornecedor"}),e.jsxs("div",{"trae-inspector-start-line":"119","trae-inspector-start-column":"12","trae-inspector-end-line":"132","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"14","trae-inspector-end-line":"123","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Nome"}),e.jsx(m,{value:i.fornecedor_nome,onChange:r=>C({...i,fornecedor_nome:r.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"124","trae-inspector-start-column":"14","trae-inspector-end-line":"127","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Cidade"}),e.jsx(m,{value:i.fornecedor_cidade,onChange:r=>C({...i,fornecedor_cidade:r.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"128","trae-inspector-start-column":"14","trae-inspector-end-line":"131","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{value:i.fornecedor_uf,onChange:r=>C({...i,fornecedor_uf:r.target.value}),maxLength:2})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"135","trae-inspector-start-column":"10","trae-inspector-end-line":"147","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h3",{"trae-inspector-start-line":"136","trae-inspector-start-column":"12","trae-inspector-end-line":"136","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Destino%20%2F%20Cliente%22%2C%22textStartLine%22%3A%22136%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22136%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Destino / Cliente"}),e.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"12","trae-inspector-end-line":"146","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"14","trae-inspector-end-line":"141","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Nome"}),e.jsx(m,{value:i.cliente_nome,onChange:r=>C({...i,cliente_nome:r.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"142","trae-inspector-start-column":"14","trae-inspector-end-line":"145","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ"}),e.jsx(m,{value:i.cliente_cnpj,onChange:r=>C({...i,cliente_cnpj:r.target.value}),required:!0})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"149","trae-inspector-start-column":"10","trae-inspector-end-line":"161","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h3",{"trae-inspector-start-line":"150","trae-inspector-start-column":"12","trae-inspector-end-line":"150","trae-inspector-end-column":"56","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Motorista%22%2C%22textStartLine%22%3A%22150%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22150%22%2C%22textEndColumn%22%3A%2251%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Motorista"}),e.jsxs("div",{"trae-inspector-start-line":"151","trae-inspector-start-column":"12","trae-inspector-end-line":"160","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"152","trae-inspector-start-column":"14","trae-inspector-end-line":"155","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Nome"}),e.jsx(m,{value:i.motorista_nome,onChange:r=>C({...i,motorista_nome:r.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"156","trae-inspector-start-column":"14","trae-inspector-end-line":"159","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Telefone"}),e.jsx(m,{value:i.motorista_telefone,onChange:r=>C({...i,motorista_telefone:r.target.value})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"163","trae-inspector-start-column":"10","trae-inspector-end-line":"189","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h3",{"trae-inspector-start-line":"164","trae-inspector-start-column":"12","trae-inspector-end-line":"164","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculos%22%2C%22textStartLine%22%3A%22164%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22164%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Veículos"}),e.jsxs("div",{"trae-inspector-start-line":"165","trae-inspector-start-column":"12","trae-inspector-end-line":"188","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"14","trae-inspector-end-line":"174","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa Cavalo"}),e.jsx($,{value:i.placa_cavalo,onChange:r=>C({...i,placa_cavalo:r}),filter:r=>r.type==="caminhao"||r.type==="cavalo",placeholder:"Selecione"})]}),e.jsxs("div",{"trae-inspector-start-line":"175","trae-inspector-start-column":"14","trae-inspector-end-line":"183","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa Carreta"}),e.jsx($,{value:i.placa_carreta,onChange:r=>C({...i,placa_carreta:r}),filter:r=>r.type==="carreta"||r.type==="reboque",placeholder:"Selecione"})]}),e.jsxs("div",{"trae-inspector-start-line":"184","trae-inspector-start-column":"14","trae-inspector-end-line":"187","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Capacidade"}),e.jsx(m,{value:i.capacidade_carreta,onChange:r=>C({...i,capacidade_carreta:r.target.value}),placeholder:"Ex: 24.000 LT - 36 TON"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"191","trae-inspector-start-column":"10","trae-inspector-end-line":"200","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"192","trae-inspector-start-column":"12","trae-inspector-end-line":"195","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Produto"}),e.jsx(m,{value:i.produto,onChange:r=>C({...i,produto:r.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"196","trae-inspector-start-column":"12","trae-inspector-end-line":"199","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Pedido de Venda"}),e.jsx(m,{value:i.pedido_venda,onChange:r=>C({...i,pedido_venda:r.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"202","trae-inspector-start-column":"10","trae-inspector-end-line":"208","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(_,{type:"submit",disabled:x,children:[x&&e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Atualizar":"Criar"]})]})]})]})})}function Ot(){const[l,w]=p.useState([]),[a,h]=p.useState(!0),[x,A]=p.useState(""),[i,C]=p.useState(!1),[f,n]=p.useState(null);p.useEffect(()=>{r()},[]);const r=async()=>{h(!0);try{const{data:d,error:c}=await L.from("ordem_coleta").select("*").order("data_emissao",{ascending:!1});if(c)throw c;w(d||[])}catch(d){j.error("Erro ao carregar ordens de coleta"),console.error(d)}finally{h(!1)}},v=async d=>{try{j.info("Gerando PDF...");const{data:c,error:D}=await L.functions.invoke("generate-ordem-coleta-pdf",{body:{ordem_id:d.id}});if(D)throw D;const u=window.open("","_blank");u&&(u.document.write(c.html),u.document.close(),u.focus(),setTimeout(()=>{u.print()},250)),j.success("PDF gerado com sucesso!")}catch(c){console.error("Erro ao gerar PDF:",c),j.error("Erro ao gerar PDF")}},t=l.filter(d=>{var c,D,u;return((c=d.numero_ordem)==null?void 0:c.toLowerCase().includes(x.toLowerCase()))||((D=d.cliente_nome)==null?void 0:D.toLowerCase().includes(x.toLowerCase()))||((u=d.motorista_nome)==null?void 0:u.toLowerCase().includes(x.toLowerCase()))}),g=d=>{const c={pendente:"secondary",coletado:"default",cancelado:"destructive"};return e.jsx(I,{variant:c[d]||"outline",children:d})};return e.jsxs("div",{"trae-inspector-start-line":"88","trae-inspector-start-column":"4","trae-inspector-end-line":"175","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"6","trae-inspector-end-line":"95","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx("h2",{"trae-inspector-start-line":"90","trae-inspector-start-column":"8","trae-inspector-end-line":"90","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ordens%20de%20Coleta%22%2C%22textStartLine%22%3A%2290%22%2C%22textStartColumn%22%3A%2243%22%2C%22textEndLine%22%3A%2290%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Ordens de Coleta"}),e.jsxs(_,{onClick:()=>{n(null),C(!0)},children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"Nova Ordem"]})]}),e.jsxs(q,{className:"p-4",children:[e.jsxs("div",{"trae-inspector-start-line":"98","trae-inspector-start-column":"8","trae-inspector-end-line":"106","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-4",children:[e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(m,{placeholder:"Buscar por número, cliente ou motorista...",value:x,onChange:d=>A(d.target.value),className:"max-w-sm"})]}),a?e.jsx("div",{"trae-inspector-start-line":"109","trae-inspector-start-column":"10","trae-inspector-end-line":"109","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22109%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22109%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):t.length===0?e.jsxs("div",{"trae-inspector-start-line":"111","trae-inspector-start-column":"10","trae-inspector-end-line":"114","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(oe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"113","trae-inspector-start-column":"12","trae-inspector-end-line":"113","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20ordem%20de%20coleta%20encontrada%22%2C%22textStartLine%22%3A%22113%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22113%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhuma ordem de coleta encontrada"})]}):e.jsxs(Ae,{children:[e.jsx(fe,{children:e.jsxs(Z,{children:[e.jsx(B,{children:"Número"}),e.jsx(B,{children:"Data"}),e.jsx(B,{children:"Cliente"}),e.jsx(B,{children:"Motorista"}),e.jsx(B,{children:"Placas"}),e.jsx(B,{children:"Produto"}),e.jsx(B,{children:"Status"}),e.jsx(B,{children:"Ações"})]})}),e.jsx(De,{children:t.map(d=>e.jsxs(Z,{children:[e.jsx(U,{className:"font-medium",children:d.numero_ordem}),e.jsx(U,{children:Ue(new Date(d.data_emissao),"dd/MM/yyyy")}),e.jsx(U,{children:d.cliente_nome}),e.jsx(U,{children:d.motorista_nome}),e.jsx(U,{children:e.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"20","trae-inspector-end-line":"140","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:[d.placa_cavalo,d.placa_carreta&&` / ${d.placa_carreta}`]})}),e.jsx(U,{children:d.produto}),e.jsx(U,{children:g(d.status)}),e.jsx(U,{children:e.jsxs("div",{"trae-inspector-start-line":"145","trae-inspector-start-column":"20","trae-inspector-end-line":"160","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(_,{size:"sm",variant:"outline",onClick:()=>v(d),children:e.jsx(Be,{className:"h-4 w-4"})}),e.jsx(_,{size:"sm",variant:"ghost",onClick:()=>{n(d),C(!0)},children:"Editar"})]})})]},d.id))})]})]}),e.jsx(Rt,{open:i,onOpenChange:C,ordem:f,onSuccess:r})]})}function Vt(){const[l,w]=p.useState([]),[a,h]=p.useState(!0);return p.useEffect(()=>{async function x(){h(!0);const{data:A,error:i}=await L.from("vehicles").select("*").order("placa",{ascending:!0});if(i){console.error("Erro ao carregar veículos:",i),h(!1);return}w(A||[]),h(!1)}x()},[]),a?e.jsx("p",{"trae-inspector-start-line":"31","trae-inspector-start-column":"11","trae-inspector-end-line":"31","trae-inspector-end-column":"40","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20ve%C3%ADculos...%22%2C%22textStartLine%22%3A%2231%22%2C%22textStartColumn%22%3A%2214%22%2C%22textEndLine%22%3A%2231%22%2C%22textEndColumn%22%3A%2236%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Carregando veículos..."}):e.jsxs("div",{"trae-inspector-start-line":"35","trae-inspector-start-column":"4","trae-inspector-end-line":"58","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",style:{padding:"16px"},children:[e.jsx("h2",{"trae-inspector-start-line":"36","trae-inspector-start-column":"6","trae-inspector-end-line":"36","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Lista%20de%20Ve%C3%ADculos%22%2C%22textStartLine%22%3A%2236%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%2236%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",style:{fontSize:"20px",marginBottom:"12px"},children:"Lista de Veículos"}),l.length===0&&e.jsx("p",{"trae-inspector-start-line":"38","trae-inspector-start-column":"32","trae-inspector-end-line":"38","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20ve%C3%ADculo%20encontrado.%22%2C%22textStartLine%22%3A%2238%22%2C%22textStartColumn%22%3A%2235%22%2C%22textEndLine%22%3A%2238%22%2C%22textEndColumn%22%3A%2261%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhum veículo encontrado."}),e.jsx("ul",{"trae-inspector-start-line":"40","trae-inspector-start-column":"6","trae-inspector-end-line":"57","trae-inspector-end-column":"11","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",style:{listStyle:"none",padding:0},children:l.map(x=>e.jsxs("li",{"trae-inspector-start-line":"42","trae-inspector-start-column":"10","trae-inspector-end-line":"55","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",style:{padding:"12px",marginBottom:"10px",background:"#f5f5f5",borderRadius:"6px"},children:[e.jsx("strong",{"trae-inspector-start-line":"51","trae-inspector-start-column":"12","trae-inspector-end-line":"51","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Placa%3A%22%2C%22textStartLine%22%3A%2251%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2251%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Placa:"})," ",x.placa," ",e.jsx("br",{"trae-inspector-start-line":"51","trae-inspector-start-column":"46","trae-inspector-end-line":"51","trae-inspector-end-column":"52","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D"}),e.jsx("strong",{"trae-inspector-start-line":"52","trae-inspector-start-column":"12","trae-inspector-end-line":"52","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tipo%3A%22%2C%22textStartLine%22%3A%2252%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2252%22%2C%22textEndColumn%22%3A%2225%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Tipo:"})," ",x.tipo," ",e.jsx("br",{"trae-inspector-start-line":"52","trae-inspector-start-column":"44","trae-inspector-end-line":"52","trae-inspector-end-column":"50","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D"}),e.jsx("strong",{"trae-inspector-start-line":"53","trae-inspector-start-column":"12","trae-inspector-end-line":"53","trae-inspector-end-column":"36","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Modelo%3A%22%2C%22textStartLine%22%3A%2253%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2253%22%2C%22textEndColumn%22%3A%2227%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Modelo:"})," ",x.modelo," ",e.jsx("br",{"trae-inspector-start-line":"53","trae-inspector-start-column":"48","trae-inspector-end-line":"53","trae-inspector-end-column":"54","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D"}),e.jsx("strong",{"trae-inspector-start-line":"54","trae-inspector-start-column":"12","trae-inspector-end-line":"54","trae-inspector-end-column":"42","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Propriet%C3%A1rio%3A%22%2C%22textStartLine%22%3A%2254%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2254%22%2C%22textEndColumn%22%3A%2233%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Proprietário:"})," ",x.proprietario||"—"]},x.id))})]})}function It(l){const w=Math.max(0,l.distanceKm||0),a=Math.max(.1,l.avgConsumptionKmPerLiter||3),h=Math.max(0,l.fuelPricePerLiter||5),x=Math.max(0,l.tolls||0),A=Math.max(0,l.variableCostPerKm||.5),i=Math.max(0,l.fixedCost||0),C=w/a,f=C*h,n=A*w;return{total:i+f+x+n,fuelCost:f,tolls:x,variableCost:n,liters:C}}function qt(){const[l,w]=p.useState({distanceKm:"",avgConsumptionKmPerLiter:"3.5",fuelPricePerLiter:"6.00",tolls:"0",variableCostPerKm:"0.50",fixedCost:"0"}),a=It({distanceKm:parseFloat(l.distanceKm||"0"),avgConsumptionKmPerLiter:parseFloat(l.avgConsumptionKmPerLiter||"0"),fuelPricePerLiter:parseFloat(l.fuelPricePerLiter||"0"),tolls:parseFloat(l.tolls||"0"),variableCostPerKm:parseFloat(l.variableCostPerKm||"0"),fixedCost:parseFloat(l.fixedCost||"0")});return e.jsxs(q,{className:"p-4 space-y-3",children:[e.jsx("div",{"trae-inspector-start-line":"20","trae-inspector-start-column":"6","trae-inspector-end-line":"20","trae-inspector-end-column":"70","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Estimativa%20de%20Custo%20da%20Rota%22%2C%22textStartLine%22%3A%2220%22%2C%22textStartColumn%22%3A%2237%22%2C%22textEndLine%22%3A%2220%22%2C%22textEndColumn%22%3A%2264%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Estimativa de Custo da Rota"}),e.jsxs("div",{"trae-inspector-start-line":"21","trae-inspector-start-column":"6","trae-inspector-end-line":"28","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[e.jsx(m,{placeholder:"Distância (km)",value:l.distanceKm,onChange:h=>w({...l,distanceKm:h.target.value})}),e.jsx(m,{placeholder:"KM/L",value:l.avgConsumptionKmPerLiter,onChange:h=>w({...l,avgConsumptionKmPerLiter:h.target.value})}),e.jsx(m,{placeholder:"Preço/L (R$)",value:l.fuelPricePerLiter,onChange:h=>w({...l,fuelPricePerLiter:h.target.value})}),e.jsx(m,{placeholder:"Pedágios (R$)",value:l.tolls,onChange:h=>w({...l,tolls:h.target.value})}),e.jsx(m,{placeholder:"Var R$/km",value:l.variableCostPerKm,onChange:h=>w({...l,variableCostPerKm:h.target.value})}),e.jsx(m,{placeholder:"Fixo (R$)",value:l.fixedCost,onChange:h=>w({...l,fixedCost:h.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"29","trae-inspector-start-column":"6","trae-inspector-end-line":"34","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"30","trae-inspector-start-column":"8","trae-inspector-end-line":"30","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["Combustível: R$ ",a.fuelCost.toFixed(2)," • ",a.liters.toFixed(1)," L"]}),e.jsxs("div",{"trae-inspector-start-line":"31","trae-inspector-start-column":"8","trae-inspector-end-line":"31","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["Pedágios: R$ ",a.tolls.toFixed(2)]}),e.jsxs("div",{"trae-inspector-start-line":"32","trae-inspector-start-column":"8","trae-inspector-end-line":"32","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["Variável: R$ ",a.variableCost.toFixed(2)]}),e.jsxs("div",{"trae-inspector-start-line":"33","trae-inspector-start-column":"8","trae-inspector-end-line":"33","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold",children:["Total: R$ ",a.total.toFixed(2)]})]}),e.jsx("div",{"trae-inspector-start-line":"35","trae-inspector-start-column":"6","trae-inspector-end-line":"37","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end",children:e.jsx(_,{variant:"modern",children:"Aplicar na Viagem"})})]})}const Zr=()=>e.jsx(et,{children:e.jsxs("div",{"trae-inspector-start-line":"23","trae-inspector-start-column":"6","trae-inspector-end-line":"118","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-8",children:[e.jsxs("div",{"trae-inspector-start-line":"24","trae-inspector-start-column":"8","trae-inspector-end-line":"29","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("h1",{"trae-inspector-start-line":"25","trae-inspector-start-column":"10","trae-inspector-end-line":"25","trae-inspector-end-column":"107","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22TMS%20-%20Transport%20Management%22%2C%22textStartLine%22%3A%2225%22%2C%22textStartColumn%22%3A%2276%22%2C%22textEndLine%22%3A%2225%22%2C%22textEndColumn%22%3A%22102%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-4xl font-bold tracking-tight text-foreground",children:"TMS - Transport Management"}),e.jsx("p",{"trae-inspector-start-line":"26","trae-inspector-start-column":"10","trae-inspector-end-line":"28","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sistema%20de%20Gest%C3%A3o%20de%20Transportes%20e%20Log%C3%ADstica%22%2C%22textStartLine%22%3A%2226%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%2228%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-base text-muted-foreground",children:"Sistema de Gestão de Transportes e Logística"})]}),e.jsxs("div",{"trae-inspector-start-line":"32","trae-inspector-start-column":"8","trae-inspector-end-line":"56","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ne,{title:"Viagens Ativas",value:"38",icon:V,trend:{value:"+5 hoje",positive:!0}}),e.jsx(ne,{title:"Taxa Ocupação",value:"87%",icon:te,trend:{value:"+3% vs ontem",positive:!0}}),e.jsx(ne,{title:"Entregas no Prazo",value:"94.2%",icon:ue}),e.jsx(ne,{title:"Receita Mês",value:"R$ 485k",icon:vt,trend:{value:"+12%",positive:!0}})]}),e.jsxs(ve,{defaultValue:"trips",className:"w-full",children:[e.jsxs(we,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-1",children:[e.jsx(F,{value:"trips",className:"text-xs sm:text-sm",children:"Viagens"}),e.jsx(F,{value:"rotas",className:"text-xs sm:text-sm",children:"Rotas"}),e.jsx(F,{value:"ordem-coleta",className:"text-xs sm:text-sm",children:"Ordem Coleta"}),e.jsx(F,{value:"veiculos",className:"text-xs sm:text-sm",children:"Cavalos"}),e.jsx(F,{value:"cte",className:"text-xs sm:text-sm",children:"CT-e"}),e.jsx(F,{value:"mdfe",className:"text-xs sm:text-sm",children:"MDF-e"}),e.jsx(F,{value:"receita",className:"text-xs sm:text-sm",children:"Receita"})]}),e.jsx(P,{value:"trips",children:e.jsx(Pt,{})}),e.jsx(P,{value:"rotas",children:e.jsx(xt,{})}),e.jsx(P,{value:"ordem-coleta",children:e.jsx(Ot,{})}),e.jsx(P,{value:"veiculos",children:e.jsxs(q,{children:[e.jsx(re,{children:e.jsxs(ie,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Lista de Cavalos Mecânicos"]})}),e.jsx(J,{children:e.jsx(Vt,{})})]})}),e.jsx(P,{value:"cte",children:e.jsxs("div",{"trae-inspector-start-line":"102","trae-inspector-start-column":"12","trae-inspector-end-line":"105","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:[e.jsx(qt,{}),e.jsx(St,{})]})}),e.jsx(P,{value:"mdfe",children:e.jsx(Mt,{})}),e.jsx(P,{value:"receita",children:e.jsx(pt,{})})]})]})});export{Zr as default};
