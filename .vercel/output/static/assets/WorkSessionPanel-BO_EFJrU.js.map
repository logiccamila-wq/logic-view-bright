{"version":3,"file":"WorkSessionPanel-BO_EFJrU.js","sources":["../../node_modules/lucide-react/dist/esm/icons/square.js","../../node_modules/lucide-react/dist/esm/icons/utensils.js","../../src/components/driver/VehicleChangeDialog.tsx","../../src/components/driver/WorkSessionPanel.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }]\n];\nconst Square = createLucideIcon(\"square\", __iconNode);\n\nexport { __iconNode, Square as default };\n//# sourceMappingURL=square.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\", key: \"cjf0a3\" }],\n  [\"path\", { d: \"M7 2v20\", key: \"1473qp\" }],\n  [\"path\", { d: \"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\", key: \"j28e5\" }]\n];\nconst Utensils = createLucideIcon(\"utensils\", __iconNode);\n\nexport { __iconNode, Utensils as default };\n//# sourceMappingURL=utensils.js.map\n","import { useState, useEffect } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { Truck, AlertCircle } from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { VehicleSelect } from \"@/components/VehicleSelect\";\r\n\r\ninterface VehicleChangeDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  currentSessionId: string;\r\n  currentVehicle: string;\r\n  onVehicleChanged: () => void;\r\n}\r\n\r\ninterface Vehicle {\r\n  placa: string;\r\n  modelo: string;\r\n  tipo: string;\r\n}\r\n\r\nexport const VehicleChangeDialog = ({ \r\n  open, \r\n  onOpenChange, \r\n  currentSessionId, \r\n  currentVehicle,\r\n  onVehicleChanged \r\n}: VehicleChangeDialogProps) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedVehicle, setSelectedVehicle] = useState(currentVehicle);\r\n  const [selectedCarreta, setSelectedCarreta] = useState(\"\");\r\n  const [motivo, setMotivo] = useState(\"\");\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!selectedVehicle) {\r\n      toast.error('Selecione o novo cavalo mecânico');\r\n      return;\r\n    }\r\n\r\n    if (!motivo) {\r\n      toast.error('Informe o motivo da troca');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Atualizar a sessão de trabalho com o novo veículo\r\n      const { error: sessionError } = await supabase\r\n        .from('driver_work_sessions')\r\n        .update({\r\n          vehicle_plate: selectedVehicle,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', currentSessionId);\r\n\r\n      if (sessionError) throw sessionError;\r\n\r\n      // Registrar o evento de troca\r\n      const { error: eventError } = await supabase\r\n        .from('driver_work_events')\r\n        .insert({\r\n          session_id: currentSessionId,\r\n          driver_id: (await supabase.auth.getUser()).data.user?.id,\r\n          tipo_atividade: 'trabalho',\r\n          data_hora_inicio: new Date().toISOString(),\r\n          observacoes: `Troca de veículo: ${currentVehicle} → ${selectedVehicle}${selectedCarreta ? ` + Carreta ${selectedCarreta}` : ''}\\nMotivo: ${motivo}`,\r\n          automatico: false\r\n        });\r\n\r\n      if (eventError) throw eventError;\r\n\r\n      toast.success('Veículo atualizado com sucesso!');\r\n      onVehicleChanged();\r\n      onOpenChange(false);\r\n    } catch (error) {\r\n      console.error('Erro ao trocar veículo:', error);\r\n      toast.error('Erro ao trocar veículo');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[500px]\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Truck className=\"h-5 w-5\" />\r\n            Trocar Veículo\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Registre a troca de cavalo mecânico e/ou carreta durante a viagem\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4 pt-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label>Veículo Atual</Label>\r\n            <div className=\"p-3 bg-muted rounded-lg\">\r\n              <Badge variant=\"outline\" className=\"font-mono\">\r\n                {currentVehicle}\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"vehicle\">Novo Cavalo Mecânico *</Label>\r\n            <VehicleSelect\r\n              value={selectedVehicle}\r\n              onChange={setSelectedVehicle}\r\n              filter={v => v.type === 'cavalo' || v.type === 'caminhao'}\r\n              placeholder=\"Selecione o cavalo\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"carreta\">Carreta (Opcional)</Label>\r\n            <VehicleSelect\r\n              value={selectedCarreta}\r\n              onChange={setSelectedCarreta}\r\n              filter={v => v.type === 'carreta' || v.type === 'reboque'}\r\n              placeholder=\"Selecione a carreta (se aplicável)\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"motivo\">Motivo da Troca *</Label>\r\n            <Textarea\r\n              id=\"motivo\"\r\n              placeholder=\"Ex: Manutenção preventiva, troca de rota, problema mecânico...\"\r\n              value={motivo}\r\n              onChange={(e) => setMotivo(e.target.value)}\r\n              rows={3}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-900\">\r\n            <AlertCircle className=\"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5\" />\r\n            <p className=\"text-sm text-amber-800 dark:text-amber-200\">\r\n              A troca será registrada no sistema e refletirá nos cálculos de gratificação\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              className=\"flex-1\"\r\n              onClick={() => onOpenChange(false)}\r\n              disabled={loading}\r\n            >\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"flex-1\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Registrando...\" : \"Confirmar Troca\"}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n  Play,\r\n  Square,\r\n  Coffee,\r\n  Utensils,\r\n  Clock,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Truck,\r\n} from \"lucide-react\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { VehicleChangeDialog } from \"./VehicleChangeDialog\";\r\nimport { VehicleSelect } from \"@/components/VehicleSelect\";\r\n\r\ninterface WorkSession {\r\n  id: string;\r\n  status: string;\r\n  data_inicio: string;\r\n  vehicle_plate: string;\r\n  total_direcao_minutos: number;\r\n  total_trabalho_minutos: number;\r\n  total_espera_minutos: number;\r\n  total_descanso_minutos: number;\r\n  horas_extras_minutos: number;\r\n}\r\n\r\ninterface WorkEvent {\r\n  id: string;\r\n  tipo_atividade: string;\r\n  data_hora_inicio: string;\r\n  data_hora_fim: string | null;\r\n}\r\n\r\nconst ATIVIDADES = [\r\n  { id: \"direcao\", label: \"Direção\", icon: Play, color: \"bg-blue-500\" },\r\n  { id: \"descanso\", label: \"Descanso\", icon: Coffee, color: \"bg-green-500\" },\r\n  { id: \"refeicao\", label: \"Refeição\", icon: Utensils, color: \"bg-orange-500\" },\r\n  { id: \"espera\", label: \"Espera\", icon: Clock, color: \"bg-yellow-500\" },\r\n  { id: \"trabalho\", label: \"Trabalho\", icon: CheckCircle, color: \"bg-purple-500\" },\r\n];\r\n\r\nexport function WorkSessionPanel() {\r\n  const { user } = useAuth();\r\n  const [currentSession, setCurrentSession] = useState<WorkSession | null>(null);\r\n  const [currentEvent, setCurrentEvent] = useState<WorkEvent | null>(null);\r\n  const [observacoes, setObservacoes] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [vehicleChangeDialogOpen, setVehicleChangeDialogOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadActiveSession();\r\n  }, [user]);\r\n\r\n  const loadActiveSession = async () => {\r\n    if (!user) return;\r\n\r\n    const { data: session } = await (supabase as any)\r\n      .from(\"driver_work_sessions\")\r\n      .select(\"*\")\r\n      .eq(\"driver_id\", user.id)\r\n      .eq(\"status\", \"em_andamento\")\r\n      .order(\"data_inicio\", { ascending: false })\r\n      .limit(1)\r\n      .maybeSingle();\r\n\r\n    setCurrentSession(session);\r\n\r\n    if (session) {\r\n      // Buscar evento atual (não finalizado)\r\n      const { data: event } = await (supabase as any)\r\n        .from(\"driver_work_events\")\r\n        .select(\"*\")\r\n        .eq(\"session_id\", session.id)\r\n        .is(\"data_hora_fim\", null)\r\n        .order(\"data_hora_inicio\", { ascending: false })\r\n        .limit(1)\r\n        .maybeSingle();\r\n\r\n      setCurrentEvent(event);\r\n    }\r\n  };\r\n\r\n  const [showVehicleSelect, setShowVehicleSelect] = useState(false);\r\n  const [selectedVehicle, setSelectedVehicle] = useState<string>(\"\");\r\n\r\n  const handleIniciarJornadaClick = () => {\r\n    setShowVehicleSelect(true);\r\n  };\r\n\r\n  const iniciarJornadaComViagem = async () => {\r\n    if (!user) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const { data: trip } = await supabase\r\n        .from(\"trips\")\r\n        .select(\"id, vehicle_plate\")\r\n        .eq(\"driver_id\", user.id)\r\n        .eq(\"status\", \"em_andamento\")\r\n        .order(\"created_at\", { ascending: false })\r\n        .limit(1)\r\n        .maybeSingle();\r\n\r\n      if (!trip) {\r\n        toast.error(\"Nenhuma viagem ativa encontrada\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const { data: session, error } = await (supabase as any)\r\n        .from(\"driver_work_sessions\")\r\n        .insert({\r\n          driver_id: user.id,\r\n          vehicle_plate: trip.vehicle_plate,\r\n          trip_id: trip.id,\r\n          data_inicio: new Date().toISOString(),\r\n          status: \"em_andamento\",\r\n        })\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      setCurrentSession(session);\r\n      toast.success(\"Jornada iniciada com viagem vinculada!\");\r\n    } catch (error) {\r\n      console.error(\"Erro ao iniciar jornada:\", error);\r\n      toast.error(\"Erro ao iniciar jornada\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const iniciarJornadaSemViagem = async () => {\r\n    if (!user || !selectedVehicle) {\r\n      toast.error(\"Selecione um veículo\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const { data: session, error } = await (supabase as any)\r\n        .from(\"driver_work_sessions\")\r\n        .insert({\r\n          driver_id: user.id,\r\n          vehicle_plate: selectedVehicle,\r\n          trip_id: null,\r\n          data_inicio: new Date().toISOString(),\r\n          status: \"em_andamento\",\r\n        })\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      setCurrentSession(session);\r\n      setShowVehicleSelect(false);\r\n      setSelectedVehicle(\"\");\r\n      toast.success(\"Jornada iniciada sem viagem (manobra/oficina)!\");\r\n    } catch (error) {\r\n      console.error(\"Erro ao iniciar jornada:\", error);\r\n      toast.error(\"Erro ao iniciar jornada\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const finalizarJornada = async () => {\r\n    if (!currentSession) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Finalizar evento atual se houver\r\n      if (currentEvent) {\r\n        await finalizarEvento();\r\n      }\r\n\r\n      const { error } = await (supabase as any)\r\n        .from(\"driver_work_sessions\")\r\n        .update({\r\n          status: \"concluida\",\r\n          data_fim: new Date().toISOString(),\r\n        })\r\n        .eq(\"id\", currentSession.id);\r\n\r\n      if (error) throw error;\r\n\r\n      // Chamar função de análise\r\n      await supabase.functions.invoke(\"analyze-driver-journey\", {\r\n        body: { sessionId: currentSession.id },\r\n      });\r\n\r\n      setCurrentSession(null);\r\n      setCurrentEvent(null);\r\n      toast.success(\"Jornada finalizada e analisada!\");\r\n    } catch (error) {\r\n      console.error(\"Erro ao finalizar jornada:\", error);\r\n      toast.error(\"Erro ao finalizar jornada\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const iniciarAtividade = async (tipoAtividade: \"direcao\" | \"descanso\" | \"refeicao\" | \"espera\" | \"trabalho\" | \"intervalo\") => {\r\n    if (!currentSession) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Finalizar evento anterior se houver\r\n      if (currentEvent) {\r\n        await finalizarEvento();\r\n      }\r\n\r\n      const { data: event, error } = await (supabase as any)\r\n        .from(\"driver_work_events\")\r\n        .insert([{\r\n          session_id: currentSession.id,\r\n          driver_id: user!.id,\r\n          tipo_atividade: tipoAtividade,\r\n          data_hora_inicio: new Date().toISOString(),\r\n          observacoes,\r\n        }])\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      setCurrentEvent(event);\r\n      setObservacoes(\"\");\r\n      toast.success(`${ATIVIDADES.find(a => a.id === tipoAtividade)?.label} iniciada`);\r\n    } catch (error) {\r\n      console.error(\"Erro ao iniciar atividade:\", error);\r\n      toast.error(\"Erro ao iniciar atividade\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const finalizarEvento = async () => {\r\n    if (!currentEvent) return;\r\n\r\n    const agora = new Date();\r\n    const inicio = new Date(currentEvent.data_hora_inicio);\r\n    const duracaoMinutos = Math.round((agora.getTime() - inicio.getTime()) / (1000 * 60));\r\n\r\n    const { error } = await (supabase as any)\r\n      .from(\"driver_work_events\")\r\n      .update({\r\n        data_hora_fim: agora.toISOString(),\r\n        duracao_minutos: duracaoMinutos,\r\n      })\r\n      .eq(\"id\", currentEvent.id);\r\n\r\n    if (error) throw error;\r\n\r\n    // Atualizar totais da sessão\r\n    const tipoAtividade = currentEvent.tipo_atividade;\r\n    const updateData: any = {};\r\n\r\n    if (tipoAtividade === \"direcao\") {\r\n      updateData.total_direcao_minutos = (currentSession?.total_direcao_minutos || 0) + duracaoMinutos;\r\n      updateData.total_trabalho_minutos = (currentSession?.total_trabalho_minutos || 0) + duracaoMinutos;\r\n    } else if (tipoAtividade === \"espera\" || tipoAtividade === \"trabalho\") {\r\n      if (tipoAtividade === \"espera\") {\r\n        updateData.total_espera_minutos = (currentSession?.total_espera_minutos || 0) + duracaoMinutos;\r\n      }\r\n      updateData.total_trabalho_minutos = (currentSession?.total_trabalho_minutos || 0) + duracaoMinutos;\r\n    } else if (tipoAtividade === \"descanso\") {\r\n      updateData.total_descanso_minutos = (currentSession?.total_descanso_minutos || 0) + duracaoMinutos;\r\n    }\r\n\r\n    await (supabase as any)\r\n      .from(\"driver_work_sessions\")\r\n      .update(updateData)\r\n      .eq(\"id\", currentSession!.id);\r\n\r\n    setCurrentEvent(null);\r\n  };\r\n\r\n  const formatarTempo = (minutos: number) => {\r\n    const horas = Math.floor(minutos / 60);\r\n    const mins = minutos % 60;\r\n    return `${horas}h${mins.toString().padStart(2, \"0\")}min`;\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-6\">Jornada Motorista</h2>\r\n\r\n      {!currentSession ? (\r\n        <div className=\"text-center py-8 space-y-4\">\r\n          <p className=\"text-muted-foreground mb-4\">\r\n            Nenhuma jornada em andamento\r\n          </p>\r\n          \r\n          {!showVehicleSelect ? (\r\n            <div className=\"flex gap-3 justify-center\">\r\n              <Button onClick={iniciarJornadaComViagem} disabled={loading} size=\"lg\">\r\n                <Play className=\"mr-2 h-5 w-5\" />\r\n                Com Viagem Ativa\r\n              </Button>\r\n              <Button onClick={handleIniciarJornadaClick} disabled={loading} size=\"lg\" variant=\"outline\">\r\n                <Truck className=\"mr-2 h-5 w-5\" />\r\n                Sem Viagem (Manobra/Oficina)\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"max-w-md mx-auto space-y-4\">\r\n              <div>\r\n                <label className=\"text-sm font-medium mb-2 block\">Selecione o Veículo</label>\r\n                <VehicleSelect\r\n                  value={selectedVehicle}\r\n                  onChange={setSelectedVehicle}\r\n                  filter={v => v.type === 'cavalo' || v.type === 'caminhao'}\r\n                  placeholder=\"Escolha um cavalo mecânico\"\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                <Button \r\n                  onClick={iniciarJornadaSemViagem} \r\n                  disabled={loading || !selectedVehicle} \r\n                  size=\"lg\"\r\n                  className=\"flex-1\"\r\n                >\r\n                  <Play className=\"mr-2 h-5 w-5\" />\r\n                  Confirmar\r\n                </Button>\r\n                <Button \r\n                  onClick={() => {\r\n                    setShowVehicleSelect(false);\r\n                    setSelectedVehicle(\"\");\r\n                  }} \r\n                  disabled={loading}\r\n                  variant=\"outline\"\r\n                  size=\"lg\"\r\n                >\r\n                  Cancelar\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          {/* Status Atual - Primeira linha: Veículo e Tempo Trabalhado */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"p-4 bg-primary/10 border border-primary/20 rounded-lg\">\r\n              <p className=\"text-sm text-muted-foreground mb-1\">Veículo Atual</p>\r\n              <p className=\"text-3xl font-bold text-primary\">{currentSession.vehicle_plate}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Tempo Trabalhado</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {formatarTempo(currentSession.total_trabalho_minutos)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Segunda linha: Outros tempos */}\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Tempo Direção</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {formatarTempo(currentSession.total_direcao_minutos)}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Horas Extras</p>\r\n              <p className=\"text-2xl font-bold text-orange-500\">\r\n                {formatarTempo(currentSession.horas_extras_minutos)}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Limite Diário</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {currentSession.total_trabalho_minutos > 720 ? (\r\n                  <span className=\"text-red-500\">12h00</span>\r\n                ) : (\r\n                  \"12h00\"\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Atividade Atual */}\r\n          {currentEvent && (\r\n            <div className=\"bg-primary/10 p-4 rounded-lg\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Badge variant=\"outline\" className=\"animate-pulse\">\r\n                    EM ANDAMENTO\r\n                  </Badge>\r\n                  <span className=\"font-semibold\">\r\n                    {ATIVIDADES.find(a => a.id === currentEvent.tipo_atividade)?.label}\r\n                  </span>\r\n                </div>\r\n                <Button\r\n                  onClick={finalizarEvento}\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  disabled={loading}\r\n                >\r\n                  <Square className=\"mr-2 h-4 w-4\" />\r\n                  Finalizar\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Observações */}\r\n          <div>\r\n            <label className=\"text-sm font-medium mb-2 block\">\r\n              Observações (opcional)\r\n            </label>\r\n            <Textarea\r\n              value={observacoes}\r\n              onChange={(e) => setObservacoes(e.target.value)}\r\n              placeholder=\"Ex: Carregamento atrasado, condições da estrada, etc.\"\r\n              rows={2}\r\n            />\r\n          </div>\r\n\r\n          {/* Botões de Atividades */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n            {ATIVIDADES.map((atividade) => {\r\n              const Icon = atividade.icon;\r\n              const isAtual = currentEvent?.tipo_atividade === atividade.id;\r\n              \r\n              return (\r\n                <Button\r\n                  key={atividade.id}\r\n                  onClick={() => iniciarAtividade(atividade.id as any)}\r\n                  disabled={loading || isAtual}\r\n                  variant={isAtual ? \"default\" : \"outline\"}\r\n                  className=\"h-20 flex-col\"\r\n                >\r\n                  <Icon className=\"h-6 w-6 mb-2\" />\r\n                  {atividade.label}\r\n                </Button>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Alertas */}\r\n          {currentSession.total_trabalho_minutos > 660 && (\r\n            <div className=\"bg-orange-500/10 border border-orange-500 p-4 rounded-lg flex items-center gap-2\">\r\n              <AlertTriangle className=\"h-5 w-5 text-orange-500\" />\r\n              <span className=\"text-sm\">\r\n                Atenção: Você está próximo do limite de 12h diárias\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Finalizar Jornada */}\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              onClick={finalizarJornada}\r\n              disabled={loading}\r\n              variant=\"destructive\"\r\n              className=\"flex-1\"\r\n              size=\"lg\"\r\n            >\r\n              <Square className=\"mr-2 h-5 w-5\" />\r\n              Finalizar Jornada\r\n            </Button>\r\n            <Button\r\n              onClick={() => setVehicleChangeDialogOpen(true)}\r\n              disabled={loading}\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n            >\r\n              <Truck className=\"mr-2 h-5 w-5\" />\r\n              Trocar Veículo\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {currentSession && (\r\n        <VehicleChangeDialog\r\n          open={vehicleChangeDialogOpen}\r\n          onOpenChange={setVehicleChangeDialogOpen}\r\n          currentSessionId={currentSession.id}\r\n          currentVehicle={currentSession.vehicle_plate}\r\n          onVehicleChanged={loadActiveSession}\r\n        />\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n"],"names":["__iconNode","Square","createLucideIcon","Utensils","VehicleChangeDialog","open","onOpenChange","currentSessionId","currentVehicle","onVehicleChanged","loading","setLoading","useState","selectedVehicle","setSelectedVehicle","selectedCarreta","setSelectedCarreta","motivo","setMotivo","handleSubmit","e","preventDefault","toast","error","sessionError","supabase","from","update","vehicle_plate","updated_at","Date","toISOString","eq","eventError","insert","session_id","driver_id","_a","auth","getUser","data","user","id","tipo_atividade","data_hora_inicio","observacoes","automatico","success","console","Dialog","jsxs","DialogContent","DialogHeader","DialogTitle","jsx","Truck","DialogDescription","Label","Badge","VehicleSelect","v","type","Textarea","target","value","AlertCircle","Button","ATIVIDADES","label","icon","Play","color","Coffee","Clock","CheckCircle","WorkSessionPanel","useAuth","currentSession","setCurrentSession","currentEvent","setCurrentEvent","setObservacoes","vehicleChangeDialogOpen","setVehicleChangeDialogOpen","useEffect","loadActiveSession","session","select","order","ascending","limit","maybeSingle","event","is","showVehicleSelect","setShowVehicleSelect","handleIniciarJornadaClick","iniciarJornadaComViagem","trip","trip_id","data_inicio","status","single","iniciarJornadaSemViagem","finalizarJornada","finalizarEvento","data_fim","functions","invoke","body","sessionId","iniciarAtividade","tipoAtividade","find","a","agora","inicio","duracaoMinutos","Math","round","getTime","data_hora_fim","duracao_minutos","updateData","total_direcao_minutos","total_trabalho_minutos","total_espera_minutos","total_descanso_minutos","formatarTempo","minutos","horas","floor","mins","toString","padStart","Card","horas_extras_minutos","map","atividade","Icon","isAtual","AlertTriangle"],"mappings":"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","x_google_ignoreList":[0,1]}