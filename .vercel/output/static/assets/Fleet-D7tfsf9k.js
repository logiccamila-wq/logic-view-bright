import{c as Se,a as ve,a0 as Ee,r as d,s as L,j as e,B as f,T as ne,Z as qe,aN as Ke,d as ue,aO as ke,u as $e,aP as Ge,aQ as ze,L as Ye,W as ye}from"./index-C8gJK6VO.js";import{I as v}from"./input-D5Ccm-s1.js";import{C as B,d as M,a as q,b as K,c as be}from"./card-XpOOVLWI.js";import{B as Z}from"./badge-CRfFogl7.js";import{T as je,a as De,b as R,c as V}from"./tabs-C5DHGacV.js";import{S as me}from"./StatCard-CvR0DIEf.js";import{S as H,a as J,b as X,c as Q,d as y}from"./select-CgN7rKuh.js";import{L as D}from"./label-C3geKGxC.js";import{S as ie}from"./switch-CM5BIiBp.js";import{D as Me,f as Fe,a as Pe,b as Ie,c as Te,e as Ze}from"./dialog-KfbCdWZy.js";import{P as Re}from"./plus-C4B_3Olf.js";import{B as Ve}from"./bell-DklMG7XH.js";import{T as Oe}from"./trash-2-DqbN6Ybf.js";import{M as He}from"./mail-tiDEyJEE.js";import{T as Le}from"./triangle-alert-Bog7h-1T.js";import{T as ge}from"./trending-up-DWFUeL7W.js";import{D as We}from"./dollar-sign-C1fvDVSy.js";import{A as Ae,a as we}from"./alert-CWtFpjWp.js";import{C as ce}from"./circle-check-big-CG-bN1l7.js";import{C as ae}from"./circle-alert-CNjLJXF5.js";import{D as Je}from"./download-DNHLnsL1.js";import{S as Xe}from"./settings-C9vZC95U.js";import{C as Qe}from"./calendar-CGtyORkI.js";import{R as de,T as he,L as Ne}from"./CategoricalChart-C2-bnGS6.js";import{A as et}from"./AreaChart-CQsx-jhl.js";import{a as oe,X as le,Y as Ce}from"./CartesianChart-sJGvtODh.js";import{A as _e}from"./Area-HuI9nLtC.js";import{P as tt,a as st}from"./PieChart-BaiMfmPm.js";import{C as rt}from"./tooltipContext-C_VwTSky.js";import{B as xe,a as pe}from"./BarChart-DLmN00sM.js";import{T as it}from"./trending-down-Bwvyf_cf.js";import{a as nt,T as at}from"./TireApprovals-DeRo3_QC.js";import{V as ct,u as ot}from"./VehicleSelect-OQhGO8Zg.js";import{L as lt}from"./loader-circle-BUprINBZ.js";import{U as Ct}from"./upload-C_xAxari.js";import{G as pt}from"./gauge-CqWppFxd.js";import{S as mt}from"./search-Da-3pudI.js";import{S as dt}from"./square-pen-C6yFawho.js";import"./index-C9UnwKLR.js";import"./Combination-BQvqHitJ.js";import"./index-XPvY48Nz.js";import"./chevron-down-ChCbnXTB.js";import"./check-CMTAF2ib.js";import"./index-De_FPpeP.js";import"./getRadiusAndStrokeWidthFromDot-BovFsRfD.js";import"./textarea-Oo1gIRGr.js";import"./demoStore-BIsfGJR8.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Be=Se("message-circle",ht);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],fe=Se("workflow",ut);function gt(){const{user:w}=ve(),{toast:A}=Ee(),[m,u]=d.useState([]),[b,C]=d.useState(!0),[c,x]=d.useState(!1),[l,o]=d.useState([]),[t,g]=d.useState({alert_name:"",alert_type:"cost_threshold",cost_threshold:"",period_days:"30",trend_percentage:"20",trend_period_months:"3",vehicle_plate:"",email_recipients:"",email_enabled:!0,whatsapp_numbers:"",whatsapp_enabled:!1,n8n_webhook_url:"",n8n_enabled:!1});d.useEffect(()=>{n(),s()},[]);const n=async()=>{try{const{data:r,error:j}=await L.from("maintenance_cost_alerts").select("*").order("created_at",{ascending:!1});if(j)throw j;u(r||[])}catch(r){console.error("Error loading alerts:",r),A({title:"Erro",description:"NÃ£o foi possÃ­vel carregar os alertas",variant:"destructive"})}finally{C(!1)}},s=async()=>{try{const{data:r,error:j}=await L.from("service_orders").select("vehicle_plate");if(j)throw j;const O=[...new Set((r==null?void 0:r.map(se=>se.vehicle_plate))||[])];o(O.sort())}catch(r){console.error("Error loading vehicles:",r)}},a=async r=>{if(r.preventDefault(),!!w)try{const j=t.email_recipients.split(",").map(i=>i.trim()).filter(i=>i.length>0),O=t.whatsapp_numbers.split(",").map(i=>i.trim()).filter(i=>i.length>0),se={user_id:w.id,alert_name:t.alert_name,alert_type:t.alert_type,email_enabled:t.email_enabled,email_recipients:j,whatsapp_enabled:t.whatsapp_enabled,whatsapp_numbers:O,n8n_enabled:t.n8n_enabled,n8n_webhook_url:t.n8n_webhook_url||null,notification_channels:[t.email_enabled&&"email",t.whatsapp_enabled&&"whatsapp",t.n8n_enabled&&"n8n"].filter(Boolean),cost_threshold:t.alert_type==="cost_threshold"?parseFloat(t.cost_threshold):null,period_days:["cost_threshold","vehicle_specific"].includes(t.alert_type)?parseInt(t.period_days):null,trend_percentage:t.alert_type==="trend_increase"?parseFloat(t.trend_percentage):null,trend_period_months:t.alert_type==="trend_increase"?parseInt(t.trend_period_months):null,vehicle_plate:!t.vehicle_plate||t.vehicle_plate==="todos"?null:t.vehicle_plate},{error:$}=await L.from("maintenance_cost_alerts").insert([se]);if($)throw $;A({title:"âœ… Alerta Criado",description:"O alerta foi configurado com sucesso"}),x(!1),N(),n()}catch(j){console.error("Error creating alert:",j),A({title:"Erro",description:"NÃ£o foi possÃ­vel criar o alerta",variant:"destructive"})}},N=()=>{g({alert_name:"",alert_type:"cost_threshold",cost_threshold:"",period_days:"30",trend_percentage:"20",trend_period_months:"3",vehicle_plate:"",email_recipients:"",email_enabled:!0,whatsapp_numbers:"",whatsapp_enabled:!1,n8n_webhook_url:"",n8n_enabled:!1})},F=async(r,j)=>{try{const{error:O}=await L.from("maintenance_cost_alerts").update({is_active:!j}).eq("id",r);if(O)throw O;A({title:j?"â¸ï¸ Alerta Desativado":"âœ… Alerta Ativado",description:`O alerta foi ${j?"desativado":"ativado"}`}),n()}catch(O){console.error("Error toggling alert:",O),A({title:"Erro",description:"NÃ£o foi possÃ­vel alterar o status do alerta",variant:"destructive"})}},P=async r=>{if(confirm("Tem certeza que deseja excluir este alerta?"))try{const{error:j}=await L.from("maintenance_cost_alerts").delete().eq("id",r);if(j)throw j;A({title:"ðŸ—‘ï¸ Alerta ExcluÃ­do",description:"O alerta foi removido"}),n()}catch(j){console.error("Error deleting alert:",j),A({title:"Erro",description:"NÃ£o foi possÃ­vel excluir o alerta",variant:"destructive"})}},ee=r=>{switch(r){case"cost_threshold":return e.jsx(We,{className:"h-5 w-5"});case"trend_increase":return e.jsx(ge,{className:"h-5 w-5"});case"vehicle_specific":return e.jsx(ne,{className:"h-5 w-5"});default:return e.jsx(Le,{className:"h-5 w-5"})}},te=r=>{switch(r){case"cost_threshold":return"Limite de Custo";case"trend_increase":return"TendÃªncia de Aumento";case"vehicle_specific":return"VeÃ­culo EspecÃ­fico";default:return r}};return b?e.jsx("div",{"trae-inspector-start-line":"256","trae-inspector-start-column":"11","trae-inspector-end-line":"256","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22256%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22256%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"260","trae-inspector-start-column":"4","trae-inspector-end-line":"573","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"261","trae-inspector-start-column":"6","trae-inspector-end-line":"473","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"262","trae-inspector-start-column":"8","trae-inspector-end-line":"267","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"263","trae-inspector-start-column":"10","trae-inspector-end-line":"263","trae-inspector-end-column":"89","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Configura%C3%A7%C3%A3o%20de%20Alertas%22%2C%22textStartLine%22%3A%22263%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22263%22%2C%22textEndColumn%22%3A%2284%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold text-foreground",children:"ConfiguraÃ§Ã£o de Alertas"}),e.jsx("p",{"trae-inspector-start-line":"264","trae-inspector-start-column":"10","trae-inspector-end-line":"266","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Configure%20alertas%20autom%C3%A1ticos%20por%20e-mail%20para%20custos%20de%20manuten%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22264%22%2C%22textStartColumn%22%3A%2255%22%2C%22textEndLine%22%3A%22266%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Configure alertas automÃ¡ticos por e-mail para custos de manutenÃ§Ã£o"})]}),e.jsxs(Me,{open:c,onOpenChange:x,children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Novo Alerta"]})}),e.jsxs(Pe,{className:"max-w-2xl",children:[e.jsxs(Ie,{children:[e.jsx(Te,{children:"Criar Novo Alerta"}),e.jsx(Ze,{children:"Configure um alerta automÃ¡tico para monitorar custos de manutenÃ§Ã£o"})]}),e.jsxs("form",{"trae-inspector-start-line":"282","trae-inspector-start-column":"12","trae-inspector-end-line":"470","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"283","trae-inspector-start-column":"14","trae-inspector-end-line":"292","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"alert_name",children:"Nome do Alerta"}),e.jsx(v,{id:"alert_name",value:t.alert_name,onChange:r=>g({...t,alert_name:r.target.value}),placeholder:"Ex: Custos Acima de R$ 5.000",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"294","trae-inspector-start-column":"14","trae-inspector-end-line":"309","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"alert_type",children:"Tipo de Alerta"}),e.jsxs(H,{value:t.alert_type,onValueChange:r=>g({...t,alert_type:r}),children:[e.jsx(J,{children:e.jsx(X,{})}),e.jsxs(Q,{children:[e.jsx(y,{value:"cost_threshold",children:"Limite de Custo"}),e.jsx(y,{value:"trend_increase",children:"TendÃªncia de Aumento"}),e.jsx(y,{value:"vehicle_specific",children:"VeÃ­culo EspecÃ­fico"})]})]})]}),t.alert_type==="cost_threshold"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{"trae-inspector-start-line":"313","trae-inspector-start-column":"18","trae-inspector-end-line":"324","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"cost_threshold",children:"Limite de Custo (R$)"}),e.jsx(v,{id:"cost_threshold",type:"number",step:"0.01",value:t.cost_threshold,onChange:r=>g({...t,cost_threshold:r.target.value}),placeholder:"5000.00",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"325","trae-inspector-start-column":"18","trae-inspector-end-line":"334","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"period_days",children:"PerÃ­odo (dias)"}),e.jsx(v,{id:"period_days",type:"number",value:t.period_days,onChange:r=>g({...t,period_days:r.target.value}),required:!0})]})]}),t.alert_type==="trend_increase"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{"trae-inspector-start-line":"340","trae-inspector-start-column":"18","trae-inspector-end-line":"351","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"trend_percentage",children:"Aumento MÃ­nimo (%)"}),e.jsx(v,{id:"trend_percentage",type:"number",step:"0.1",value:t.trend_percentage,onChange:r=>g({...t,trend_percentage:r.target.value}),placeholder:"20",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"352","trae-inspector-start-column":"18","trae-inspector-end-line":"361","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"trend_period_months",children:"PerÃ­odo de AnÃ¡lise (meses)"}),e.jsx(v,{id:"trend_period_months",type:"number",value:t.trend_period_months,onChange:r=>g({...t,trend_period_months:r.target.value}),required:!0})]})]}),(t.alert_type==="vehicle_specific"||t.alert_type==="cost_threshold")&&e.jsxs("div",{"trae-inspector-start-line":"366","trae-inspector-start-column":"16","trae-inspector-end-line":"384","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"vehicle_plate",children:"VeÃ­culo (Opcional)"}),e.jsxs(H,{value:t.vehicle_plate,onValueChange:r=>g({...t,vehicle_plate:r}),children:[e.jsx(J,{children:e.jsx(X,{placeholder:"Todos os veÃ­culos"})}),e.jsxs(Q,{children:[e.jsx(y,{value:"todos",children:"Todos os veÃ­culos"}),l.map(r=>e.jsx(y,{value:r,children:r},r))]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"387","trae-inspector-start-column":"14","trae-inspector-end-line":"399","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"email_recipients",children:"E-mails para NotificaÃ§Ã£o"}),e.jsx(v,{id:"email_recipients",type:"text",value:t.email_recipients,onChange:r=>g({...t,email_recipients:r.target.value}),placeholder:"email1@exemplo.com, email2@exemplo.com"}),e.jsx("p",{"trae-inspector-start-line":"396","trae-inspector-start-column":"16","trae-inspector-end-line":"398","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Separe%20m%C3%BAltiplos%20e-mails%20com%20v%C3%ADrgula%22%2C%22textStartLine%22%3A%22396%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22398%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:"Separe mÃºltiplos e-mails com vÃ­rgula"})]}),e.jsxs("div",{"trae-inspector-start-line":"401","trae-inspector-start-column":"14","trae-inspector-end-line":"408","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(ie,{id:"email_enabled",checked:t.email_enabled,onCheckedChange:r=>g({...t,email_enabled:r})}),e.jsx(D,{htmlFor:"email_enabled",children:"Ativar envio de e-mails"})]}),e.jsxs("div",{"trae-inspector-start-line":"410","trae-inspector-start-column":"14","trae-inspector-end-line":"435","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border-t pt-4",children:[e.jsx("h4",{"trae-inspector-start-line":"411","trae-inspector-start-column":"16","trae-inspector-end-line":"411","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Integra%C3%A7%C3%A3o%20WhatsApp%22%2C%22textStartLine%22%3A%22411%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22411%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium mb-3",children:"IntegraÃ§Ã£o WhatsApp"}),e.jsxs("div",{"trae-inspector-start-line":"412","trae-inspector-start-column":"16","trae-inspector-end-line":"434","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:[e.jsxs("div",{"trae-inspector-start-line":"413","trae-inspector-start-column":"18","trae-inspector-end-line":"425","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"whatsapp_numbers",children:"NÃºmeros WhatsApp (com DDI)"}),e.jsx(v,{id:"whatsapp_numbers",type:"text",value:t.whatsapp_numbers,onChange:r=>g({...t,whatsapp_numbers:r.target.value}),placeholder:"5511999999999, 5511888888888"}),e.jsx("p",{"trae-inspector-start-line":"422","trae-inspector-start-column":"20","trae-inspector-end-line":"424","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Separe%20m%C3%BAltiplos%20n%C3%BAmeros%20com%20v%C3%ADrgula%20(Ex%3A%205511999999999)%22%2C%22textStartLine%22%3A%22422%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22424%22%2C%22textEndColumn%22%3A%2220%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:"Separe mÃºltiplos nÃºmeros com vÃ­rgula (Ex: 5511999999999)"})]}),e.jsxs("div",{"trae-inspector-start-line":"426","trae-inspector-start-column":"18","trae-inspector-end-line":"433","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(ie,{id:"whatsapp_enabled",checked:t.whatsapp_enabled,onCheckedChange:r=>g({...t,whatsapp_enabled:r})}),e.jsx(D,{htmlFor:"whatsapp_enabled",children:"Ativar alertas via WhatsApp"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"437","trae-inspector-start-column":"14","trae-inspector-end-line":"462","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border-t pt-4",children:[e.jsx("h4",{"trae-inspector-start-line":"438","trae-inspector-start-column":"16","trae-inspector-end-line":"438","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Integra%C3%A7%C3%A3o%20n8n%22%2C%22textStartLine%22%3A%22438%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22438%22%2C%22textEndColumn%22%3A%2263%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium mb-3",children:"IntegraÃ§Ã£o n8n"}),e.jsxs("div",{"trae-inspector-start-line":"439","trae-inspector-start-column":"16","trae-inspector-end-line":"461","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:[e.jsxs("div",{"trae-inspector-start-line":"440","trae-inspector-start-column":"18","trae-inspector-end-line":"452","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"n8n_webhook_url",children:"Webhook URL do n8n"}),e.jsx(v,{id:"n8n_webhook_url",type:"url",value:t.n8n_webhook_url,onChange:r=>g({...t,n8n_webhook_url:r.target.value}),placeholder:"https://seu-n8n.com/webhook/xxxxx"}),e.jsx("p",{"trae-inspector-start-line":"449","trae-inspector-start-column":"20","trae-inspector-end-line":"451","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Configure%20um%20workflow%20no%20n8n%20com%20trigger%20Webhook%22%2C%22textStartLine%22%3A%22449%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22451%22%2C%22textEndColumn%22%3A%2220%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:"Configure um workflow no n8n com trigger Webhook"})]}),e.jsxs("div",{"trae-inspector-start-line":"453","trae-inspector-start-column":"18","trae-inspector-end-line":"460","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(ie,{id:"n8n_enabled",checked:t.n8n_enabled,onCheckedChange:r=>g({...t,n8n_enabled:r})}),e.jsx(D,{htmlFor:"n8n_enabled",children:"Ativar integraÃ§Ã£o com n8n"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"464","trae-inspector-start-column":"14","trae-inspector-end-line":"469","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(f,{type:"submit",children:"Criar Alerta"})]})]})]})]})]}),e.jsx("div",{"trae-inspector-start-line":"475","trae-inspector-start-column":"6","trae-inspector-end-line":"572","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:m.length===0?e.jsx(B,{children:e.jsxs(M,{className:"py-8 text-center text-muted-foreground",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"480","trae-inspector-start-column":"14","trae-inspector-end-line":"480","trae-inspector-end-column":"46","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20alerta%20configurado%22%2C%22textStartLine%22%3A%22480%22%2C%22textStartColumn%22%3A%2217%22%2C%22textEndLine%22%3A%22480%22%2C%22textEndColumn%22%3A%2242%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhum alerta configurado"}),e.jsx("p",{"trae-inspector-start-line":"481","trae-inspector-start-column":"14","trae-inspector-end-line":"481","trae-inspector-end-column":"97","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Crie%20seu%20primeiro%20alerta%20para%20come%C3%A7ar%20a%20monitorar%20custos%22%2C%22textStartLine%22%3A%22481%22%2C%22textStartColumn%22%3A%2237%22%2C%22textEndLine%22%3A%22481%22%2C%22textEndColumn%22%3A%2293%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Crie seu primeiro alerta para comeÃ§ar a monitorar custos"})]})}):m.map(r=>e.jsxs(B,{className:r.is_active?"":"opacity-60",children:[e.jsx(q,{children:e.jsxs("div",{"trae-inspector-start-line":"488","trae-inspector-start-column":"16","trae-inspector-end-line":"518","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start",children:[e.jsxs("div",{"trae-inspector-start-line":"489","trae-inspector-start-column":"18","trae-inspector-end-line":"504","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[ee(r.alert_type),e.jsxs("div",{"trae-inspector-start-line":"491","trae-inspector-start-column":"20","trae-inspector-end-line":"503","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(K,{className:"text-lg",children:r.alert_name}),e.jsxs(be,{children:[e.jsx(Z,{variant:"outline",className:"mt-1",children:te(r.alert_type)}),r.vehicle_plate&&e.jsx(Z,{variant:"secondary",className:"mt-1 ml-2",children:r.vehicle_plate})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"505","trae-inspector-start-column":"18","trae-inspector-end-line":"517","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(ie,{checked:r.is_active,onCheckedChange:()=>F(r.id,r.is_active)}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>P(r.id),children:e.jsx(Oe,{className:"h-4 w-4 text-destructive"})})]})]})}),e.jsxs(M,{className:"space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"521","trae-inspector-start-column":"16","trae-inspector-end-line":"551","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4 text-sm",children:[r.cost_threshold&&e.jsxs("div",{"trae-inspector-start-line":"523","trae-inspector-start-column":"20","trae-inspector-end-line":"531","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"524","trae-inspector-start-column":"22","trae-inspector-end-line":"524","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Limite%3A%22%2C%22textStartLine%22%3A%22524%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22524%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Limite:"}),e.jsx("span",{"trae-inspector-start-line":"525","trae-inspector-start-column":"22","trae-inspector-end-line":"530","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"ml-2 font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r.cost_threshold)})]}),r.trend_percentage&&e.jsxs("div",{"trae-inspector-start-line":"534","trae-inspector-start-column":"20","trae-inspector-end-line":"537","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"535","trae-inspector-start-column":"22","trae-inspector-end-line":"535","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Aumento%3A%22%2C%22textStartLine%22%3A%22535%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22535%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Aumento:"}),e.jsxs("span",{"trae-inspector-start-line":"536","trae-inspector-start-column":"22","trae-inspector-end-line":"536","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"ml-2 font-medium",children:["+",r.trend_percentage,"%"]})]}),r.period_days&&e.jsxs("div",{"trae-inspector-start-line":"540","trae-inspector-start-column":"20","trae-inspector-end-line":"543","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"541","trae-inspector-start-column":"22","trae-inspector-end-line":"541","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Per%C3%ADodo%3A%22%2C%22textStartLine%22%3A%22541%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22541%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"PerÃ­odo:"}),e.jsxs("span",{"trae-inspector-start-line":"542","trae-inspector-start-column":"22","trae-inspector-end-line":"542","trae-inspector-end-column":"88","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"ml-2 font-medium",children:[r.period_days," dias"]})]}),r.trend_period_months&&e.jsxs("div",{"trae-inspector-start-line":"546","trae-inspector-start-column":"20","trae-inspector-end-line":"549","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"547","trae-inspector-start-column":"22","trae-inspector-end-line":"547","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22An%C3%A1lise%3A%22%2C%22textStartLine%22%3A%22547%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22547%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"AnÃ¡lise:"}),e.jsxs("span",{"trae-inspector-start-line":"548","trae-inspector-start-column":"22","trae-inspector-end-line":"548","trae-inspector-end-column":"97","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"ml-2 font-medium",children:[r.trend_period_months," meses"]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"552","trae-inspector-start-column":"16","trae-inspector-end-line":"562","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 text-sm pt-2 border-t",children:[e.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{"trae-inspector-start-line":"554","trae-inspector-start-column":"18","trae-inspector-end-line":"556","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[r.email_recipients.length," destinatÃ¡rio(s)"]}),r.trigger_count>0&&e.jsxs(Z,{variant:"secondary",className:"ml-auto",children:[r.trigger_count," disparo(s)"]})]}),r.last_triggered_at&&e.jsxs("p",{"trae-inspector-start-line":"564","trae-inspector-start-column":"18","trae-inspector-end-line":"566","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\CostAlertsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["Ãšltimo disparo: ",new Date(r.last_triggered_at).toLocaleString("pt-BR")]})]})]},r.id))})]})}function xt(){const{user:w}=ve(),{toast:A}=Ee(),[m,u]=d.useState(!0),[b,C]=d.useState(null),[c,x]=d.useState({integration_type:"whatsapp",is_active:!1,config:{apiKey:"",apiUrl:"https://graph.facebook.com/v18.0",phoneNumberId:""}}),[l,o]=d.useState({integration_type:"n8n",is_active:!1,config:{webhookUrl:"",description:""}});d.useEffect(()=>{t()},[]);const t=async()=>{if(w)try{const{data:a,error:N}=await L.from("integration_settings").select("*").eq("user_id",w.id);if(N)throw N;a==null||a.forEach(F=>{const P={id:F.id,integration_type:F.integration_type,is_active:F.is_active,config:F.config};F.integration_type==="whatsapp"?x(P):F.integration_type==="n8n"&&o(P)})}catch(a){console.error("Error loading integrations:",a)}finally{u(!1)}},g=async a=>{if(w)try{const N={user_id:w.id,integration_type:a.integration_type,is_active:a.is_active,config:a.config},{error:F}=await L.from("integration_settings").upsert(N,{onConflict:"user_id,integration_type"});if(F)throw F;A({title:"âœ… ConfiguraÃ§Ã£o Salva",description:`IntegraÃ§Ã£o ${a.integration_type==="whatsapp"?"WhatsApp":"n8n"} atualizada com sucesso`}),t()}catch(N){console.error("Error saving integration:",N),A({title:"Erro",description:"NÃ£o foi possÃ­vel salvar a configuraÃ§Ã£o",variant:"destructive"})}},n=async()=>{C("whatsapp");try{const{error:a}=await L.functions.invoke("send-whatsapp-alert",{body:{alertType:"cost_threshold",currentValue:5e3,threshold:3e3,period:"Teste de IntegraÃ§Ã£o",phoneNumbers:[c.config.testPhoneNumber||""],whatsappApiKey:c.config.apiKey,whatsappApiUrl:c.config.apiUrl}});if(a)throw a;A({title:"âœ… Teste Enviado",description:"Mensagem de teste enviada via WhatsApp"})}catch(a){console.error("Error testing WhatsApp:",a),A({title:"Erro no Teste",description:a.message||"NÃ£o foi possÃ­vel enviar a mensagem de teste",variant:"destructive"})}finally{C(null)}},s=async()=>{C("n8n");try{const{error:a}=await L.functions.invoke("trigger-n8n-workflow",{body:{webhookUrl:l.config.webhookUrl,alertData:{alertType:"cost_threshold",alertName:"Teste de IntegraÃ§Ã£o",currentValue:5e3,threshold:3e3,period:"Teste",timestamp:new Date().toISOString()}}});if(a)throw a;A({title:"âœ… Workflow Disparado",description:"Workflow n8n acionado com sucesso"})}catch(a){console.error("Error testing n8n:",a),A({title:"Erro no Teste",description:a.message||"NÃ£o foi possÃ­vel disparar o workflow",variant:"destructive"})}finally{C(null)}};return m?e.jsx("div",{"trae-inspector-start-line":"189","trae-inspector-start-column":"11","trae-inspector-end-line":"189","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20configura%C3%A7%C3%B5es...%22%2C%22textStartLine%22%3A%22189%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22189%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando configuraÃ§Ãµes..."}):e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"4","trae-inspector-end-line":"488","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"6","trae-inspector-end-line":"199","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"195","trae-inspector-start-column":"8","trae-inspector-end-line":"195","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Integra%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22195%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22195%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold text-foreground",children:"IntegraÃ§Ãµes"}),e.jsx("p",{"trae-inspector-start-line":"196","trae-inspector-start-column":"8","trae-inspector-end-line":"198","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Configure%20integra%C3%A7%C3%B5es%20para%20enviar%20alertas%20via%20m%C3%BAltiplos%20canais%22%2C%22textStartLine%22%3A%22196%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22198%22%2C%22textEndColumn%22%3A%228%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Configure integraÃ§Ãµes para enviar alertas via mÃºltiplos canais"})]}),e.jsxs(je,{defaultValue:"whatsapp",className:"space-y-6",children:[e.jsxs(De,{className:"grid w-full grid-cols-2",children:[e.jsxs(R,{value:"whatsapp",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"WhatsApp Business"]}),e.jsxs(R,{value:"n8n",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"n8n Workflows"]})]}),e.jsx(V,{value:"whatsapp",children:e.jsxs(B,{children:[e.jsx(q,{children:e.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"14","trae-inspector-end-line":"243","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"218","trae-inspector-start-column":"16","trae-inspector-end-line":"226","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),"WhatsApp Business API"]}),e.jsx(be,{children:"Envie alertas automÃ¡ticos via WhatsApp para sua equipe"})]}),e.jsxs("div",{"trae-inspector-start-line":"227","trae-inspector-start-column":"16","trae-inspector-end-line":"242","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[c.is_active&&e.jsxs(Z,{variant:"default",className:"gap-1",children:[e.jsx(ce,{className:"h-3 w-3"}),"Ativo"]}),e.jsx(ie,{checked:c.is_active,onCheckedChange:a=>{const N={...c,is_active:a};x(N),g(N)}})]})]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs(Ae,{children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsxs(we,{children:["Para usar a WhatsApp Business API, vocÃª precisa ter uma conta no"," ",e.jsx("a",{"trae-inspector-start-line":"250","trae-inspector-start-column":"18","trae-inspector-end-line":"257","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Meta%20Business%22%2C%22textStartLine%22%3A%22255%22%2C%22textStartColumn%22%3A%2219%22%2C%22textEndLine%22%3A%22257%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",href:"https://business.facebook.com/",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"Meta Business"})," ","e configurar o WhatsApp Business API."]})]}),e.jsxs("div",{"trae-inspector-start-line":"262","trae-inspector-start-column":"14","trae-inspector-end-line":"349","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"16","trae-inspector-end-line":"280","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"whatsapp_api_key",children:"WhatsApp API Token"}),e.jsx(v,{id:"whatsapp_api_key",type:"password",value:c.config.apiKey||"",onChange:a=>x({...c,config:{...c.config,apiKey:a.target.value}}),placeholder:"EAAxxxxxxxxxxxx..."}),e.jsx("p",{"trae-inspector-start-line":"277","trae-inspector-start-column":"18","trae-inspector-end-line":"279","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Token%20de%20acesso%20permanente%20da%20Meta%20Business%22%2C%22textStartLine%22%3A%22277%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22279%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:"Token de acesso permanente da Meta Business"})]}),e.jsxs("div",{"trae-inspector-start-line":"282","trae-inspector-start-column":"16","trae-inspector-end-line":"298","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"phone_number_id",children:"Phone Number ID"}),e.jsx(v,{id:"phone_number_id",value:c.config.phoneNumberId||"",onChange:a=>x({...c,config:{...c.config,phoneNumberId:a.target.value}}),placeholder:"123456789012345"}),e.jsx("p",{"trae-inspector-start-line":"295","trae-inspector-start-column":"18","trae-inspector-end-line":"297","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22ID%20do%20n%C3%BAmero%20de%20telefone%20do%20WhatsApp%20Business%22%2C%22textStartLine%22%3A%22295%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22297%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:"ID do nÃºmero de telefone do WhatsApp Business"})]}),e.jsxs("div",{"trae-inspector-start-line":"300","trae-inspector-start-column":"16","trae-inspector-end-line":"313","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"whatsapp_api_url",children:"API URL (Opcional)"}),e.jsx(v,{id:"whatsapp_api_url",value:c.config.apiUrl||"",onChange:a=>x({...c,config:{...c.config,apiUrl:a.target.value}}),placeholder:"https://graph.facebook.com/v18.0"})]}),e.jsxs("div",{"trae-inspector-start-line":"315","trae-inspector-start-column":"16","trae-inspector-end-line":"331","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"test_phone",children:"NÃºmero para Teste (com DDI)"}),e.jsx(v,{id:"test_phone",value:c.config.testPhoneNumber||"",onChange:a=>x({...c,config:{...c.config,testPhoneNumber:a.target.value}}),placeholder:"5511999999999"}),e.jsx("p",{"trae-inspector-start-line":"328","trae-inspector-start-column":"18","trae-inspector-end-line":"330","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ex%3A%205511999999999%20(c%C3%B3digo%20do%20pa%C3%ADs%20%2B%20DDD%20%2B%20n%C3%BAmero)%22%2C%22textStartLine%22%3A%22328%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22330%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:"Ex: 5511999999999 (cÃ³digo do paÃ­s + DDD + nÃºmero)"})]}),e.jsxs("div",{"trae-inspector-start-line":"333","trae-inspector-start-column":"16","trae-inspector-end-line":"348","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(f,{onClick:()=>g(c),className:"flex-1",children:"Salvar ConfiguraÃ§Ã£o"}),e.jsx(f,{onClick:n,variant:"outline",disabled:!c.config.apiKey||!c.config.testPhoneNumber||b==="whatsapp",children:b==="whatsapp"?"Enviando...":"Testar IntegraÃ§Ã£o"})]})]})]})]})}),e.jsx(V,{value:"n8n",children:e.jsxs(B,{children:[e.jsx(q,{children:e.jsxs("div",{"trae-inspector-start-line":"358","trae-inspector-start-column":"14","trae-inspector-end-line":"384","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"359","trae-inspector-start-column":"16","trae-inspector-end-line":"367","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5"}),"n8n Workflow Automation"]}),e.jsx(be,{children:"Conecte alertas a workflows personalizados no n8n"})]}),e.jsxs("div",{"trae-inspector-start-line":"368","trae-inspector-start-column":"16","trae-inspector-end-line":"383","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[l.is_active&&e.jsxs(Z,{variant:"default",className:"gap-1",children:[e.jsx(ce,{className:"h-3 w-3"}),"Ativo"]}),e.jsx(ie,{checked:l.is_active,onCheckedChange:a=>{const N={...l,is_active:a};o(N),g(N)}})]})]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs(Ae,{children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsxs(we,{children:["Crie workflows personalizados no"," ",e.jsx("a",{"trae-inspector-start-line":"391","trae-inspector-start-column":"18","trae-inspector-end-line":"398","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22n8n%22%2C%22textStartLine%22%3A%22396%22%2C%22textStartColumn%22%3A%2219%22%2C%22textEndLine%22%3A%22398%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",href:"https://n8n.io",target:"_blank",rel:"noopener noreferrer",className:"font-medium underline",children:"n8n"})," ",'para processar alertas de custo. Configure um trigger "Webhook" e cole a URL aqui.']})]}),e.jsxs("div",{"trae-inspector-start-line":"403","trae-inspector-start-column":"14","trae-inspector-end-line":"470","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"404","trae-inspector-start-column":"16","trae-inspector-end-line":"420","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"n8n_webhook_url",children:"Webhook URL do n8n"}),e.jsx(v,{id:"n8n_webhook_url",value:l.config.webhookUrl||"",onChange:a=>o({...l,config:{...l.config,webhookUrl:a.target.value}}),placeholder:"https://seu-n8n.com/webhook/xxxxx"}),e.jsx("p",{"trae-inspector-start-line":"417","trae-inspector-start-column":"18","trae-inspector-end-line":"419","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22URL%20do%20webhook%20gerada%20pelo%20n8n%20workflow%22%2C%22textStartLine%22%3A%22417%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22419%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1",children:"URL do webhook gerada pelo n8n workflow"})]}),e.jsxs("div",{"trae-inspector-start-line":"422","trae-inspector-start-column":"16","trae-inspector-end-line":"435","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(D,{htmlFor:"n8n_description",children:"DescriÃ§Ã£o do Workflow"}),e.jsx(v,{id:"n8n_description",value:l.config.description||"",onChange:a=>o({...l,config:{...l.config,description:a.target.value}}),placeholder:"Ex: Enviar para Slack e criar ticket no Jira"})]}),e.jsxs("div",{"trae-inspector-start-line":"437","trae-inspector-start-column":"16","trae-inspector-end-line":"456","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"bg-muted p-4 rounded-lg",children:[e.jsxs("h4",{"trae-inspector-start-line":"438","trae-inspector-start-column":"18","trae-inspector-end-line":"441","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),"Estrutura do Payload"]}),e.jsx("pre",{"trae-inspector-start-line":"442","trae-inspector-start-column":"18","trae-inspector-end-line":"455","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs bg-background p-2 rounded overflow-x-auto",children:`{
  "source": "ejg_fleet_management",
  "module": "maintenance_cost_alerts",
  "timestamp": "2024-01-15T10:30:00Z",
  "alert": {
    "type": "cost_threshold",
    "vehicle_plate": "ABC-1234",
    "current_value": 5000,
    "threshold": 3000,
    "period": "Ãšltimos 30 dias"
  }
}`})]}),e.jsxs("div",{"trae-inspector-start-line":"458","trae-inspector-start-column":"16","trae-inspector-end-line":"469","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(f,{onClick:()=>g(l),className:"flex-1",children:"Salvar ConfiguraÃ§Ã£o"}),e.jsx(f,{onClick:s,variant:"outline",disabled:!l.config.webhookUrl||b==="n8n",children:b==="n8n"?"Testando...":"Testar Webhook"})]})]}),e.jsx(Ae,{children:e.jsxs(we,{className:"text-sm",children:[e.jsx("strong",{"trae-inspector-start-line":"474","trae-inspector-start-column":"18","trae-inspector-end-line":"474","trae-inspector-end-column":"40","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Dica%3A%22%2C%22textStartLine%22%3A%22474%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22474%22%2C%22textEndColumn%22%3A%2231%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Dica:"})," No n8n, vocÃª pode criar workflows para:",e.jsxs("ul",{"trae-inspector-start-line":"475","trae-inspector-start-column":"18","trae-inspector-end-line":"481","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{"trae-inspector-start-line":"476","trae-inspector-start-column":"20","trae-inspector-end-line":"476","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Enviar%20mensagens%20para%20Slack%20ou%20Microsoft%20Teams%22%2C%22textStartLine%22%3A%22476%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22476%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Enviar mensagens para Slack ou Microsoft Teams"}),e.jsx("li",{"trae-inspector-start-line":"477","trae-inspector-start-column":"20","trae-inspector-end-line":"477","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Criar%20tickets%20automaticamente%20no%20Jira%20ou%20Trello%22%2C%22textStartLine%22%3A%22477%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22477%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Criar tickets automaticamente no Jira ou Trello"}),e.jsx("li",{"trae-inspector-start-line":"478","trae-inspector-start-column":"20","trae-inspector-end-line":"478","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Enviar%20notifica%C3%A7%C3%B5es%20para%20Discord%20ou%20Telegram%22%2C%22textStartLine%22%3A%22478%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22478%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Enviar notificaÃ§Ãµes para Discord ou Telegram"}),e.jsx("li",{"trae-inspector-start-line":"479","trae-inspector-start-column":"20","trae-inspector-end-line":"479","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Registrar%20eventos%20em%20Google%20Sheets%20ou%20Airtable%22%2C%22textStartLine%22%3A%22479%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22479%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Registrar eventos em Google Sheets ou Airtable"}),e.jsx("li",{"trae-inspector-start-line":"480","trae-inspector-start-column":"20","trae-inspector-end-line":"480","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\IntegrationsConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Disparar%20a%C3%A7%C3%B5es%20em%20outros%20sistemas%20(ERP%2C%20CRM%2C%20etc.)%22%2C%22textStartLine%22%3A%22480%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22480%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Disparar aÃ§Ãµes em outros sistemas (ERP, CRM, etc.)"})]})]})})]})]})})]})]})}const Ue=["#10b981","#f59e0b","#ef4444","#3b82f6","#8b5cf6"],vt=()=>{const[w,A]=d.useState(!0),[m,u]=d.useState("6m"),[b,C]=d.useState("all"),[c,x]=d.useState([]),[l,o]=d.useState([]),[t,g]=d.useState({totalSpent:0,avgMonthly:0,predictedNext:0,savingsPotential:0}),[n,s]=d.useState([]);Ke(),d.useEffect(()=>{a()},[m,b]);const a=async()=>{try{A(!0);const i=m==="3m"?3:m==="6m"?6:12,p=new Date;p.setMonth(p.getMonth()-i);const{data:h,error:S}=await L.from("service_orders").select("*").gte("created_at",p.toISOString()).order("created_at",{ascending:!0});if(S)throw S;const _=new Map;h==null||h.forEach(E=>{if(b==="all"||E.vehicle_plate===b){const k=_.get(E.vehicle_plate)||[];_.set(E.vehicle_plate,[...k,E])}});const I=N(h||[],i);x(I);const W=Array.from(_.entries()).map(([E,k])=>F(E,k));o(W.sort((E,k)=>k.totalCost-E.totalCost));const z=W.reduce((E,k)=>E+k.totalCost,0),G=z/i,Y=W.reduce((E,k)=>E+k.predictedNextMonthCost,0),re=O(W);g({totalSpent:z,avgMonthly:G,predictedNext:Y,savingsPotential:re}),s([{name:"MÃ£o de Obra",value:ee(h||[])},{name:"PeÃ§as",value:te(h||[])},{name:"Preventiva",value:r(h||[])},{name:"Corretiva",value:j(h||[])}])}catch(i){console.error("Erro ao carregar anÃ¡lise de custos:",i),ue.error("Erro ao carregar anÃ¡lise de custos")}finally{A(!1)}},N=(i,p)=>{const h=[],S=new Date;for(let _=p-1;_>=0;_--){const I=new Date(S);I.setMonth(I.getMonth()-_);const W=new Date(I.getFullYear(),I.getMonth(),1),z=new Date(I.getFullYear(),I.getMonth()+1,0),G=i.filter(U=>{const T=new Date(U.created_at);return T>=W&&T<=z}),Y=G.reduce((U,T)=>U+P(T),0),re=G.filter(U=>U.priority==="baixa").reduce((U,T)=>U+P(T),0),E=Y-re,k=h.length>=2?(h[h.length-1].actual+h[h.length-2].actual)/2:Y*1.1;h.push({month:I.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),actual:Y,predicted:Math.round(k),preventive:re,corrective:E})}return h},F=(i,p)=>{const h=p.reduce((U,T)=>U+P(T),0),S=p.length>0?h/p.length:0,_=p.slice(-3).map(U=>P(U)),I=p.slice(0,-3).map(U=>P(U)),W=_.reduce((U,T)=>U+T,0)/_.length,z=I.reduce((U,T)=>U+T,0)/(I.length||1);let G="stable";W>z*1.15?G="increasing":W<z*.85&&(G="decreasing");const Y=W*1.1,re=p.filter(U=>U.priority==="baixa").length,E=p.length>0?re/p.length*100:0,k=[];return G==="increasing"&&k.push("ðŸ“ˆ Custos em alta - Avaliar necessidade de manutenÃ§Ã£o preventiva"),E<50&&k.push("âš ï¸ Baixa taxa de preventivas - Implementar plano de manutenÃ§Ã£o"),S>2e3&&k.push("ðŸ’° Custo mÃ©dio alto - Considerar revisÃ£o de fornecedores"),p.length>10&&k.push("ðŸ”§ Alta frequÃªncia de manutenÃ§Ãµes - Avaliar condiÃ§Ã£o do veÃ­culo"),{plate:i,totalCost:h,avgCostPerService:S,predictedNextMonthCost:Y,costTrend:G,efficiency:E,recommendations:k}},P=i=>{let p=0;return p+=(i.labor_hours||0)*80,i.parts_used&&Array.isArray(i.parts_used)&&(p+=i.parts_used.reduce((h,S)=>h+(S.quantity||0)*(S.unit_price||0),0)),p},ee=i=>i.reduce((p,h)=>p+(h.labor_hours||0)*80,0),te=i=>i.reduce((p,h)=>h.parts_used&&Array.isArray(h.parts_used)?p+h.parts_used.reduce((S,_)=>S+(_.quantity||0)*(_.unit_price||0),0):p,0),r=i=>i.filter(p=>p.priority==="baixa").reduce((p,h)=>p+P(h),0),j=i=>i.filter(p=>p.priority!=="baixa").reduce((p,h)=>p+P(h),0),O=i=>i.reduce((p,h)=>{if(h.efficiency<70){const S=h.totalCost*.2;return p+S}return p},0),se=()=>{const i=[["VeÃ­culo","Custo Total","Custo MÃ©dio","PrevisÃ£o PrÃ³ximo MÃªs","TendÃªncia","EficiÃªncia"],...l.map(_=>[_.plate,_.totalCost.toFixed(2),_.avgCostPerService.toFixed(2),_.predictedNextMonthCost.toFixed(2),_.costTrend,_.efficiency.toFixed(1)+"%"])].map(_=>_.join(",")).join(`
`),p=new Blob([i],{type:"text/csv"}),h=window.URL.createObjectURL(p),S=document.createElement("a");S.href=h,S.download=`analise-custos-${new Date().toISOString().split("T")[0]}.csv`,S.click(),ue.success("RelatÃ³rio exportado com sucesso!")},$=i=>i==="increasing"?e.jsx(ge,{className:"h-4 w-4 text-destructive"}):i==="decreasing"?e.jsx(it,{className:"h-4 w-4 text-green-600"}):e.jsx("span",{"trae-inspector-start-line":"284","trae-inspector-start-column":"11","trae-inspector-end-line":"284","trae-inspector-end-column":"45","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%86%92%22%2C%22textStartLine%22%3A%22284%22%2C%22textStartColumn%22%3A%2237%22%2C%22textEndLine%22%3A%22284%22%2C%22textEndColumn%22%3A%2238%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"h-4 w-4",children:"â†’"});return w?e.jsx("div",{"trae-inspector-start-line":"288","trae-inspector-start-column":"11","trae-inspector-end-line":"288","trae-inspector-end-column":"82","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20an%C3%A1lise%20de%20custos...%22%2C%22textStartLine%22%3A%22288%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22288%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando anÃ¡lise de custos..."}):e.jsxs("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"4","trae-inspector-end-line":"590","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"294","trae-inspector-start-column":"6","trae-inspector-end-line":"317","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"295","trae-inspector-start-column":"8","trae-inspector-end-line":"300","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"296","trae-inspector-start-column":"10","trae-inspector-end-line":"296","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22An%C3%A1lise%20Preditiva%20de%20Custos%22%2C%22textStartLine%22%3A%22296%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22296%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"AnÃ¡lise Preditiva de Custos"}),e.jsx("p",{"trae-inspector-start-line":"297","trae-inspector-start-column":"10","trae-inspector-end-line":"299","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Previs%C3%B5es%20e%20tend%C3%AAncias%20de%20gastos%20com%20manuten%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22297%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22299%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"PrevisÃµes e tendÃªncias de gastos com manutenÃ§Ã£o"})]}),e.jsxs("div",{"trae-inspector-start-line":"301","trae-inspector-start-column":"8","trae-inspector-end-line":"316","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs(H,{value:m,onValueChange:i=>u(i),children:[e.jsx(J,{className:"w-32",children:e.jsx(X,{})}),e.jsxs(Q,{children:[e.jsx(y,{value:"3m",children:"3 meses"}),e.jsx(y,{value:"6m",children:"6 meses"}),e.jsx(y,{value:"12m",children:"12 meses"})]})]}),e.jsxs(f,{onClick:se,variant:"outline",className:"gap-2",children:[e.jsx(Je,{className:"h-4 w-4"}),"Exportar"]})]})]}),e.jsxs(je,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(De,{children:[e.jsx(R,{value:"overview",children:"VisÃ£o Geral"}),e.jsx(R,{value:"vehicles",children:"Por VeÃ­culo"}),e.jsxs(R,{value:"alerts",children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Alertas"]}),e.jsxs(R,{value:"integrations",children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"IntegraÃ§Ãµes"]})]}),e.jsxs(V,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"336","trae-inspector-start-column":"6","trae-inspector-end-line":"392","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(B,{children:e.jsx(M,{className:"pt-6",children:e.jsxs("div",{"trae-inspector-start-line":"339","trae-inspector-start-column":"12","trae-inspector-end-line":"347","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"340","trae-inspector-start-column":"14","trae-inspector-end-line":"345","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"341","trae-inspector-start-column":"16","trae-inspector-end-line":"341","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gasto%20Total%22%2C%22textStartLine%22%3A%22341%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22341%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Gasto Total"}),e.jsxs("p",{"trae-inspector-start-line":"342","trae-inspector-start-column":"16","trae-inspector-end-line":"344","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:["R$ ",t.totalSpent.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx(We,{className:"h-8 w-8 text-primary"})]})})}),e.jsx(B,{children:e.jsx(M,{className:"pt-6",children:e.jsxs("div",{"trae-inspector-start-line":"353","trae-inspector-start-column":"12","trae-inspector-end-line":"361","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"354","trae-inspector-start-column":"14","trae-inspector-end-line":"359","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"355","trae-inspector-start-column":"16","trae-inspector-end-line":"355","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22M%C3%A9dia%20Mensal%22%2C%22textStartLine%22%3A%22355%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22355%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"MÃ©dia Mensal"}),e.jsxs("p",{"trae-inspector-start-line":"356","trae-inspector-start-column":"16","trae-inspector-end-line":"358","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:["R$ ",t.avgMonthly.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx(Qe,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(B,{children:e.jsx(M,{className:"pt-6",children:e.jsxs("div",{"trae-inspector-start-line":"367","trae-inspector-start-column":"12","trae-inspector-end-line":"375","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"368","trae-inspector-start-column":"14","trae-inspector-end-line":"373","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"369","trae-inspector-start-column":"16","trae-inspector-end-line":"369","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Previs%C3%A3o%20Pr%C3%B3ximo%20M%C3%AAs%22%2C%22textStartLine%22%3A%22369%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22369%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"PrevisÃ£o PrÃ³ximo MÃªs"}),e.jsxs("p",{"trae-inspector-start-line":"370","trae-inspector-start-column":"16","trae-inspector-end-line":"372","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold text-yellow-600",children:["R$ ",t.predictedNext.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx(ge,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(B,{children:e.jsx(M,{className:"pt-6",children:e.jsxs("div",{"trae-inspector-start-line":"381","trae-inspector-start-column":"12","trae-inspector-end-line":"389","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"382","trae-inspector-start-column":"14","trae-inspector-end-line":"387","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"383","trae-inspector-start-column":"16","trae-inspector-end-line":"383","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Economia%20Potencial%22%2C%22textStartLine%22%3A%22383%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22383%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Economia Potencial"}),e.jsxs("p",{"trae-inspector-start-line":"384","trae-inspector-start-column":"16","trae-inspector-end-line":"386","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold text-green-600",children:["R$ ",t.savingsPotential.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx(Le,{className:"h-8 w-8 text-green-600"})]})})})]}),e.jsxs("div",{"trae-inspector-start-line":"395","trae-inspector-start-column":"6","trae-inspector-end-line":"481","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(B,{children:[e.jsx(q,{children:e.jsx(K,{children:"TendÃªncia de Custos"})}),e.jsx(M,{children:e.jsx(de,{width:"100%",height:300,children:e.jsxs(et,{data:c,children:[e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(le,{dataKey:"month"}),e.jsx(Ce,{}),e.jsx(he,{formatter:i=>`R$ ${Number(i).toLocaleString("pt-BR")}`}),e.jsx(Ne,{}),e.jsx(_e,{type:"monotone",dataKey:"actual",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Real"}),e.jsx(_e,{type:"monotone",dataKey:"predicted",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3,name:"Previsto"})]})})})]}),e.jsxs(B,{children:[e.jsx(q,{children:e.jsx(K,{children:"DistribuiÃ§Ã£o de Custos"})}),e.jsx(M,{children:e.jsx(de,{width:"100%",height:300,children:e.jsxs(tt,{children:[e.jsx(st,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:p})=>`${i}: ${(p*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((i,p)=>e.jsx(rt,{fill:Ue[p%Ue.length]},`cell-${p}`))}),e.jsx(he,{formatter:i=>`R$ ${Number(i).toLocaleString("pt-BR")}`})]})})})]}),e.jsxs(B,{children:[e.jsx(q,{children:e.jsx(K,{children:"Preventiva vs Corretiva"})}),e.jsx(M,{children:e.jsx(de,{width:"100%",height:300,children:e.jsxs(xe,{data:c,children:[e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(le,{dataKey:"month"}),e.jsx(Ce,{}),e.jsx(he,{formatter:i=>`R$ ${Number(i).toLocaleString("pt-BR")}`}),e.jsx(Ne,{}),e.jsx(pe,{dataKey:"preventive",fill:"#10b981",name:"Preventiva"}),e.jsx(pe,{dataKey:"corrective",fill:"#ef4444",name:"Corretiva"})]})})})]}),e.jsxs(B,{children:[e.jsx(q,{children:e.jsx(K,{children:"Maiores Custos por VeÃ­culo"})}),e.jsx(M,{children:e.jsx(de,{width:"100%",height:300,children:e.jsxs(xe,{data:l.slice(0,5),layout:"vertical",children:[e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(le,{type:"number"}),e.jsx(Ce,{dataKey:"plate",type:"category",width:80}),e.jsx(he,{formatter:i=>`R$ ${Number(i).toLocaleString("pt-BR")}`}),e.jsx(pe,{dataKey:"totalCost",fill:"#8b5cf6",name:"Custo Total"})]})})})]})]}),e.jsxs(B,{children:[e.jsx(q,{children:e.jsx(K,{children:"AnÃ¡lise Detalhada por VeÃ­culo"})}),e.jsx(M,{children:e.jsx("div",{"trae-inspector-start-line":"489","trae-inspector-start-column":"10","trae-inspector-end-line":"541","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:l.map(i=>e.jsxs("div",{"trae-inspector-start-line":"491","trae-inspector-start-column":"14","trae-inspector-end-line":"539","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 border rounded-lg space-y-3",children:[e.jsxs("div",{"trae-inspector-start-line":"492","trae-inspector-start-column":"16","trae-inspector-end-line":"506","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"493","trae-inspector-start-column":"18","trae-inspector-end-line":"499","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsx("h3",{"trae-inspector-start-line":"494","trae-inspector-start-column":"20","trae-inspector-end-line":"494","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:i.plate}),$(i.costTrend),e.jsxs(Z,{variant:i.efficiency>=70?"default":"destructive",children:[i.efficiency.toFixed(1),"% EficiÃªncia"]})]}),e.jsxs("div",{"trae-inspector-start-line":"500","trae-inspector-start-column":"18","trae-inspector-end-line":"505","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-right",children:[e.jsx("p",{"trae-inspector-start-line":"501","trae-inspector-start-column":"20","trae-inspector-end-line":"501","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Custo%20Total%22%2C%22textStartLine%22%3A%22501%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22501%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Custo Total"}),e.jsxs("p",{"trae-inspector-start-line":"502","trae-inspector-start-column":"20","trae-inspector-end-line":"504","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xl font-bold",children:["R$ ",i.totalCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"508","trae-inspector-start-column":"16","trae-inspector-end-line":"525","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"509","trae-inspector-start-column":"18","trae-inspector-end-line":"514","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"510","trae-inspector-start-column":"20","trae-inspector-end-line":"510","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Custo%20M%C3%A9dio%2FServi%C3%A7o%22%2C%22textStartLine%22%3A%22510%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22510%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Custo MÃ©dio/ServiÃ§o"}),e.jsxs("p",{"trae-inspector-start-line":"511","trae-inspector-start-column":"20","trae-inspector-end-line":"513","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:["R$ ",i.avgCostPerService.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{"trae-inspector-start-line":"515","trae-inspector-start-column":"18","trae-inspector-end-line":"520","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"516","trae-inspector-start-column":"20","trae-inspector-end-line":"516","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Previs%C3%A3o%20Pr%C3%B3ximo%20M%C3%AAs%22%2C%22textStartLine%22%3A%22516%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22516%22%2C%22textEndColumn%22%3A%2277%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"PrevisÃ£o PrÃ³ximo MÃªs"}),e.jsxs("p",{"trae-inspector-start-line":"517","trae-inspector-start-column":"20","trae-inspector-end-line":"519","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-yellow-600",children:["R$ ",i.predictedNextMonthCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{"trae-inspector-start-line":"521","trae-inspector-start-column":"18","trae-inspector-end-line":"524","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"522","trae-inspector-start-column":"20","trae-inspector-end-line":"522","trae-inspector-end-column":"70","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tend%C3%AAncia%22%2C%22textStartLine%22%3A%22522%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22522%22%2C%22textEndColumn%22%3A%2266%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"TendÃªncia"}),e.jsx("p",{"trae-inspector-start-line":"523","trae-inspector-start-column":"20","trae-inspector-end-line":"523","trae-inspector-end-column":"179","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold capitalize",children:i.costTrend==="increasing"?"Crescente":i.costTrend==="decreasing"?"Decrescente":"EstÃ¡vel"})]})]}),i.recommendations.length>0&&e.jsxs("div",{"trae-inspector-start-line":"528","trae-inspector-start-column":"18","trae-inspector-end-line":"537","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"pt-3 border-t",children:[e.jsx("p",{"trae-inspector-start-line":"529","trae-inspector-start-column":"20","trae-inspector-end-line":"529","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Recomenda%C3%A7%C3%B5es%3A%22%2C%22textStartLine%22%3A%22529%22%2C%22textStartColumn%22%3A%2260%22%2C%22textEndLine%22%3A%22529%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-medium mb-2",children:"RecomendaÃ§Ãµes:"}),e.jsx("ul",{"trae-inspector-start-line":"530","trae-inspector-start-column":"20","trae-inspector-end-line":"536","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:i.recommendations.map((p,h)=>e.jsx("li",{"trae-inspector-start-line":"532","trae-inspector-start-column":"24","trae-inspector-end-line":"534","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:p},h))})]})]},i.plate))})})]})]}),e.jsx(V,{value:"vehicles",className:"space-y-6",children:e.jsxs(B,{children:[e.jsx(q,{children:e.jsx(K,{children:"Ranking de Custos por VeÃ­culo"})}),e.jsx(M,{children:e.jsx("div",{"trae-inspector-start-line":"552","trae-inspector-start-column":"14","trae-inspector-end-line":"577","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:l.map((i,p)=>e.jsxs("div",{"trae-inspector-start-line":"554","trae-inspector-start-column":"18","trae-inspector-end-line":"575","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"555","trae-inspector-start-column":"20","trae-inspector-end-line":"557","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold",children:p+1}),e.jsxs("div",{"trae-inspector-start-line":"558","trae-inspector-start-column":"20","trae-inspector-end-line":"574","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"559","trae-inspector-start-column":"22","trae-inspector-end-line":"564","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between mb-1",children:[e.jsx("span",{"trae-inspector-start-line":"560","trae-inspector-start-column":"24","trae-inspector-end-line":"560","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:i.plate}),e.jsxs("span",{"trae-inspector-start-line":"561","trae-inspector-start-column":"24","trae-inspector-end-line":"563","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-bold",children:["R$ ",i.totalCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{"trae-inspector-start-line":"565","trae-inspector-start-column":"22","trae-inspector-end-line":"573","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx("div",{"trae-inspector-start-line":"566","trae-inspector-start-column":"24","trae-inspector-end-line":"571","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{"trae-inspector-start-line":"567","trae-inspector-start-column":"26","trae-inspector-end-line":"570","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceCostAnalysis.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"h-full bg-primary",style:{width:`${i.totalCost/Math.max(...l.map(h=>h.totalCost))*100}%`}})}),$(i.costTrend)]})]})]},i.plate))})})]})}),e.jsx(V,{value:"alerts",className:"space-y-6",children:e.jsx(gt,{})}),e.jsx(V,{value:"integrations",className:"space-y-6",children:e.jsx(xt,{})})]})]})};function At(){const{user:w}=ve(),[A,m]=d.useState([]),[u,b]=d.useState({module:"fleet",type:"maintenance",priority:"medium"}),[C,c]=d.useState({}),x=d.useMemo(()=>A.filter(s=>s.status!=="completed"&&s.due_date&&new Date(s.due_date)<new Date),[A]),l=async()=>{const{data:s}=await L.from("process_actions").select("*").order("due_date",{ascending:!0}).limit(100);m(s||[])};d.useEffect(()=>{l()},[]);const o=async()=>{const s={...u,title:u.title||"AÃ§Ã£o",created_by:w==null?void 0:w.id},{error:a}=await L.from("process_actions").insert(s);a||(b({module:"fleet",type:"maintenance",priority:"medium"}),l())},t=async s=>{if(!w)return;const{error:a}=await L.from("process_actions").update({authorized_by:w.id}).eq("id",s);a||l()},g=async s=>{const{error:a}=await L.from("process_actions").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",s);a||l()},n=async()=>{const s=ke({failureRisk:.8,costTrend:"increasing"});for(const a of s){const N={module:"fleet",type:"prescriptive",title:a,description:"Gerado por anÃ¡lise preditiva",priority:"high",due_date:new Date(Date.now()+6048e5).toISOString(),vehicle_plate:u.vehicle_plate||null,created_by:w==null?void 0:w.id};await L.from("process_actions").insert(N)}l()};return e.jsxs(B,{className:"p-4",children:[e.jsxs("div",{"trae-inspector-start-line":"55","trae-inspector-start-column":"6","trae-inspector-end-line":"55","trae-inspector-end-column":"296","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{"trae-inspector-start-line":"55","trae-inspector-start-column":"62","trae-inspector-end-line":"55","trae-inspector-end-column":"114","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22A%C3%A7%C3%B5es%20de%20Processo%22%2C%22textStartLine%22%3A%2255%22%2C%22textStartColumn%22%3A%2292%22%2C%22textEndLine%22%3A%2255%22%2C%22textEndColumn%22%3A%22109%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"AÃ§Ãµes de Processo"}),e.jsxs("div",{"trae-inspector-start-line":"55","trae-inspector-start-column":"114","trae-inspector-end-line":"55","trae-inspector-end-column":"290","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(f,{variant:"outline",onClick:l,children:"Atualizar"}),e.jsx(f,{variant:"modern",onClick:n,children:"Gerar PrescriÃ§Ãµes"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"56","trae-inspector-start-column":"6","trae-inspector-end-line":"62","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-4 gap-2 mb-3",children:[e.jsxs(H,{value:u.module,onValueChange:s=>b({...u,module:s}),children:[e.jsx(J,{children:e.jsx(X,{placeholder:"MÃ³dulo"})}),e.jsxs(Q,{children:[e.jsx(y,{value:"fleet",children:"Frota"}),e.jsx(y,{value:"mechanic",children:"MecÃ¢nica"}),e.jsx(y,{value:"operations",children:"OperaÃ§Ãµes"}),e.jsx(y,{value:"finance",children:"Financeiro"})]})]}),e.jsx(v,{placeholder:"Placa",value:u.vehicle_plate||"",onChange:s=>b({...u,vehicle_plate:s.target.value.toUpperCase()})}),e.jsx(v,{placeholder:"TÃ­tulo",value:u.title||"",onChange:s=>b({...u,title:s.target.value})}),e.jsx(v,{type:"date",value:u.due_date||"",onChange:s=>b({...u,due_date:s.target.value})}),e.jsx(f,{onClick:o,children:"Criar"})]}),e.jsxs("div",{"trae-inspector-start-line":"63","trae-inspector-start-column":"6","trae-inspector-end-line":"67","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsx(v,{placeholder:"CPK (R$/km)",value:C.cpk||"",onChange:s=>c({...C,cpk:s.target.value})}),e.jsx(v,{placeholder:"Finance Entry ID",value:C.entry||"",onChange:s=>c({...C,entry:s.target.value})}),e.jsx(f,{variant:"outline",onClick:async()=>{A[0]&&(await L.from("process_actions").update({cpk:C.cpk?parseFloat(C.cpk):null,financial_entry_id:C.entry||null}).eq("id",A[0].id),l())},children:"Vincular Financeiro"})]}),e.jsx("div",{"trae-inspector-start-line":"68","trae-inspector-start-column":"6","trae-inspector-end-line":"81","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-2",children:A.map(s=>e.jsxs("div",{"trae-inspector-start-line":"70","trae-inspector-start-column":"10","trae-inspector-end-line":"79","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`flex items-center justify-between p-2 rounded-md border ${x.includes(s)?"bg-red-50":""}`,children:[e.jsxs("div",{"trae-inspector-start-line":"71","trae-inspector-start-column":"12","trae-inspector-end-line":"74","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:[e.jsx("div",{"trae-inspector-start-line":"72","trae-inspector-start-column":"14","trae-inspector-end-line":"72","trae-inspector-end-column":"60","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:s.title}),e.jsxs("div",{"trae-inspector-start-line":"73","trae-inspector-start-column":"14","trae-inspector-end-line":"73","trae-inspector-end-column":"210","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[s.module," â€¢ ",s.vehicle_plate||""," â€¢ ",s.type," â€¢ Status: ",s.status," â€¢ Vencimento: ",s.due_date?new Date(s.due_date).toLocaleDateString("pt-BR"):""]})]}),e.jsxs("div",{"trae-inspector-start-line":"75","trae-inspector-start-column":"12","trae-inspector-end-line":"78","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProcessActions.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[!s.authorized_by&&e.jsx(f,{variant:"outline",onClick:()=>t(s.id),children:"Autorizar"}),s.status!=="completed"&&e.jsx(f,{variant:"modern",onClick:()=>g(s.id),children:"Concluir"})]})]},s.id))})]})}function wt(){const[w,A]=d.useState([]),[m,u]=d.useState({module:"fleet",severity:5,occurrence:5,detection:5}),[b,C]=d.useState(null),[c,x]=d.useState({}),l=async()=>{const{data:n}=await L.from("non_conformities").select("id,module,vehicle_plate,description,severity,occurrence,detection,rpn,status").order("created_at",{ascending:!1}).limit(100);A(n||[])};d.useEffect(()=>{l()},[]);const o=async()=>{const n={...m,description:m.description||"NC",severity:Number(m.severity),occurrence:Number(m.occurrence),detection:Number(m.detection)},{error:s}=await L.from("non_conformities").insert(n);s||(u({module:"fleet",severity:5,occurrence:5,detection:5}),l())},t=async n=>{const{error:s}=await L.from("non_conformities").update({status:"closed",resolved_at:new Date().toISOString()}).eq("id",n);s||l()},g=async n=>{const{error:s}=await L.from("non_conformities").update(n).eq("id",n.id);s||l()};return e.jsxs(B,{className:"p-4",children:[e.jsxs("div",{"trae-inspector-start-line":"42","trae-inspector-start-column":"6","trae-inspector-end-line":"42","trae-inspector-end-column":"190","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{"trae-inspector-start-line":"42","trae-inspector-start-column":"62","trae-inspector-end-line":"42","trae-inspector-end-column":"125","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22N%C3%A3o%20Conformidades%20(FMEA%2FRPN)%22%2C%22textStartLine%22%3A%2242%22%2C%22textStartColumn%22%3A%2292%22%2C%22textEndLine%22%3A%2242%22%2C%22textEndColumn%22%3A%22120%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"NÃ£o Conformidades (FMEA/RPN)"}),e.jsx(f,{variant:"outline",onClick:l,children:"Atualizar"})]}),e.jsxs("div",{"trae-inspector-start-line":"43","trae-inspector-start-column":"6","trae-inspector-end-line":"55","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-6 gap-2 mb-3",children:[e.jsxs(H,{value:m.module,onValueChange:n=>u({...m,module:n}),children:[e.jsx(J,{children:e.jsx(X,{placeholder:"MÃ³dulo"})}),e.jsxs(Q,{children:[e.jsx(y,{value:"fleet",children:"Frota"}),e.jsx(y,{value:"mechanic",children:"MecÃ¢nica"}),e.jsx(y,{value:"operations",children:"OperaÃ§Ãµes"}),e.jsx(y,{value:"finance",children:"Financeiro"})]})]}),e.jsx(ct,{value:m.vehicle_plate||"",onChange:n=>u({...m,vehicle_plate:n}),placeholder:"Placa"}),e.jsx(v,{placeholder:"DescriÃ§Ã£o",value:m.description||"",onChange:n=>u({...m,description:n.target.value})}),e.jsx(v,{type:"number",min:1,max:10,placeholder:"Sev",value:m.severity,onChange:n=>u({...m,severity:Number(n.target.value)})}),e.jsx(v,{type:"number",min:1,max:10,placeholder:"Ocorr",value:m.occurrence,onChange:n=>u({...m,occurrence:Number(n.target.value)})}),e.jsx(v,{type:"number",min:1,max:10,placeholder:"Detec",value:m.detection,onChange:n=>u({...m,detection:Number(n.target.value)})}),e.jsx(f,{onClick:o,children:"Criar"})]}),e.jsx("div",{"trae-inspector-start-line":"56","trae-inspector-start-column":"6","trae-inspector-end-line":"82","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-2",children:w.map(n=>e.jsx("div",{"trae-inspector-start-line":"58","trae-inspector-start-column":"10","trae-inspector-end-line":"80","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`flex items-center justify-between p-2 rounded-md border ${n.rpn>=200?"bg-red-50":n.rpn>=125?"bg-yellow-50":""}`,children:b===n.id?e.jsxs("div",{"trae-inspector-start-line":"60","trae-inspector-start-column":"14","trae-inspector-end-line":"67","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 grid grid-cols-6 gap-2 items-center",children:[e.jsx(v,{value:c.description??n.description,onChange:s=>x({...c,description:s.target.value})}),e.jsx(v,{type:"number",min:1,max:10,value:c.severity??n.severity,onChange:s=>x({...c,severity:Number(s.target.value)})}),e.jsx(v,{type:"number",min:1,max:10,value:c.occurrence??n.occurrence,onChange:s=>x({...c,occurrence:Number(s.target.value)})}),e.jsx(v,{type:"number",min:1,max:10,value:c.detection??n.detection,onChange:s=>x({...c,detection:Number(s.target.value)})}),e.jsx(f,{onClick:()=>{const s={...n,...c,severity:Number(c.severity??n.severity),occurrence:Number(c.occurrence??n.occurrence),detection:Number(c.detection??n.detection)};g(s),C(null),x({})},children:"Salvar"}),e.jsx(f,{variant:"outline",onClick:()=>{C(null),x({})},children:"Cancelar"})]}):e.jsxs("div",{"trae-inspector-start-line":"69","trae-inspector-start-column":"14","trae-inspector-end-line":"78","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between w-full",children:[e.jsxs("div",{"trae-inspector-start-line":"70","trae-inspector-start-column":"16","trae-inspector-end-line":"73","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:[e.jsx("div",{"trae-inspector-start-line":"71","trae-inspector-start-column":"18","trae-inspector-end-line":"71","trae-inspector-end-column":"71","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:n.description}),e.jsxs("div",{"trae-inspector-start-line":"72","trae-inspector-start-column":"18","trae-inspector-end-line":"72","trae-inspector-end-column":"183","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[n.module," â€¢ ",n.vehicle_plate||""," â€¢ S:",n.severity," O:",n.occurrence," D:",n.detection," â€¢ RPN:",n.rpn," â€¢ ",n.status]})]}),e.jsxs("div",{"trae-inspector-start-line":"74","trae-inspector-start-column":"16","trae-inspector-end-line":"77","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\NonConformities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[n.status!=="closed"&&e.jsx(f,{variant:"modern",onClick:()=>t(n.id),children:"Encerrar"}),n.status!=="closed"&&e.jsx(f,{variant:"outline",onClick:()=>{C(n.id),x({id:n.id,description:n.description,severity:n.severity,occurrence:n.occurrence,detection:n.detection})},children:"Editar"})]})]})},n.id))})]})}function ft(){const[w,A]=d.useState([]),[m,u]=d.useState({}),b=async()=>{let o=L.from("driver_work_sessions").select("driver_id,vehicle_plate,start_time,end_time,km_start,km_end").order("start_time",{ascending:!1}).limit(500);m.from&&(o=o.gte("start_time",m.from)),m.to&&(o=o.lte("end_time",m.to));const{data:t}=await o;A(t||[])};d.useEffect(()=>{b()},[m.from,m.to]);const C=d.useMemo(()=>{const o={};return w.forEach(t=>{const g=(t.km_end||0)-(t.km_start||0);o[t.vehicle_plate]||(o[t.vehicle_plate]=0),o[t.vehicle_plate]+=Math.max(0,g)}),o},[w]),c=d.useMemo(()=>{const o={};return w.forEach(t=>{const g=(t.km_end||0)-(t.km_start||0);o[t.driver_id]||(o[t.driver_id]=0),o[t.driver_id]+=Math.max(0,g)}),o},[w]),x=d.useMemo(()=>{const o=Object.values(C);if(o.length===0)return 0;const t=Math.max(...o),g=Math.min(...o);return t-g},[C]),l=async()=>{const o=ke({failureRisk:.5,costTrend:"increasing"});x>5e3&&o.push("Redistribuir rotas para equilibrar quilometragem");for(const t of o)await L.from("process_actions").insert({module:"operations",type:"productivity",title:t,description:"Gerado automaticamente",priority:"high",due_date:new Date(Date.now()+7200*60*1e3).toISOString()})};return e.jsxs(B,{className:"p-4",children:[e.jsxs("div",{"trae-inspector-start-line":"63","trae-inspector-start-column":"6","trae-inspector-end-line":"70","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{"trae-inspector-start-line":"64","trae-inspector-start-column":"8","trae-inspector-end-line":"64","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Produtividade%20(KM%20por%20ve%C3%ADculo%20e%20motorista)%22%2C%22textStartLine%22%3A%2264%22%2C%22textStartColumn%22%3A%2238%22%2C%22textEndLine%22%3A%2264%22%2C%22textEndColumn%22%3A%2280%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Produtividade (KM por veÃ­culo e motorista)"}),e.jsxs("div",{"trae-inspector-start-line":"65","trae-inspector-start-column":"8","trae-inspector-end-line":"69","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx("input",{"trae-inspector-start-line":"66","trae-inspector-start-column":"10","trae-inspector-end-line":"66","trae-inspector-end-column":"129","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",type:"date",className:"border rounded px-2 py-1",onChange:o=>u({...m,from:o.target.value})}),e.jsx("input",{"trae-inspector-start-line":"67","trae-inspector-start-column":"10","trae-inspector-end-line":"67","trae-inspector-end-column":"127","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",type:"date",className:"border rounded px-2 py-1",onChange:o=>u({...m,to:o.target.value})}),e.jsx(f,{variant:"modern",onClick:l,children:"Gerar PrescriÃ§Ãµes"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"71","trae-inspector-start-column":"6","trae-inspector-end-line":"90","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(B,{className:"p-4",children:[e.jsx("div",{"trae-inspector-start-line":"73","trae-inspector-start-column":"10","trae-inspector-end-line":"73","trae-inspector-end-column":"82","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22KM%20por%20Ve%C3%ADculo%22%2C%22textStartLine%22%3A%2273%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%2273%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mb-2",children:"KM por VeÃ­culo"}),e.jsxs(xe,{width:500,height:250,data:Object.entries(C).map(([o,t])=>({plate:o,km:t})),children:[e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(le,{dataKey:"plate"}),e.jsx(Ce,{}),e.jsx(pe,{dataKey:"km",fill:"#3b82f6"})]})]}),e.jsxs(B,{className:"p-4",children:[e.jsx("div",{"trae-inspector-start-line":"82","trae-inspector-start-column":"10","trae-inspector-end-line":"82","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22KM%20por%20Motorista%22%2C%22textStartLine%22%3A%2282%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%2282%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mb-2",children:"KM por Motorista"}),e.jsxs(xe,{width:500,height:250,data:Object.entries(c).map(([o,t])=>({driver:o,km:t})),children:[e.jsx(oe,{strokeDasharray:"3 3"}),e.jsx(le,{dataKey:"driver"}),e.jsx(Ce,{}),e.jsx(pe,{dataKey:"km",fill:"#10b981"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"6","trae-inspector-end-line":"91","trae-inspector-end-column":"175","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\ProductivityPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-4 text-sm",children:["DispersÃ£o de quilometragem entre veÃ­culos: ",x.toLocaleString()," km ",x>5e3?"â€¢ ALERTA: alto desequilÃ­brio":""]})]})}function bt({onSuccess:w}){const[A,m]=d.useState(!1),[u,b]=d.useState(!1),[C,c]=d.useState({placa:"",modelo:"",tipo:"CaminhÃ£o",status:"Ativo",ano:new Date().getFullYear(),km:0}),x=async l=>{l.preventDefault(),b(!0);try{const{error:o}=await L.from("vehicles").insert({placa:C.placa.toUpperCase(),modelo:C.modelo,tipo:C.tipo,status:C.status,ano:Number(C.ano),km:Number(C.km)});if(o)throw o;ue.success("VeÃ­culo cadastrado com sucesso!"),m(!1),c({placa:"",modelo:"",tipo:"CaminhÃ£o",status:"Ativo",ano:new Date().getFullYear(),km:0}),w()}catch(o){console.error("Erro ao cadastrar veÃ­culo:",o),ue.error(o.message||"Erro ao cadastrar veÃ­culo")}finally{b(!1)}};return e.jsxs(Me,{open:A,onOpenChange:m,children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(f,{className:"gap-2",children:[e.jsx(Re,{className:"h-4 w-4"}),"Adicionar VeÃ­culo"]})}),e.jsxs(Pe,{className:"sm:max-w-[425px]",children:[e.jsx(Ie,{children:e.jsx(Te,{children:"Novo Cadastro de VeÃ­culo"})}),e.jsxs("form",{"trae-inspector-start-line":"74","trae-inspector-start-column":"8","trae-inspector-end-line":"166","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"75","trae-inspector-start-column":"10","trae-inspector-end-line":"104","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"76","trae-inspector-start-column":"12","trae-inspector-end-line":"86","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(D,{htmlFor:"placa",children:"Placa"}),e.jsx(v,{id:"placa",value:C.placa,onChange:l=>c({...C,placa:l.target.value}),placeholder:"ABC-1234",required:!0,maxLength:8})]}),e.jsxs("div",{"trae-inspector-start-line":"87","trae-inspector-start-column":"12","trae-inspector-end-line":"103","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(D,{htmlFor:"tipo",children:"Tipo"}),e.jsxs(H,{value:C.tipo,onValueChange:l=>c({...C,tipo:l}),children:[e.jsx(J,{children:e.jsx(X,{placeholder:"Selecione"})}),e.jsxs(Q,{children:[e.jsx(y,{value:"CaminhÃ£o",children:"CaminhÃ£o"}),e.jsx(y,{value:"Carreta",children:"Carreta"}),e.jsx(y,{value:"UtilitÃ¡rio",children:"UtilitÃ¡rio"}),e.jsx(y,{value:"Leve",children:"Leve"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"10","trae-inspector-end-line":"115","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(D,{htmlFor:"modelo",children:"Modelo"}),e.jsx(v,{id:"modelo",value:C.modelo,onChange:l=>c({...C,modelo:l.target.value}),placeholder:"Ex: Volvo FH 540",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"10","trae-inspector-end-line":"138","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"118","trae-inspector-start-column":"12","trae-inspector-end-line":"127","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(D,{htmlFor:"ano",children:"Ano"}),e.jsx(v,{id:"ano",type:"number",value:C.ano,onChange:l=>c({...C,ano:parseInt(l.target.value)}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"128","trae-inspector-start-column":"12","trae-inspector-end-line":"137","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(D,{htmlFor:"km",children:"KM Inicial"}),e.jsx(v,{id:"km",type:"number",value:C.km,onChange:l=>c({...C,km:parseInt(l.target.value)}),required:!0})]})]}),e.jsxs("div",{"trae-inspector-start-line":"140","trae-inspector-start-column":"10","trae-inspector-end-line":"155","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(D,{htmlFor:"status",children:"Status Inicial"}),e.jsxs(H,{value:C.status,onValueChange:l=>c({...C,status:l}),children:[e.jsx(J,{children:e.jsx(X,{placeholder:"Selecione"})}),e.jsxs(Q,{children:[e.jsx(y,{value:"Ativo",children:"Ativo"}),e.jsx(y,{value:"ManutenÃ§Ã£o",children:"ManutenÃ§Ã£o"}),e.jsx(y,{value:"Inativo",children:"Inativo"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"10","trae-inspector-end-line":"165","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\fleet\\\\VehicleFormDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2 pt-4",children:[e.jsx(f,{variant:"outline",type:"button",onClick:()=>m(!1),children:"Cancelar"}),e.jsxs(f,{type:"submit",disabled:u,children:[u&&e.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Cadastrar"]})]})]})]})]})}const gs=()=>{const w=$e(),{vehicles:A,refresh:m}=ot(),[u,b]=d.useState(""),[C,c]=d.useState({overdue:0,urgent:0,scheduled:0,ok:0}),{hasRole:x}=ve(),{notifications:l}=Ge();ze();const o=x("admin")||x("logistics_manager")||x("maintenance_manager")||x("fleet_maintenance");d.useEffect(()=>{(async()=>{if(o)try{const{data:a}=await L.from("service_orders").select("*").order("created_at",{ascending:!1});if(!a)return;const N=new Map;a.forEach(r=>{const j=N.get(r.vehicle_plate)||[];N.set(r.vehicle_plate,[...j,r])});let F=0,P=0,ee=0,te=0;for(const[,r]of N.entries()){const j=Math.max(...r.map(i=>i.odometer)),$=j+1e4-j;$<0?F++:$<1e3?P++:$<3e3?ee++:te++}c({overdue:F,urgent:P,scheduled:ee,ok:te})}catch(a){console.error("Erro ao carregar estatÃ­sticas:",a)}})()},[o]);const t=A.filter(s=>s.plate.toLowerCase().includes(u.toLowerCase())||(s.model||"").toLowerCase().includes(u.toLowerCase())),g=(s="")=>{const a=s.toLowerCase();return a.includes("ativo")?{label:"Ativo",className:"bg-green-500/15 text-green-600 border-green-500/20"}:a.includes("manuten")?{label:"ManutenÃ§Ã£o",className:"bg-yellow-500/15 text-yellow-600 border-yellow-500/20"}:{label:s||"Inativo",className:"bg-red-500/15 text-red-600 border-red-500/20"}},n=l.filter(s=>s.module==="fleet"&&!s.read);return e.jsx(Ye,{children:e.jsxs("div",{"trae-inspector-start-line":"105","trae-inspector-start-column":"6","trae-inspector-end-line":"332","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-8",children:[e.jsxs("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"8","trae-inspector-end-line":"124","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"10","trae-inspector-end-line":"112","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("h1",{"trae-inspector-start-line":"108","trae-inspector-start-column":"12","trae-inspector-end-line":"108","trae-inspector-end-column":"98","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gest%C3%A3o%20de%20Frota%22%2C%22textStartLine%22%3A%22108%22%2C%22textStartColumn%22%3A%2278%22%2C%22textEndLine%22%3A%22108%22%2C%22textEndColumn%22%3A%2293%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-4xl font-bold tracking-tight text-foreground",children:"GestÃ£o de Frota"}),e.jsx("p",{"trae-inspector-start-line":"109","trae-inspector-start-column":"12","trae-inspector-end-line":"111","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gerencie%20todos%20os%20ve%C3%ADculos%20da%20frota%20e%20acompanhe%20manuten%C3%A7%C3%B5es%20e%20custos%22%2C%22textStartLine%22%3A%22109%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-base text-muted-foreground",children:"Gerencie todos os veÃ­culos da frota e acompanhe manutenÃ§Ãµes e custos"})]}),e.jsxs("div",{"trae-inspector-start-line":"113","trae-inspector-start-column":"10","trae-inspector-end-line":"123","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs(f,{variant:"outline",className:"gap-2 shadow-sm",onClick:()=>w("/import-vehicles"),children:[e.jsx(Ct,{className:"h-4 w-4"}),"Importar CRLV"]}),e.jsx(bt,{onSuccess:m})]})]}),e.jsxs(je,{defaultValue:"vehicles",className:"space-y-6",children:[e.jsxs(De,{children:[e.jsxs(R,{value:"vehicles",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"VeÃ­culos"]}),e.jsxs(R,{value:"cost-analysis",className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"AnÃ¡lise de Custos"]}),e.jsxs(R,{value:"tires",className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),"Pneus"]}),e.jsxs(R,{value:"actions",className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),"AÃ§Ãµes"]}),e.jsxs(R,{value:"nc",className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"NÃ£o Conformidades"]}),e.jsxs(R,{value:"prod",className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),"Produtividade"]})]}),e.jsxs(V,{value:"vehicles",className:"space-y-6",children:[o&&e.jsxs(B,{className:"border-l-4 border-l-primary",children:[e.jsx(q,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5"}),"Status de ManutenÃ§Ã£o Preventiva"]})}),e.jsxs(M,{children:[e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"14","trae-inspector-end-line":"206","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"167","trae-inspector-start-column":"16","trae-inspector-end-line":"175","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3 p-3 rounded-lg bg-destructive/10",children:[e.jsx("div",{"trae-inspector-start-line":"168","trae-inspector-start-column":"18","trae-inspector-end-line":"170","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-10 h-10 rounded-full bg-destructive/20 flex items-center justify-center",children:e.jsx(ae,{className:"w-5 h-5 text-destructive"})}),e.jsxs("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"18","trae-inspector-end-line":"174","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"172","trae-inspector-start-column":"20","trae-inspector-end-line":"172","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:C.overdue}),e.jsx("p",{"trae-inspector-start-line":"173","trae-inspector-start-column":"20","trae-inspector-end-line":"173","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Atrasadas%22%2C%22textStartLine%22%3A%22173%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22173%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Atrasadas"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"177","trae-inspector-start-column":"16","trae-inspector-end-line":"185","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3 p-3 rounded-lg bg-yellow-500/10",children:[e.jsx("div",{"trae-inspector-start-line":"178","trae-inspector-start-column":"18","trae-inspector-end-line":"180","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center",children:e.jsx(ae,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{"trae-inspector-start-line":"181","trae-inspector-start-column":"18","trae-inspector-end-line":"184","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"182","trae-inspector-start-column":"20","trae-inspector-end-line":"182","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:C.urgent}),e.jsx("p",{"trae-inspector-start-line":"183","trae-inspector-start-column":"20","trae-inspector-end-line":"183","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Urgentes%22%2C%22textStartLine%22%3A%22183%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22183%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Urgentes"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"16","trae-inspector-end-line":"195","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3 p-3 rounded-lg bg-blue-500/10",children:[e.jsx("div",{"trae-inspector-start-line":"188","trae-inspector-start-column":"18","trae-inspector-end-line":"190","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:e.jsx(ce,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{"trae-inspector-start-line":"191","trae-inspector-start-column":"18","trae-inspector-end-line":"194","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"192","trae-inspector-start-column":"20","trae-inspector-end-line":"192","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:C.scheduled}),e.jsx("p",{"trae-inspector-start-line":"193","trae-inspector-start-column":"20","trae-inspector-end-line":"193","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Agendadas%22%2C%22textStartLine%22%3A%22193%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22193%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Agendadas"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"197","trae-inspector-start-column":"16","trae-inspector-end-line":"205","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3 p-3 rounded-lg bg-green-500/10",children:[e.jsx("div",{"trae-inspector-start-line":"198","trae-inspector-start-column":"18","trae-inspector-end-line":"200","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(ce,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{"trae-inspector-start-line":"201","trae-inspector-start-column":"18","trae-inspector-end-line":"204","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"202","trae-inspector-start-column":"20","trae-inspector-end-line":"202","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:C.ok}),e.jsx("p",{"trae-inspector-start-line":"203","trae-inspector-start-column":"20","trae-inspector-end-line":"203","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Em%20Dia%22%2C%22textStartLine%22%3A%22203%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22203%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Em Dia"})]})]})]}),n.length>0&&e.jsxs("div",{"trae-inspector-start-line":"209","trae-inspector-start-column":"16","trae-inspector-end-line":"228","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-4 pt-4 border-t",children:[e.jsx("p",{"trae-inspector-start-line":"210","trae-inspector-start-column":"18","trae-inspector-end-line":"210","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Alertas%20Recentes%3A%22%2C%22textStartLine%22%3A%22210%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%22210%22%2C%22textEndColumn%22%3A%2275%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-medium mb-2",children:"Alertas Recentes:"}),e.jsx("div",{"trae-inspector-start-line":"211","trae-inspector-start-column":"18","trae-inspector-end-line":"227","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 max-h-48 overflow-y-auto",children:n.slice(0,5).map(s=>e.jsxs("div",{"trae-inspector-start-line":"213","trae-inspector-start-column":"22","trae-inspector-end-line":"225","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`p-3 rounded-lg text-sm ${s.type==="error"?"bg-destructive/10 text-destructive":s.type==="warning"?"bg-yellow-500/10 text-yellow-600":"bg-blue-500/10 text-blue-600"}`,children:[e.jsx("p",{"trae-inspector-start-line":"223","trae-inspector-start-column":"24","trae-inspector-end-line":"223","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:s.title}),e.jsx("p",{"trae-inspector-start-line":"224","trae-inspector-start-column":"24","trae-inspector-end-line":"224","trae-inspector-end-column":"82","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs opacity-80 mt-1",children:s.message})]},s.id))})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"235","trae-inspector-start-column":"8","trae-inspector-end-line":"249","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(me,{title:"Total de VeÃ­culos",value:"24",icon:ne}),e.jsx(me,{title:"Ativos",value:"18",icon:ce,trend:{value:"+12%",positive:!0}}),e.jsx(me,{title:"Em ManutenÃ§Ã£o",value:"4",icon:ae}),e.jsx(me,{title:"Inativos",value:"2",icon:ne})]}),e.jsx(B,{children:e.jsx(M,{className:"p-4",children:e.jsx("div",{"trae-inspector-start-line":"254","trae-inspector-start-column":"12","trae-inspector-end-line":"264","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-4",children:e.jsxs("div",{"trae-inspector-start-line":"255","trae-inspector-start-column":"14","trae-inspector-end-line":"263","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"relative flex-1",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(v,{placeholder:"Buscar por placa ou modelo...",className:"pl-10",value:u,onChange:s=>b(s.target.value)})]})})})}),e.jsx("div",{"trae-inspector-start-line":"269","trae-inspector-start-column":"8","trae-inspector-end-line":"308","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:t.map(s=>e.jsx(B,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"273","trae-inspector-start-column":"16","trae-inspector-end-line":"304","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"274","trae-inspector-start-column":"18","trae-inspector-end-line":"295","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"20","trae-inspector-end-line":"277","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(ne,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"20","trae-inspector-end-line":"294","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"279","trae-inspector-start-column":"22","trae-inspector-end-line":"284","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsx("h3",{"trae-inspector-start-line":"280","trae-inspector-start-column":"24","trae-inspector-end-line":"280","trae-inspector-end-column":"82","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:s.plate}),e.jsx(Z,{className:g(s.status).className,children:g(s.status).label})]}),e.jsx("p",{"trae-inspector-start-line":"285","trae-inspector-start-column":"22","trae-inspector-end-line":"285","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mt-1",children:s.model}),e.jsxs("div",{"trae-inspector-start-line":"286","trae-inspector-start-column":"22","trae-inspector-end-line":"293","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-4 mt-2 text-sm",children:[e.jsxs("span",{"trae-inspector-start-line":"287","trae-inspector-start-column":"24","trae-inspector-end-line":"289","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:["Tipo: ",e.jsx("span",{"trae-inspector-start-line":"288","trae-inspector-start-column":"32","trae-inspector-end-line":"288","trae-inspector-end-column":"87","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-foreground",children:s.type})]}),e.jsxs("span",{"trae-inspector-start-line":"290","trae-inspector-start-column":"24","trae-inspector-end-line":"292","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:["KM: ",e.jsx("span",{"trae-inspector-start-line":"291","trae-inspector-start-column":"30","trae-inspector-end-line":"291","trae-inspector-end-column":"118","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-foreground",children:Number(s.mileage??0).toLocaleString()})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"296","trae-inspector-start-column":"18","trae-inspector-end-line":"303","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Fleet.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(f,{variant:"ghost",size:"icon",children:e.jsx(dt,{className:"w-4 w-4"})}),e.jsx(f,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",children:e.jsx(Oe,{className:"h-4 w-4"})})]})]})})},s.plate))}),e.jsx(nt,{})]}),e.jsx(V,{value:"cost-analysis",className:"space-y-6",children:e.jsx(vt,{})}),e.jsx(V,{value:"tires",className:"space-y-6",children:e.jsx(at,{})}),e.jsx(V,{value:"actions",className:"space-y-6",children:e.jsx(At,{})}),e.jsx(V,{value:"nc",className:"space-y-6",children:e.jsx(wt,{})}),e.jsx(V,{value:"prod",className:"space-y-6",children:e.jsx(ft,{})})]})]})})};export{gs as default};
