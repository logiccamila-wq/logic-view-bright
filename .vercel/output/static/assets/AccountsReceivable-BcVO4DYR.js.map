{"version":3,"file":"AccountsReceivable-BcVO4DYR.js","sources":["../../src/components/financial/ContaReceberDialog.tsx","../../src/pages/AccountsReceivable.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from \"@/components/ui/select\";\nimport { toast } from \"sonner\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Loader2 } from \"lucide-react\";\r\n\r\ninterface ContaReceber {\r\n  id?: string;\r\n  descricao: string;\r\n  cliente: string;\r\n  valor: number;\r\n  data_vencimento: string;\r\n  observacoes?: string;\r\n  status?: string;\r\n}\r\n\r\ninterface ContaReceberDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  conta?: ContaReceber | null;\r\n  onSuccess: () => void;\r\n}\r\n\r\nexport function ContaReceberDialog({ open, onOpenChange, conta, onSuccess }: ContaReceberDialogProps) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState<ContaReceber>({\r\n    descricao: \"\",\r\n    cliente: \"\",\r\n    valor: 0,\r\n    data_vencimento: \"\",\r\n    observacoes: \"\",\r\n    status: \"pendente\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (conta) {\r\n      setFormData({\r\n        descricao: conta.descricao || \"\",\r\n        cliente: conta.cliente || \"\",\r\n        valor: conta.valor || 0,\r\n        data_vencimento: conta.data_vencimento?.split(\"T\")[0] || \"\",\r\n        observacoes: conta.observacoes || \"\",\r\n        status: conta.status || \"pendente\"\r\n      });\r\n    } else {\r\n      setFormData({\r\n        descricao: \"\",\r\n        cliente: \"\",\r\n        valor: 0,\r\n        data_vencimento: \"\",\r\n        observacoes: \"\",\r\n        status: \"pendente\"\r\n      });\r\n    }\r\n  }, [conta, open]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.descricao || !formData.cliente || !formData.valor || !formData.data_vencimento) {\r\n      toast.error(\"Preencha todos os campos obrigatórios\");\r\n      return;\r\n    }\r\n\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    const dueDate = new Date(formData.data_vencimento);\r\n\r\n    if (dueDate < today) {\r\n      toast.error(\"A data de vencimento não pode ser retroativa.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const dataToSave = {\r\n        descricao: formData.descricao,\r\n        cliente: formData.cliente,\r\n        valor: Number(formData.valor),\r\n        data_vencimento: formData.data_vencimento,\r\n        observacoes: formData.observacoes || null,\r\n        status: formData.status || \"pendente\"\r\n      };\r\n\r\n      if (conta?.id) {\r\n        // Update\r\n        const { error } = await supabase\r\n          .from(\"contas_receber\")\r\n          .update(dataToSave)\r\n          .eq(\"id\", conta.id);\r\n\r\n        if (error) throw error;\r\n        toast.success(\"Conta atualizada com sucesso!\");\r\n      } else {\r\n        // Insert\r\n        const { error } = await supabase\r\n          .from(\"contas_receber\")\r\n          .insert([dataToSave]);\r\n\r\n        if (error) throw error;\r\n        toast.success(\"Conta cadastrada com sucesso!\");\r\n      }\r\n\r\n      onSuccess();\r\n      onOpenChange(false);\r\n    } catch (error: any) {\r\n      console.error(error);\r\n      toast.error(error.message || \"Erro ao salvar conta\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>{conta?.id ? \"Editar\" : \"Nova\"} Conta a Receber</DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"descricao\">Descrição *</Label>\r\n              <Input\r\n                id=\"descricao\"\r\n                value={formData.descricao}\r\n                onChange={(e) => setFormData({ ...formData, descricao: e.target.value })}\r\n                placeholder=\"Ex: Frete São Paulo - Campinas\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"cliente\">Cliente *</Label>\r\n              <Input\r\n                id=\"cliente\"\r\n                value={formData.cliente}\r\n                onChange={(e) => setFormData({ ...formData, cliente: e.target.value })}\r\n                placeholder=\"Nome do cliente\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"valor\">Valor *</Label>\r\n              <Input\r\n                id=\"valor\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                value={formData.valor}\r\n                onChange={(e) => setFormData({ ...formData, valor: parseFloat(e.target.value) || 0 })}\r\n                placeholder=\"0.00\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"data_vencimento\">Data Vencimento *</Label>\r\n              <Input\r\n                id=\"data_vencimento\"\r\n                type=\"date\"\r\n                value={formData.data_vencimento}\r\n                onChange={(e) => setFormData({ ...formData, data_vencimento: e.target.value })}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"observacoes\">Observações</Label>\r\n              <Textarea\r\n                id=\"observacoes\"\r\n                value={formData.observacoes}\r\n                onChange={(e) => setFormData({ ...formData, observacoes: e.target.value })}\r\n                placeholder=\"Observações adicionais...\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"status\">Status</Label>\r\n              <Select\r\n                value={formData.status}\r\n                onValueChange={(value) => setFormData({ ...formData, status: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Selecione o status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"pendente\">Pendente</SelectItem>\r\n                  <SelectItem value=\"recebido\">Recebido</SelectItem>\r\n                  <SelectItem value=\"vencido\">Vencido</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => onOpenChange(false)}\r\n              disabled={loading}\r\n            >\r\n              Cancelar\r\n            </Button>\r\n            <Button type=\"submit\" disabled={loading}>\r\n              {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n              {conta?.id ? \"Atualizar\" : \"Cadastrar\"}\r\n            </Button>\r\n          </DialogFooter>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Layout } from \"@/components/Layout\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Plus, Search, DollarSign, AlertCircle, CheckCircle, Edit, Trash2, Loader2 } from \"lucide-react\";\r\nimport { StatCard } from \"@/components/StatCard\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { format } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\nimport { ContaReceberDialog } from \"@/components/financial/ContaReceberDialog\";\r\nimport { ConfirmationDialog } from \"@/components/ConfirmationDialog\";\r\n\r\ninterface ContaReceber {\r\n  id: string;\r\n  descricao: string;\r\n  cliente: string;\r\n  valor: number;\r\n  data_vencimento: string;\r\n  data_recebimento: string | null;\r\n  status: string;\r\n  cte_id: string | null;\r\n  observacoes: string;\r\n}\r\n\r\nconst AccountsReceivable = () => {\r\n  const [contas, setContas] = useState<ContaReceber[]>([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [selectedConta, setSelectedConta] = useState<ContaReceber | null>(null);\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [contaToDelete, setContaToDelete] = useState<string | null>(null);\r\n  const [actionLoading, setActionLoading] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    loadContas();\r\n  }, []);\r\n\r\n  const loadContas = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"contas_receber\")\r\n        .select(\"*\")\r\n        .order(\"data_vencimento\", { ascending: true });\r\n\r\n      if (error) throw error;\r\n      setContas(data || []);\r\n    } catch (error) {\r\n      toast.error(\"Erro ao carregar contas a receber\");\r\n      console.error(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenDialog = (conta?: ContaReceber) => {\r\n    setSelectedConta(conta || null);\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleMarkAsReceived = async (id: string) => {\r\n    setActionLoading(id);\r\n    try {\r\n      const { error } = await supabase\r\n        .from(\"contas_receber\")\r\n        .update({\r\n          status: \"recebido\",\r\n          data_recebimento: new Date().toISOString()\r\n        })\r\n        .eq(\"id\", id);\r\n\r\n      if (error) throw error;\r\n      toast.success(\"Conta marcada como recebida!\");\r\n      loadContas();\r\n    } catch (error: any) {\r\n      console.error(error);\r\n      toast.error(error.message || \"Erro ao atualizar conta\");\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = (id: string) => {\r\n    setContaToDelete(id);\r\n    setDeleteDialogOpen(true);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!contaToDelete) return;\r\n    \r\n    setActionLoading(contaToDelete);\r\n    try {\r\n      const { error } = await supabase\r\n        .from(\"contas_receber\")\r\n        .delete()\r\n        .eq(\"id\", contaToDelete);\r\n\r\n      if (error) throw error;\r\n      toast.success(\"Conta excluída com sucesso!\");\r\n      loadContas();\r\n    } catch (error: any) {\r\n      console.error(error);\r\n      toast.error(error.message || \"Erro ao excluir conta\");\r\n    } finally {\r\n      setActionLoading(null);\r\n      setDeleteDialogOpen(false);\r\n      setContaToDelete(null);\r\n    }\r\n  };\r\n\r\n  const filteredContas = contas.filter(\r\n    (c) =>\r\n      c.descricao.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      c.cliente.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const totalPendente = contas\r\n    .filter((c) => c.status === \"pendente\")\r\n    .reduce((sum, c) => sum + Number(c.valor), 0);\r\n\r\n  const totalRecebido = contas\r\n    .filter((c) => c.status === \"recebido\")\r\n    .reduce((sum, c) => sum + Number(c.valor), 0);\r\n\r\n  const contasAtrasadas = contas.filter(\r\n    (c) => c.status === \"pendente\" && new Date(c.data_vencimento) < new Date()\r\n  ).length;\r\n\r\n  const formatMoney = (value: number) => {\r\n    return new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(value);\r\n  };\r\n\r\n  const getStatusBadge = (status: string, dataVencimento: string) => {\r\n    if (status === \"recebido\") {\r\n      return <Badge variant=\"outline\" className=\"bg-green-500/20 text-green-600\">RECEBIDO</Badge>;\r\n    }\r\n    if (new Date(dataVencimento) < new Date()) {\r\n      return <Badge variant=\"destructive\">ATRASADO</Badge>;\r\n    }\r\n    return <Badge variant=\"secondary\">PENDENTE</Badge>;\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"space-y-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold\">Contas a Receber</h1>\r\n            <p className=\"text-muted-foreground\">Gestão de contas a receber e receitas</p>\r\n          </div>\r\n          <Button className=\"gap-2\" onClick={() => handleOpenDialog()}>\r\n            <Plus className=\"w-4 h-4\" />\r\n            Nova Conta\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Stats */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <StatCard\r\n            title=\"Total a Receber\"\r\n            value={formatMoney(totalPendente)}\r\n            icon={AlertCircle}\r\n          />\r\n          <StatCard\r\n            title=\"Total Recebido\"\r\n            value={formatMoney(totalRecebido)}\r\n            icon={CheckCircle}\r\n          />\r\n          <StatCard\r\n            title=\"Contas Atrasadas\"\r\n            value={contasAtrasadas.toString()}\r\n            icon={DollarSign}\r\n          />\r\n        </div>\r\n\r\n        {/* Filtros */}\r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4\" />\r\n              <Input\r\n                placeholder=\"Buscar por descrição ou cliente...\"\r\n                className=\"pl-10\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Lista de Contas */}\r\n        {loading ? (\r\n          <Card>\r\n            <CardContent className=\"p-12 flex justify-center\">\r\n              <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          <div className=\"grid gap-4\">\r\n            {filteredContas.map((conta) => (\r\n              <Card key={conta.id}>\r\n                <CardContent className=\"p-6\">\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-3 mb-2\">\r\n                        <h3 className=\"text-lg font-semibold\">{conta.descricao}</h3>\r\n                        {getStatusBadge(conta.status, conta.data_vencimento)}\r\n                        {conta.cte_id && (\r\n                          <Badge variant=\"outline\">Com CTe</Badge>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-sm text-muted-foreground mb-2\">\r\n                        Cliente: {conta.cliente}\r\n                      </p>\r\n                      <div className=\"flex gap-4 text-sm text-muted-foreground\">\r\n                        <span>\r\n                          Vencimento:{\" \"}\r\n                          {format(new Date(conta.data_vencimento), \"dd/MM/yyyy\", {\r\n                            locale: ptBR,\r\n                          })}\r\n                        </span>\r\n                        {conta.data_recebimento && (\r\n                          <span>\r\n                            Recebido em:{\" \"}\r\n                            {format(new Date(conta.data_recebimento), \"dd/MM/yyyy\", {\r\n                              locale: ptBR,\r\n                            })}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      {conta.observacoes && (\r\n                        <p className=\"text-sm mt-2\">{conta.observacoes}</p>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"text-right space-y-2\">\r\n                      <p className=\"text-2xl font-bold\">{formatMoney(conta.valor)}</p>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          onClick={() => handleOpenDialog(conta)}\r\n                          disabled={actionLoading === conta.id}\r\n                        >\r\n                          <Edit className=\"w-4 h-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          size=\"sm\"\r\n                          variant=\"outline\"\r\n                          onClick={() => handleDeleteClick(conta.id)}\r\n                          disabled={actionLoading === conta.id}\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </Button>\r\n                        {conta.status === \"pendente\" && (\r\n                          <Button\r\n                            size=\"sm\"\r\n                            onClick={() => handleMarkAsReceived(conta.id)}\r\n                            disabled={actionLoading === conta.id}\r\n                          >\r\n                            {actionLoading === conta.id && (\r\n                              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                            )}\r\n                            Marcar como Recebido\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n\r\n            {filteredContas.length === 0 && (\r\n              <Card>\r\n                <CardContent className=\"p-12 text-center text-muted-foreground\">\r\n                  Nenhuma conta a receber encontrada\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <ContaReceberDialog\r\n        open={dialogOpen}\r\n        onOpenChange={setDialogOpen}\r\n        conta={selectedConta}\r\n        onSuccess={loadContas}\r\n      />\r\n\r\n      <ConfirmationDialog\r\n        open={deleteDialogOpen}\r\n        onOpenChange={setDeleteDialogOpen}\r\n        onConfirm={handleDelete}\r\n        title=\"Confirmar Exclusão\"\r\n        description=\"Tem certeza que deseja excluir esta conta? Esta ação não pode ser desfeita.\"\r\n      />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AccountsReceivable;\r\n"],"names":["ContaReceberDialog","open","onOpenChange","conta","onSuccess","loading","setLoading","useState","formData","setFormData","descricao","cliente","valor","data_vencimento","observacoes","status","useEffect","split","handleSubmit","e","preventDefault","toast","error","today","Date","setHours","dataToSave","Number","id","supabase","from","update","eq","success","insert","console","message","Dialog","jsxs","DialogContent","jsx","DialogHeader","DialogTitle","Label","Input","target","value","parseFloat","Textarea","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","DialogFooter","Button","Loader2","AccountsReceivable","contas","setContas","searchTerm","setSearchTerm","dialogOpen","setDialogOpen","selectedConta","setSelectedConta","deleteDialogOpen","setDeleteDialogOpen","contaToDelete","setContaToDelete","actionLoading","setActionLoading","loadContas","data","select","order","ascending","handleOpenDialog","handleMarkAsReceived","data_recebimento","toISOString","handleDeleteClick","handleDelete","delete","filteredContas","filter","c","toLowerCase","includes","totalPendente","reduce","sum","totalRecebido","contasAtrasadas","length","formatMoney","Intl","NumberFormat","style","currency","format","getStatusBadge","dataVencimento","Badge","Layout","Plus","StatCard","AlertCircle","CheckCircle","toString","DollarSign","Card","CardContent","Search","map","cte_id","locale","ptBR","Edit","Trash2","ConfirmationDialog"],"mappings":"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"}