import{c as z,r as h,j as e,B as A,s as L,d as j,a6 as Z,a8 as Le,Y as Be,b as Pe}from"./index-BiNiRHKa.js";import{L as Ue,P as Ie,T as Se}from"./Layout-Dp_kOeVO.js";import{C as Te,a as Ve,b as $e,d as Fe}from"./card-TfuIT_5Q.js";import{T as ke,a as Me,b as Re,c as qe}from"./tabs-D0EqSZrJ.js";import{I as y}from"./input-CbZeJBr9.js";import{B as ee}from"./badge-DNXvGi58.js";import{S as V}from"./StatCard-D_xC6Z5I.js";import{T as te,a as re,b as I,c as _,d as ie,e as b}from"./table-BZVhxJnw.js";import{V as Oe}from"./VehicleSelect-By-7KCVO.js";import{D as ae,a as se,b as ne,c as ce,e as He,d as ze}from"./dialog-Cg8eQnwj.js";import{L as C}from"./label-UYjdQhGu.js";import{S as R,a as q,b as O,c as H,d as v}from"./select-QQKt8PR4.js";import{T as J}from"./textarea-DY8BSV4k.js";import{L as Qe}from"./loader-circle-B3QIm2JW.js";import{A as Ge,a as Ye}from"./alert-Dyh6P3T2.js";import{T as F}from"./triangle-alert-DWEkvv_3.js";import{C as oe}from"./circle-x-B59uFOSb.js";import{C as le}from"./warehouse-DuizGI0Y.js";import{C as pe}from"./circle-check-big-SjvrQ4v6.js";import{F as Xe}from"./index-DIpBNjZJ.js";import{S as Ze}from"./search-DMtVIRGP.js";import{S as Je}from"./square-pen-BKtFd8mk.js";import"./index-CwEJSXtc.js";import"./user-DUMs6VdZ.js";import"./check-CRXfG46A.js";import"./trending-up-DqnRdfA9.js";import"./settings-ADCDQZ7C.js";import"./sparkles-Dn6_ZUdd.js";import"./demoStore-BIsfGJR8.js";import"./index-CDnZEIrr.js";import"./index-BjTUNxlL.js";import"./chevron-down-CMfBZ8DZ.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],We=z("credit-card",Ke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],tt=z("file-check",et);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],it=z("file-up",rt);function at({open:s,onOpenChange:n,document:i,documentType:c,onSuccess:p}){const[o,l]=h.useState(!1),[t,r]=h.useState({vehicle_plate:"",document_type:c||"",document_category:"",document_number:"",issue_date:"",expiry_date:"",status:"valid",value:"",description:"",driver_name:"",driver_cpf:"",cnh_category:"",year:new Date().getFullYear(),paid:!1,last_check:"",next_check:"",notes:""});h.useEffect(()=>{s&&i&&r({vehicle_plate:i.vehicle_plate||"",document_type:i.document_type||c||"",document_category:i.document_category||"",document_number:i.document_number||"",issue_date:i.issue_date?i.issue_date.split("T")[0]:"",expiry_date:i.expiry_date?i.expiry_date.split("T")[0]:"",status:i.status||"valid",value:i.value||"",description:i.description||"",driver_name:i.driver_name||"",driver_cpf:i.driver_cpf||"",cnh_category:i.cnh_category||"",year:i.year||new Date().getFullYear(),paid:i.paid||!1,last_check:i.last_check?i.last_check.split("T")[0]:"",next_check:i.next_check?i.next_check.split("T")[0]:"",notes:i.notes||""})},[s,i,c]);const m=async a=>{a.preventDefault(),l(!0);try{const{data:{user:f}}=await L.auth.getUser(),u={vehicle_plate:t.vehicle_plate,document_type:t.document_type,status:t.status,notes:t.notes||null,created_by:f==null?void 0:f.id};if(t.document_type==="chemical"&&(u.document_category=t.document_category,u.expiry_date=t.expiry_date||null),["civ","cipp"].includes(t.document_type)&&(u.document_number=t.document_number,u.expiry_date=t.expiry_date||null),t.document_type==="tachograph"&&(u.last_check=t.last_check||null,u.next_check=t.next_check||null),t.document_type==="fine"&&(u.description=t.description,u.value=parseFloat(t.value)||0,u.issue_date=t.issue_date||null,u.paid=t.paid),t.document_type==="cnh"&&(u.driver_name=t.driver_name,u.driver_cpf=t.driver_cpf,u.document_number=t.document_number,u.cnh_category=t.cnh_category,u.expiry_date=t.expiry_date||null),t.document_type==="crlv"&&(u.year=t.year,u.paid=t.paid),i){const{error:D}=await L.from("vehicle_documents").update(u).eq("id",i.id);if(D)throw D;j.success("Documento atualizado!")}else{const{error:D}=await L.from("vehicle_documents").insert(u);if(D)throw D;j.success("Documento criado!")}p==null||p(),n(!1)}catch(f){console.error("Erro:",f),j.error(f.message||"Erro ao salvar documento")}finally{l(!1)}},x=()=>{switch(t.document_type){case"chemical":return e.jsx(e.Fragment,{children:e.jsxs("div",{"trae-inspector-start-line":"152","trae-inspector-start-column":"12","trae-inspector-end-line":"169","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"153","trae-inspector-start-column":"14","trae-inspector-end-line":"160","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Tipo de Documento"}),e.jsx(y,{value:t.document_category,onChange:a=>r({...t,document_category:a.target.value}),placeholder:"Ex: FISPQ, Certificado ONU"})]}),e.jsxs("div",{"trae-inspector-start-line":"161","trae-inspector-start-column":"14","trae-inspector-end-line":"168","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Validade"}),e.jsx(y,{type:"date",value:t.expiry_date,onChange:a=>r({...t,expiry_date:a.target.value})})]})]})});case"civ":case"cipp":return e.jsx(e.Fragment,{children:e.jsxs("div",{"trae-inspector-start-line":"177","trae-inspector-start-column":"12","trae-inspector-end-line":"196","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"178","trae-inspector-start-column":"14","trae-inspector-end-line":"186","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Número do Documento *"}),e.jsx(y,{required:!0,value:t.document_number,onChange:a=>r({...t,document_number:a.target.value}),placeholder:`Ex: ${t.document_type.toUpperCase()}-123456`})]}),e.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"14","trae-inspector-end-line":"195","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Validade *"}),e.jsx(y,{required:!0,type:"date",value:t.expiry_date,onChange:a=>r({...t,expiry_date:a.target.value})})]})]})});case"tachograph":return e.jsx(e.Fragment,{children:e.jsxs("div",{"trae-inspector-start-line":"203","trae-inspector-start-column":"12","trae-inspector-end-line":"220","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"204","trae-inspector-start-column":"14","trae-inspector-end-line":"211","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Última Verificação"}),e.jsx(y,{type:"date",value:t.last_check,onChange:a=>r({...t,last_check:a.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"212","trae-inspector-start-column":"14","trae-inspector-end-line":"219","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Próxima Verificação"}),e.jsx(y,{type:"date",value:t.next_check,onChange:a=>r({...t,next_check:a.target.value})})]})]})});case"fine":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{"trae-inspector-start-line":"227","trae-inspector-start-column":"12","trae-inspector-end-line":"247","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"14","trae-inspector-end-line":"236","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Descrição da Multa *"}),e.jsx(y,{required:!0,value:t.description,onChange:a=>r({...t,description:a.target.value}),placeholder:"Ex: Excesso de Velocidade"})]}),e.jsxs("div",{"trae-inspector-start-line":"237","trae-inspector-start-column":"14","trae-inspector-end-line":"246","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Valor (R$) *"}),e.jsx(y,{required:!0,type:"number",step:"0.01",value:t.value,onChange:a=>r({...t,value:a.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"248","trae-inspector-start-column":"12","trae-inspector-end-line":"267","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"249","trae-inspector-start-column":"14","trae-inspector-end-line":"256","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Data da Infração"}),e.jsx(y,{type:"date",value:t.issue_date,onChange:a=>r({...t,issue_date:a.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"257","trae-inspector-start-column":"14","trae-inspector-end-line":"266","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2 pt-8",children:[e.jsx("input",{"trae-inspector-start-line":"258","trae-inspector-start-column":"16","trae-inspector-end-line":"264","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",type:"checkbox",id:"paid",checked:t.paid,onChange:a=>r({...t,paid:a.target.checked}),className:"w-4 h-4"}),e.jsx(C,{htmlFor:"paid",children:"Multa Paga"})]})]})]});case"cnh":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{"trae-inspector-start-line":"274","trae-inspector-start-column":"12","trae-inspector-end-line":"292","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"14","trae-inspector-end-line":"282","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Nome do Motorista *"}),e.jsx(y,{required:!0,value:t.driver_name,onChange:a=>r({...t,driver_name:a.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"283","trae-inspector-start-column":"14","trae-inspector-end-line":"291","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"CPF *"}),e.jsx(y,{required:!0,value:t.driver_cpf,onChange:a=>r({...t,driver_cpf:a.target.value}),placeholder:"000.000.000-00"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"293","trae-inspector-start-column":"12","trae-inspector-end-line":"326","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"294","trae-inspector-start-column":"14","trae-inspector-end-line":"301","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Número CNH *"}),e.jsx(y,{required:!0,value:t.document_number,onChange:a=>r({...t,document_number:a.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"302","trae-inspector-start-column":"14","trae-inspector-end-line":"316","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Categoria *"}),e.jsxs(R,{value:t.cnh_category,onValueChange:a=>r({...t,cnh_category:a}),children:[e.jsx(q,{children:e.jsx(O,{placeholder:"Selecione"})}),e.jsxs(H,{children:[e.jsx(v,{value:"A",children:"A"}),e.jsx(v,{value:"B",children:"B"}),e.jsx(v,{value:"C",children:"C"}),e.jsx(v,{value:"D",children:"D"}),e.jsx(v,{value:"E",children:"E"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"317","trae-inspector-start-column":"14","trae-inspector-end-line":"325","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Validade *"}),e.jsx(y,{required:!0,type:"date",value:t.expiry_date,onChange:a=>r({...t,expiry_date:a.target.value})})]})]})]});case"crlv":return e.jsx(e.Fragment,{children:e.jsxs("div",{"trae-inspector-start-line":"333","trae-inspector-start-column":"12","trae-inspector-end-line":"353","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"334","trae-inspector-start-column":"14","trae-inspector-end-line":"342","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Ano *"}),e.jsx(y,{required:!0,type:"number",value:t.year,onChange:a=>r({...t,year:parseInt(a.target.value)})})]}),e.jsxs("div",{"trae-inspector-start-line":"343","trae-inspector-start-column":"14","trae-inspector-end-line":"352","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2 pt-8",children:[e.jsx("input",{"trae-inspector-start-line":"344","trae-inspector-start-column":"16","trae-inspector-end-line":"350","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",type:"checkbox",id:"crlv-paid",checked:t.paid,onChange:a=>r({...t,paid:a.target.checked}),className:"w-4 h-4"}),e.jsx(C,{htmlFor:"crlv-paid",children:"CRLV Pago"})]})]})});case"fire_extinguisher":return e.jsx(e.Fragment,{children:e.jsxs("div",{"trae-inspector-start-line":"360","trae-inspector-start-column":"12","trae-inspector-end-line":"378","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"361","trae-inspector-start-column":"14","trae-inspector-end-line":"368","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Extintor Cabine - Validade"}),e.jsx(y,{type:"date",value:t.expiry_date,onChange:a=>r({...t,expiry_date:a.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"369","trae-inspector-start-column":"14","trae-inspector-end-line":"377","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Observações (Extintores 1 e 2)"}),e.jsx(J,{value:t.notes,onChange:a=>r({...t,notes:a.target.value}),placeholder:"Ex: EXT 01: 30/05/2025, EXT 02: NA",rows:3})]})]})});case"ibama_ctf":case"ibama_aatipp":return e.jsx(e.Fragment,{children:e.jsxs("div",{"trae-inspector-start-line":"386","trae-inspector-start-column":"12","trae-inspector-end-line":"404","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"387","trae-inspector-start-column":"14","trae-inspector-end-line":"395","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Validade *"}),e.jsx(y,{required:!0,type:"date",value:t.expiry_date,onChange:a=>r({...t,expiry_date:a.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"396","trae-inspector-start-column":"14","trae-inspector-end-line":"403","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Número/Certificado"}),e.jsx(y,{value:t.document_number,onChange:a=>r({...t,document_number:a.target.value}),placeholder:"Número do certificado IBAMA"})]})]})});case"antt":return e.jsx(e.Fragment,{children:e.jsxs("div",{"trae-inspector-start-line":"411","trae-inspector-start-column":"12","trae-inspector-end-line":"429","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"412","trae-inspector-start-column":"14","trae-inspector-end-line":"420","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Número ANTT *"}),e.jsx(y,{required:!0,value:t.document_number,onChange:a=>r({...t,document_number:a.target.value}),placeholder:"Ex: 054309677"})]}),e.jsxs("div",{"trae-inspector-start-line":"421","trae-inspector-start-column":"14","trae-inspector-end-line":"428","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Data de Validade"}),e.jsx(y,{type:"date",value:t.expiry_date,onChange:a=>r({...t,expiry_date:a.target.value})})]})]})});case"opacity_test":case"noise_test":return e.jsx(e.Fragment,{children:e.jsxs("div",{"trae-inspector-start-line":"437","trae-inspector-start-column":"12","trae-inspector-end-line":"455","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"438","trae-inspector-start-column":"14","trae-inspector-end-line":"445","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Data do Teste"}),e.jsx(y,{type:"date",value:t.issue_date,onChange:a=>r({...t,issue_date:a.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"446","trae-inspector-start-column":"14","trae-inspector-end-line":"454","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Validade *"}),e.jsx(y,{required:!0,type:"date",value:t.expiry_date,onChange:a=>r({...t,expiry_date:a.target.value})})]})]})});default:return null}};return e.jsx(ae,{open:s,onOpenChange:n,children:e.jsxs(se,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ne,{children:e.jsxs(ce,{children:[i?"Editar":"Novo"," Documento"]})}),e.jsxs("form",{"trae-inspector-start-line":"471","trae-inspector-start-column":"8","trae-inspector-end-line":"549","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"472","trae-inspector-start-column":"10","trae-inspector-end-line":"511","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"473","trae-inspector-start-column":"12","trae-inspector-end-line":"481","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Placa do Veículo *"}),e.jsx(Oe,{required:!0,value:t.vehicle_plate,onChange:a=>r({...t,vehicle_plate:a}),placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"483","trae-inspector-start-column":"12","trae-inspector-end-line":"510","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Tipo de Documento *"}),e.jsxs(R,{required:!0,value:t.document_type,onValueChange:a=>r({...t,document_type:a}),disabled:!!c,children:[e.jsx(q,{children:e.jsx(O,{placeholder:"Selecione o tipo"})}),e.jsxs(H,{children:[e.jsx(v,{value:"chemical",children:"Químicos"}),e.jsx(v,{value:"civ",children:"CIV"}),e.jsx(v,{value:"cipp",children:"CIPP"}),e.jsx(v,{value:"tachograph",children:"Tacógrafo"}),e.jsx(v,{value:"fire_extinguisher",children:"Extintor"}),e.jsx(v,{value:"ibama_ctf",children:"IBAMA CTF"}),e.jsx(v,{value:"ibama_aatipp",children:"IBAMA AATIPP"}),e.jsx(v,{value:"antt",children:"ANTT"}),e.jsx(v,{value:"opacity_test",children:"Teste Opacidade"}),e.jsx(v,{value:"noise_test",children:"Teste Ruído"}),e.jsx(v,{value:"fine",children:"Multa"}),e.jsx(v,{value:"cnh",children:"CNH"}),e.jsx(v,{value:"crlv",children:"CRLV"})]})]})]})]}),x(),e.jsxs("div",{"trae-inspector-start-line":"515","trae-inspector-start-column":"10","trae-inspector-end-line":"528","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Status"}),e.jsxs(R,{value:t.status,onValueChange:a=>r({...t,status:a}),children:[e.jsx(q,{children:e.jsx(O,{})}),e.jsxs(H,{children:[e.jsx(v,{value:"valid",children:"Válido"}),e.jsx(v,{value:"expiring",children:"Vencendo"}),e.jsx(v,{value:"expired",children:"Vencido"}),e.jsx(v,{value:"pending",children:"Pendente"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"530","trae-inspector-start-column":"10","trae-inspector-end-line":"538","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(C,{children:"Observações"}),e.jsx(J,{value:t.notes,onChange:a=>r({...t,notes:a.target.value}),placeholder:"Informações adicionais...",rows:3})]}),e.jsxs("div",{"trae-inspector-start-line":"540","trae-inspector-start-column":"10","trae-inspector-end-line":"548","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(A,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),e.jsxs(A,{type:"submit",disabled:o,children:[o&&e.jsx(Qe,{className:"mr-2 h-4 w-4 animate-spin"}),i?"Atualizar":"Criar"]})]})]})]})})}function st({open:s,onOpenChange:n,preview:i,onConfirm:c,isLoading:p}){if(!i)return null;const o=r=>{const m={valid:{variant:"default",icon:pe,label:"Válido",className:"bg-success/10 text-success hover:bg-success/20"},expiring:{variant:"secondary",icon:le,label:"Vencendo",className:"bg-warning/10 text-warning hover:bg-warning/20"},expired:{variant:"destructive",icon:oe,label:"Vencido",className:"bg-destructive/10 text-destructive hover:bg-destructive/20"},pending:{variant:"outline",icon:F,label:"Pendente",className:"bg-muted/50"}},x=m[r]||m.pending,a=x.icon;return e.jsxs(ee,{variant:x.variant,className:x.className,children:[e.jsx(a,{className:"w-3 h-3 mr-1"}),x.label]})},l={valid:i.documents.filter(r=>r.status==="valid").length,expiring:i.documents.filter(r=>r.status==="expiring").length,expired:i.documents.filter(r=>r.status==="expired").length,pending:i.documents.filter(r=>r.status==="pending").length},t=[...new Set(i.documents.map(r=>r.plate))];return e.jsx(ae,{open:s,onOpenChange:n,children:e.jsxs(se,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs(ne,{children:[e.jsx(ce,{children:"Preview da Importação"}),e.jsx(He,{children:"Revise os dados antes de confirmar a importação"})]}),e.jsxs("div",{"trae-inspector-start-line":"78","trae-inspector-start-column":"8","trae-inspector-end-line":"146","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{"trae-inspector-start-line":"80","trae-inspector-start-column":"10","trae-inspector-end-line":"97","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"81","trae-inspector-start-column":"12","trae-inspector-end-line":"84","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 rounded-lg border bg-card",children:[e.jsx("div",{"trae-inspector-start-line":"82","trae-inspector-start-column":"14","trae-inspector-end-line":"82","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculos%22%2C%22textStartLine%22%3A%2282%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%2282%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Veículos"}),e.jsx("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"14","trae-inspector-end-line":"83","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:t.length})]}),e.jsxs("div",{"trae-inspector-start-line":"85","trae-inspector-start-column":"12","trae-inspector-end-line":"88","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 rounded-lg border bg-card",children:[e.jsx("div",{"trae-inspector-start-line":"86","trae-inspector-start-column":"14","trae-inspector-end-line":"86","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Documentos%22%2C%22textStartLine%22%3A%2286%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%2286%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Documentos"}),e.jsx("div",{"trae-inspector-start-line":"87","trae-inspector-start-column":"14","trae-inspector-end-line":"87","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:i.totalDocuments})]}),e.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"12","trae-inspector-end-line":"92","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 rounded-lg border bg-card",children:[e.jsx("div",{"trae-inspector-start-line":"90","trae-inspector-start-column":"14","trae-inspector-end-line":"90","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22V%C3%A1lidos%22%2C%22textStartLine%22%3A%2290%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%2290%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Válidos"}),e.jsx("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"14","trae-inspector-end-line":"91","trae-inspector-end-column":"89","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold text-success",children:l.valid})]}),e.jsxs("div",{"trae-inspector-start-line":"93","trae-inspector-start-column":"12","trae-inspector-end-line":"96","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 rounded-lg border bg-card",children:[e.jsx("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"14","trae-inspector-end-line":"94","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Vencidos%22%2C%22textStartLine%22%3A%2294%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%2294%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Vencidos"}),e.jsx("div",{"trae-inspector-start-line":"95","trae-inspector-start-column":"14","trae-inspector-end-line":"95","trae-inspector-end-column":"95","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold text-destructive",children:l.expired})]})]}),i.warnings.length>0&&e.jsxs(Ge,{variant:"destructive",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsxs(Ye,{children:[e.jsx("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"16","trae-inspector-end-line":"104","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Avisos%20encontrados%3A%22%2C%22textStartLine%22%3A%22104%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22104%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold mb-2",children:"Avisos encontrados:"}),e.jsx(Z,{className:"h-24",children:e.jsx("ul",{"trae-inspector-start-line":"106","trae-inspector-start-column":"18","trae-inspector-end-line":"110","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm space-y-1",children:i.warnings.map((r,m)=>e.jsxs("li",{"trae-inspector-start-line":"108","trae-inspector-start-column":"22","trae-inspector-end-line":"108","trae-inspector-end-column":"52","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["• ",r]},m))})})]})]}),e.jsx("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"10","trae-inspector-end-line":"145","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\documents\\\\DocumentPreviewDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 overflow-hidden border rounded-lg",children:e.jsx(Z,{className:"h-full",children:e.jsxs(te,{children:[e.jsx(re,{children:e.jsxs(I,{children:[e.jsx(_,{children:"Placa"}),e.jsx(_,{children:"Documento"}),e.jsx(_,{children:"Vencimento"}),e.jsx(_,{children:"Status"})]})}),e.jsx(ie,{children:i.documents.map((r,m)=>e.jsxs(I,{children:[e.jsx(b,{className:"font-mono",children:r.plate}),e.jsx(b,{children:r.document_type}),e.jsx(b,{children:r.expiry_date?new Date(r.expiry_date).toLocaleDateString("pt-BR"):"-"}),e.jsx(b,{children:o(r.status)})]},m))})]})})})]}),e.jsxs(ze,{children:[e.jsx(A,{variant:"outline",onClick:()=>n(!1),disabled:p,children:"Cancelar"}),e.jsx(A,{onClick:c,disabled:p,children:p?"Importando...":"Confirmar Importação"})]})]})})}function nt(s,n=[]){let i=[];function c(o,l){const t=h.createContext(l);t.displayName=o+"Context";const r=i.length;i=[...i,l];const m=a=>{var N;const{scope:f,children:u,...D}=a,B=((N=f==null?void 0:f[s])==null?void 0:N[r])||t,P=h.useMemo(()=>D,Object.values(D));return e.jsx(B.Provider,{value:P,children:u})};m.displayName=o+"Provider";function x(a,f){var B;const u=((B=f==null?void 0:f[s])==null?void 0:B[r])||t,D=h.useContext(u);if(D)return D;if(l!==void 0)return l;throw new Error(`\`${a}\` must be used within \`${o}\``)}return[m,x]}const p=()=>{const o=i.map(l=>h.createContext(l));return function(t){const r=(t==null?void 0:t[s])||o;return h.useMemo(()=>({[`__scope${s}`]:{...t,[s]:r}}),[t,r])}};return p.scopeName=s,[c,ct(p,...n)]}function ct(...s){const n=s[0];if(s.length===1)return n;const i=()=>{const c=s.map(p=>({useScope:p(),scopeName:p.scopeName}));return function(o){const l=c.reduce((t,{useScope:r,scopeName:m})=>{const a=r(o)[`__scope${m}`];return{...t,...a}},{});return h.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return i.scopeName=n.scopeName,i}var ot=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=ot.reduce((s,n)=>{const i=Le(`Primitive.${n}`),c=h.forwardRef((p,o)=>{const{asChild:l,...t}=p,r=l?i:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(r,{...t,ref:o})});return c.displayName=`Primitive.${n}`,{...s,[n]:c}},{}),Q="Progress",G=100,[lt]=nt(Q),[pt,dt]=lt(Q),me=h.forwardRef((s,n)=>{const{__scopeProgress:i,value:c=null,max:p,getValueLabel:o=mt,...l}=s;(p||p===0)&&!K(p)&&console.error(Ct(`${p}`,"Progress"));const t=K(p)?p:G;c!==null&&!W(c,t)&&console.error(ut(`${c}`,"Progress"));const r=W(c,t)?c:null,m=k(r)?o(r,t):void 0;return e.jsx(pt,{scope:i,value:r,max:t,children:e.jsx(de.div,{"aria-valuemax":t,"aria-valuemin":0,"aria-valuenow":k(r)?r:void 0,"aria-valuetext":m,role:"progressbar","data-state":xe(r,t),"data-value":r??void 0,"data-max":t,...l,ref:n})})});me.displayName=Q;var Ce="ProgressIndicator",ue=h.forwardRef((s,n)=>{const{__scopeProgress:i,...c}=s,p=dt(Ce,i);return e.jsx(de.div,{"data-state":xe(p.value,p.max),"data-value":p.value??void 0,"data-max":p.max,...c,ref:n})});ue.displayName=Ce;function mt(s,n){return`${Math.round(s/n*100)}%`}function xe(s,n){return s==null?"indeterminate":s===n?"complete":"loading"}function k(s){return typeof s=="number"}function K(s){return k(s)&&!isNaN(s)&&s>0}function W(s,n){return k(s)&&!isNaN(s)&&s<=n&&s>=0}function Ct(s,n){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${G}\`.`}function ut(s,n){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${G} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ge=me,xt=ue;const he=h.forwardRef(({className:s,value:n,...i},c)=>e.jsx(ge,{ref:c,className:Be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...i,children:e.jsx(xt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));he.displayName=ge.displayName;function Y(s){if(!s||s==="NA"||s==="N/A"||s==="")return null;try{const n=s.trim(),i=[/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,/^(\d{1,2})-(\d{1,2})-(\d{4})$/,/^(\d{4})-(\d{1,2})-(\d{1,2})$/];for(const c of i){const p=n.match(c);if(p){let o,l,t;if(c===i[2])[,o,l,t]=p.map(Number);else{const[,m,x,a]=p;o=parseInt(a),parseInt(m)>12?(t=parseInt(m),l=parseInt(x)):(parseInt(x)>12,l=parseInt(m),t=parseInt(x))}if(l<1||l>12||t<1||t>31)return console.warn(`Invalid date values: ${n}`),null;const r=new Date(o,l-1,t);return r.getFullYear()!==o||r.getMonth()!==l-1||r.getDate()!==t?(console.warn(`Invalid date: ${n}`),null):`${o}-${String(l).padStart(2,"0")}-${String(t).padStart(2,"0")}`}}return console.warn(`Unrecognized date format: ${n}`),null}catch(n){return console.error(`Error parsing date "${s}":`,n),null}}function ve(s){if(!s)return"pending";const n=new Date,i=new Date(s);return i<n?"expired":Math.floor((i.getTime()-n.getTime())/(1e3*60*60*24))<=30?"expiring":"valid"}function gt(s,n){const i=[];return!s||s==="NA"||s==="N/A"?{valid:!0,warnings:i}:Y(s)?{valid:!0,warnings:i}:(i.push(`${n}: formato de data inválido (${s})`),{valid:!1,warnings:i})}const $=[{plate:"FYB-2J16",anttExpiry:"10/31/2025",crlvExpiry:"10/31/2025",civExpiry:"10/05/2029",cippExpiry:"10/05/2029",tacografExpiry:"01/03/2027",extinguisherExpiry:"06/01/2025",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"10/24/2025",noiseExpiry:"10/24/2025",chemicalExpiry:"10/24/2025"},{plate:"FYB-0F07",anttExpiry:"10/31/2025",crlvExpiry:"10/31/2025",civExpiry:"10/05/2029",cippExpiry:"10/05/2029",tacografExpiry:"01/03/2027",extinguisherExpiry:"06/01/2025",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"10/24/2025",noiseExpiry:"10/24/2025",chemicalExpiry:"10/24/2025"},{plate:"PFB-2A13",anttExpiry:"09/06/2026",crlvExpiry:"2025",civExpiry:"04/17/2025",cippExpiry:"05/07/2025",tacografExpiry:"02/05/2027",extinguisherExpiry:"06/01/2029",ctfExpiry:"05/07/2025",aatippExpiry:"04/14/2025",opacityExpiry:"04/17/2025",noiseExpiry:"04/17/2025"},{plate:"RCP-3F78",anttExpiry:"05/31/2025",crlvExpiry:"2025",civExpiry:"06/12/2025",cippExpiry:"06/12/2025",tacografExpiry:"06/10/2026",extinguisherExpiry:"06/01/2025",ctfExpiry:"05/07/2025",aatippExpiry:"04/14/2025",opacityExpiry:"06/12/2025",noiseExpiry:"06/12/2025"},{plate:"PES-6F45",anttExpiry:"05/31/2025",crlvExpiry:"2025",civExpiry:"09/07/2025",tacografExpiry:"02/16/2027",extinguisherExpiry:"12/31/2024",ctfExpiry:"05/07/2025",aatippExpiry:"04/14/2025",opacityExpiry:"03/23/2025",noiseExpiry:"03/23/2025"},{plate:"QQN-8J78",anttExpiry:"05/31/2025",crlvExpiry:"2025",civExpiry:"07/22/2025",tacografExpiry:"07/20/2025",extinguisherExpiry:"01/30/2025",ctfExpiry:"05/07/2025",aatippExpiry:"04/14/2025",opacityExpiry:"07/22/2025",noiseExpiry:"07/22/2025"},{plate:"SNO-6F99",anttExpiry:"05/31/2025",crlvExpiry:"2025",civExpiry:"12/04/2025",tacografExpiry:"09/12/2025",extinguisherExpiry:"06/30/2028",ctfExpiry:"11/11/2025",aatippExpiry:"11/11/2025",opacityExpiry:"12/04/2025",noiseExpiry:"12/04/2025"},{plate:"QIZ-3E10",anttExpiry:"05/31/2025",crlvExpiry:"2025",civExpiry:"02/25/2026",tacografExpiry:"03/11/2026",extinguisherExpiry:"12/31/2027",ctfExpiry:"11/05/2025",aatippExpiry:"12/08/2025",opacityExpiry:"02/25/2026",noiseExpiry:"02/25/2026"},{plate:"SOC-0G05",anttExpiry:"05/31/2025",crlvExpiry:"2025",civExpiry:"06/11/2026",tacografExpiry:"07/01/2026",extinguisherExpiry:"06/30/2029",ctfExpiry:"11/11/2025",aatippExpiry:"12/08/2025",opacityExpiry:"06/11/2026",noiseExpiry:"06/11/2026"},{plate:"EGJ-4B71",anttExpiry:"05/31/2025",crlvExpiry:"2025",civExpiry:"12/09/2025",cippExpiry:"12/09/2025",tacografExpiry:"02/11/2027",extinguisherExpiry:"06/30/2027",ctfExpiry:"11/11/2025",aatippExpiry:"12/08/2025",opacityExpiry:"12/09/2025",noiseExpiry:"12/09/2025"},{plate:"IFW-4A83",anttExpiry:"02/28/2025",crlvExpiry:"02/29/2025",civExpiry:"03/24/2029",cippExpiry:"03/24/2029",tacografExpiry:"03/28/2027",extinguisherExpiry:"08/01/2025",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"08/07/2025",noiseExpiry:"08/07/2025",chemicalExpiry:"08/07/2025",cnhExpiry:"02/25/2027"},{plate:"GXQ-5738",anttExpiry:"05/31/2025",crlvExpiry:"05/31/2025",civExpiry:"05/27/2025",cippExpiry:"05/27/2025",tacografExpiry:"06/03/2027",extinguisherExpiry:"11/01/2025",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"11/11/2025",noiseExpiry:"11/11/2025",chemicalExpiry:"11/11/2025",cnhExpiry:"03/04/2027"},{plate:"SID-7730",anttExpiry:"08/31/2025",crlvExpiry:"08/31/2025",civExpiry:"08/01/2027",cippExpiry:"08/01/2027",tacografExpiry:"08/27/2026",extinguisherExpiry:"02/01/2026",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"02/13/2026",noiseExpiry:"02/13/2026",chemicalExpiry:"02/13/2026",cnhExpiry:"09/23/2029"},{plate:"IEO-0I34",anttExpiry:"11/30/2025",crlvExpiry:"11/30/2025",civExpiry:"11/12/2029",cippExpiry:"11/12/2029",tacografExpiry:"11/14/2026",extinguisherExpiry:"05/01/2026",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"05/19/2026",noiseExpiry:"05/19/2026",chemicalExpiry:"05/19/2026",cnhExpiry:"08/16/2027"},{plate:"RLO-8I70",anttExpiry:"02/28/2026",crlvExpiry:"02/28/2026",civExpiry:"02/10/2028",cippExpiry:"02/10/2028",tacografExpiry:"02/12/2027",extinguisherExpiry:"08/01/2026",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"08/13/2026",noiseExpiry:"08/13/2026",chemicalExpiry:"08/13/2026",cnhExpiry:"05/22/2030"},{plate:"RZY-7A41",anttExpiry:"05/31/2026",crlvExpiry:"05/31/2026",civExpiry:"05/20/2028",cippExpiry:"05/20/2028",tacografExpiry:"05/21/2027",extinguisherExpiry:"11/01/2026",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"11/14/2026",noiseExpiry:"11/14/2026",chemicalExpiry:"11/14/2026",cnhExpiry:"07/09/2027"},{plate:"SBN-7A97",anttExpiry:"08/31/2026",crlvExpiry:"08/31/2026",civExpiry:"08/23/2028",cippExpiry:"08/23/2028",tacografExpiry:"08/24/2027",extinguisherExpiry:"02/01/2027",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"02/16/2027",noiseExpiry:"02/16/2027",chemicalExpiry:"02/16/2027",cnhExpiry:"12/08/2027"},{plate:"SKT-5H25",anttExpiry:"11/30/2026",crlvExpiry:"11/30/2026",civExpiry:"11/25/2028",cippExpiry:"11/25/2028",tacografExpiry:"11/27/2027",extinguisherExpiry:"05/01/2027",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"05/20/2027",noiseExpiry:"05/20/2027",chemicalExpiry:"05/20/2027",cnhExpiry:"03/15/2028"},{plate:"RWV-4H15",anttExpiry:"02/28/2027",crlvExpiry:"02/28/2027",civExpiry:"02/16/2029",cippExpiry:"02/16/2029",tacografExpiry:"02/18/2028",extinguisherExpiry:"08/01/2027",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"08/22/2027",noiseExpiry:"08/22/2027",chemicalExpiry:"08/22/2027",cnhExpiry:"06/20/2028"},{plate:"RVN-6G05",anttExpiry:"05/31/2027",crlvExpiry:"05/31/2027",civExpiry:"05/19/2029",cippExpiry:"05/19/2029",tacografExpiry:"05/21/2028",extinguisherExpiry:"11/01/2027",ctfExpiry:"03/31/2025",aatippExpiry:"12/31/2024",opacityExpiry:"11/23/2027",noiseExpiry:"11/23/2027",chemicalExpiry:"11/23/2027",cnhExpiry:"09/25/2028"}];async function ht(){const s=[],n=[];let i=0;for(const c of $){const p=[],o=[{type:"ANTT",date:c.anttExpiry},{type:"CRLV",date:c.crlvExpiry},{type:"CIV",date:c.civExpiry},{type:"CIPP",date:c.cippExpiry},{type:"Tacógrafo",date:c.tacografExpiry},{type:"Extintores",date:c.extinguisherExpiry},{type:"IBAMA CTF",date:c.ctfExpiry},{type:"IBAMA AATIPP",date:c.aatippExpiry},{type:"Opacidade",date:c.opacityExpiry},{type:"Ruído",date:c.noiseExpiry},{type:"Químicos",date:c.chemicalExpiry},{type:"CNH",date:c.cnhExpiry}];for(const{type:l,date:t}of o){const r=gt(t,l);if(p.push(...r.warnings),t&&t!=="NA"){const m=Y(t),x=ve(m);s.push({plate:c.plate,document_type:l,expiry_date:m,status:x,warnings:r.warnings}),i++}}p.length>0&&n.push(`${c.plate}: ${p.join(", ")}`)}return{documents:s,warnings:n,totalDocuments:i}}async function vt(s=!1){const{data:{user:n}}=await L.auth.getUser();if(!n)throw new Error("Usuário não autenticado");console.log("Iniciando importação para usuário:",n.email);let i=0,c=0;const p=[];for(const o of $)try{const l=[],t=[{type:"ANTT",date:o.anttExpiry},{type:"CRLV",date:o.crlvExpiry},{type:"CIV",date:o.civExpiry},{type:"CIPP",date:o.cippExpiry},{type:"Tacógrafo",date:o.tacografExpiry},{type:"Extintores",date:o.extinguisherExpiry},{type:"IBAMA CTF",date:o.ctfExpiry},{type:"IBAMA AATIPP",date:o.aatippExpiry},{type:"Opacidade",date:o.opacityExpiry},{type:"Ruído",date:o.noiseExpiry},{type:"Químicos",date:o.chemicalExpiry},{type:"CNH",date:o.cnhExpiry}];for(const{type:r,date:m}of t)if(m&&m!=="NA"){const x=Y(m);x&&l.push({vehicle_plate:o.plate,document_type:r,expiry_date:x,status:ve(x),created_by:n.id})}if(l.length>0&&!s){console.log(`Importando ${l.length} documentos para veículo ${o.plate}`);const{error:r}=await L.from("vehicle_documents").insert(l);r?(console.error(`❌ Erro ao importar documentos do veículo ${o.plate}:`,r),p.push(`${o.plate}: ${r.message}`),c++):(console.log(`✅ Importados ${l.length} documentos do veículo ${o.plate}`),i++)}else l.length>0&&s&&i++}catch(l){console.error(`❌ Erro ao processar veículo ${o.plate}:`,l),p.push(`${o.plate}: ${l.message}`),c++}return console.log("Importação concluída:",{imported:i,errors:c,total:$.length}),p.length>0&&console.error("Detalhes dos erros:",p),{imported:i,errors:c,total:$.length,errorDetails:p}}const Kt=()=>{const[s,n]=h.useState(""),[i,c]=h.useState([]),[p,o]=h.useState(!1),[l,t]=h.useState(null),[r,m]=h.useState(""),[x,a]=h.useState(!1),[f,u]=h.useState(!1),[D,B]=h.useState(null),[P,N]=h.useState(0);h.useEffect(()=>{M()},[]);const M=async()=>{const{data:d}=await L.from("vehicle_documents").select("*").order("created_at",{ascending:!1});c(d||[])},ye=async d=>{confirm("Deseja excluir?")&&(await L.from("vehicle_documents").delete().eq("id",d),j.success("Documento excluído!"),M())},fe=d=>{t(d),m(""),o(!0)},De=d=>{t(null),m(d),o(!0)},we=async()=>{a(!0);try{const d=await ht();B(d),u(!0)}catch(d){j.error("Erro ao gerar preview: "+d.message)}finally{a(!1)}},Ee=async()=>{a(!0),N(0);try{const d=setInterval(()=>{N(w=>w>=90?(clearInterval(d),w):w+10)},200),g=await vt(!1);clearInterval(d),N(100),g.errors>0?j.error(`Importados ${g.imported} de ${g.total} veículos. ${g.errors} erros encontrados.`,{duration:5e3}):j.success(`✅ Importados todos os ${g.imported} veículos com sucesso!`),u(!1),await M()}catch(d){j.error("Erro ao importar: "+d.message)}finally{a(!1),N(0)}},U=d=>i.filter(g=>{var w;return g.document_type===d&&(s===""||((w=g.vehicle_plate)==null?void 0:w.toLowerCase().includes(s.toLowerCase())))}),S=(()=>{const d=new Date,g=new Date(d.getTime()+720*60*60*1e3),w=i.filter(E=>E.expiry_date&&new Date(E.expiry_date)>d&&new Date(E.expiry_date)<=g).length,T=U("Multas").filter(E=>!E.paid),je=T.reduce((E,Ne)=>E+(Ne.value||0),0),Ae=U("CNH").filter(E=>E.status==="valid").length,_e=U("CRLV").filter(E=>E.paid).length;return{expiring:w,pendingFines:T.length,finesValue:je,validCNHs:Ae,paidCRLVs:_e}})(),be=d=>{const g={valid:{variant:"default",icon:pe,label:"Válido",className:"bg-success/10 text-success hover:bg-success/20"},expiring:{variant:"secondary",icon:le,label:"Vencendo",className:"bg-warning/10 text-warning hover:bg-warning/20"},expired:{variant:"destructive",icon:oe,label:"Vencido",className:"bg-destructive/10 text-destructive hover:bg-destructive/20"},pending:{variant:"outline",icon:F,label:"Pendente",className:"bg-muted/50"}},w=g[d]||g.pending,T=w.icon;return e.jsxs(ee,{variant:w.variant,className:w.className,children:[e.jsx(T,{className:"w-3 h-3 mr-1"}),w.label]})},X=["CRLV","CIV","CIPP","Tacógrafo","Extintores","IBAMA CTF","IBAMA AATIPP","ANTT","Opacidade","Ruído","Químicos","CNH","Multas"];return e.jsx(e.Fragment,{children:e.jsxs(Ue,{children:[e.jsxs("div",{"trae-inspector-start-line":"154","trae-inspector-start-column":"8","trae-inspector-end-line":"174","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mb-6",children:[e.jsx("h1",{"trae-inspector-start-line":"155","trae-inspector-start-column":"10","trae-inspector-end-line":"155","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gest%C3%A3o%20de%20Documentos%22%2C%22textStartLine%22%3A%22155%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%22155%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold mb-2",children:"Gestão de Documentos"}),e.jsx("p",{"trae-inspector-start-line":"156","trae-inspector-start-column":"10","trae-inspector-end-line":"156","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Controle%20de%20documentos%20por%20placa%22%2C%22textStartLine%22%3A%22156%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22156%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Controle de documentos por placa"}),e.jsx("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"10","trae-inspector-end-line":"173","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 mt-4",children:e.jsx(A,{onClick:we,disabled:x,variant:"outline",className:"gap-2",children:x?e.jsx(e.Fragment,{children:"Carregando..."}):e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"w-4 h-4"}),"Preview da Importação"]})})})]}),e.jsxs("div",{"trae-inspector-start-line":"176","trae-inspector-start-column":"8","trae-inspector-end-line":"197","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(V,{title:"Docs Vencendo",value:S.expiring,icon:F}),e.jsx(V,{title:"Multas Pendentes",value:S.pendingFines,icon:We}),e.jsx(V,{title:"CNHs Válidas",value:S.validCNHs,icon:Pe}),e.jsx(V,{title:"CRLVs Pagos",value:S.paidCRLVs,icon:tt})]}),e.jsxs(ke,{defaultValue:"CRLV",className:"w-full",children:[e.jsx(Me,{className:"grid grid-cols-7 lg:grid-cols-13 gap-1",children:X.map(d=>e.jsx(Re,{value:d,className:"text-xs px-2",children:d},d))}),X.map(d=>e.jsx(qe,{value:d,children:e.jsxs(Te,{children:[e.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),d]}),e.jsxs(A,{size:"sm",onClick:()=>De(d),children:[e.jsx(Ie,{className:"w-4 h-4 mr-1"})," Novo"]})]}),e.jsxs(Fe,{children:[e.jsx("div",{"trae-inspector-start-line":"221","trae-inspector-start-column":"18","trae-inspector-end-line":"231","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mb-4",children:e.jsxs("div",{"trae-inspector-start-line":"222","trae-inspector-start-column":"20","trae-inspector-end-line":"230","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(y,{placeholder:"Buscar por placa...",value:s,onChange:g=>n(g.target.value),className:"pl-10"})]})}),e.jsxs(te,{children:[e.jsx(re,{children:e.jsxs(I,{children:[e.jsx(_,{children:"Placa"}),e.jsx(_,{children:"Info"}),e.jsx(_,{children:"Status"}),e.jsx(_,{children:"Ações"})]})}),e.jsxs(ie,{children:[U(d).map(g=>e.jsxs(I,{children:[e.jsx(b,{className:"font-medium",children:g.vehicle_plate}),e.jsx(b,{children:g.expiry_date&&e.jsxs("span",{"trae-inspector-start-line":"247","trae-inspector-start-column":"30","trae-inspector-end-line":"249","trae-inspector-end-column":"37","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:["Vence: ",new Date(g.expiry_date).toLocaleDateString("pt-BR")]})}),e.jsx(b,{children:be(g.status)}),e.jsx(b,{children:e.jsxs("div",{"trae-inspector-start-line":"254","trae-inspector-start-column":"28","trae-inspector-end-line":"261","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(A,{variant:"outline",size:"sm",onClick:()=>fe(g),children:e.jsx(Je,{className:"w-4 h-4"})}),e.jsx(A,{variant:"destructive",size:"sm",onClick:()=>ye(g.id),children:e.jsx(Se,{className:"w-4 h-4"})})]})})]},g.id)),U(d).length===0&&e.jsx(I,{children:e.jsx(b,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"Nenhum documento encontrado"})})]})]})]})]})},d))]}),e.jsx(at,{open:p,onOpenChange:o,document:l,documentType:r}),e.jsx(st,{open:f,onOpenChange:u,preview:D,onConfirm:Ee,isLoading:x}),x&&P>0&&e.jsx("div",{"trae-inspector-start-line":"296","trae-inspector-start-column":"10","trae-inspector-end-line":"304","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"fixed bottom-4 right-4 w-80 p-4 bg-card border rounded-lg shadow-lg",children:e.jsxs("div",{"trae-inspector-start-line":"297","trae-inspector-start-column":"12","trae-inspector-end-line":"303","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"298","trae-inspector-start-column":"14","trae-inspector-end-line":"301","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between text-sm",children:[e.jsx("span",{"trae-inspector-start-line":"299","trae-inspector-start-column":"16","trae-inspector-end-line":"299","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Importando%20documentos...%22%2C%22textStartLine%22%3A%22299%22%2C%22textStartColumn%22%3A%2222%22%2C%22textEndLine%22%3A%22299%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Importando documentos..."}),e.jsxs("span",{"trae-inspector-start-line":"300","trae-inspector-start-column":"16","trae-inspector-end-line":"300","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\pages\\\\Documents.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-mono",children:[P,"%"]})]}),e.jsx(he,{value:P,className:"h-2"})]})})]})})};export{Kt as default};
