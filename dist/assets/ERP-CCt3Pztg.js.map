{"version":3,"file":"ERP-CCt3Pztg.js","sources":["../../node_modules/date-fns/addMonths.mjs","../../node_modules/date-fns/startOfMonth.mjs","../../node_modules/date-fns/subMonths.mjs","../../src/components/erp/PayrollSection.tsx","../../src/hooks/useFinancialData.ts","../../src/pages/ERP.tsx"],"sourcesContent":["import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date) {\n  const _date = toDate(date);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n","import { addMonths } from \"./addMonths.mjs\";\n\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be subtracted.\n *\n * @returns The new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function subMonths(date, amount) {\n  return addMonths(date, -amount);\n}\n\n// Fallback for modularized imports:\nexport default subMonths;\n","import { useState, useEffect } from \"react\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\nimport { Calculator, DollarSign, Eye, CheckCircle, FileText } from \"lucide-react\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\ninterface PayrollRecord {\r\n  id: string;\r\n  driver_id: string;\r\n  mes: number;\r\n  ano: number;\r\n  horas_normais: number;\r\n  horas_extras: number;\r\n  horas_espera: number;\r\n  valor_horas_normais: number;\r\n  valor_horas_extras: number;\r\n  valor_horas_espera: number;\r\n  salario_base: number;\r\n  total_valor_ctes: number;\r\n  total_combustivel: number;\r\n  base_calculo_gratificacao: number;\r\n  valor_gratificacao: number;\r\n  total_bruto: number;\r\n  total_liquido: number;\r\n  status: string;\r\n  data_pagamento: string | null;\r\n  profiles?: { full_name: string };\r\n}\r\n\r\nexport function PayrollSection() {\r\n  const { user } = useAuth();\r\n  const [payrolls, setPayrolls] = useState<PayrollRecord[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [calculating, setCalculating] = useState(false);\r\n  const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n\r\n  useEffect(() => {\r\n    loadPayrolls();\r\n  }, []);\r\n\r\n  const loadPayrolls = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data, error } = await (supabase as any)\r\n        .from(\"driver_payroll\")\r\n        .select(`\r\n          *,\r\n          profiles!driver_payroll_driver_id_fkey(full_name)\r\n        `)\r\n        .order(\"ano\", { ascending: false })\r\n        .order(\"mes\", { ascending: false });\r\n\r\n      if (error) throw error;\r\n      setPayrolls(data as any);\r\n    } catch (error) {\r\n      console.error(\"Erro ao carregar folhas:\", error);\r\n      toast.error(\"Erro ao carregar folhas de pagamento\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculatePayroll = async () => {\r\n    setCalculating(true);\r\n    try {\r\n      const { error } = await supabase.functions.invoke(\"calculate-driver-payroll\", {\r\n        body: {\r\n          mes: selectedMonth,\r\n          ano: selectedYear,\r\n        },\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Folha de pagamento calculada com sucesso!\");\r\n      loadPayrolls();\r\n    } catch (error) {\r\n      console.error(\"Erro ao calcular folha:\", error);\r\n      toast.error(\"Erro ao calcular folha de pagamento\");\r\n    } finally {\r\n      setCalculating(false);\r\n    }\r\n  };\r\n\r\n  const approvePayroll = async (payrollId: string) => {\r\n    try {\r\n      const { error } = await (supabase as any)\r\n        .from(\"driver_payroll\")\r\n        .update({\r\n          status: \"aprovado\",\r\n          aprovado_por: user?.id,\r\n          data_aprovacao: new Date().toISOString(),\r\n        })\r\n        .eq(\"id\", payrollId);\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Folha aprovada!\");\r\n      loadPayrolls();\r\n    } catch (error) {\r\n      console.error(\"Erro ao aprovar folha:\", error);\r\n      toast.error(\"Erro ao aprovar folha\");\r\n    }\r\n  };\r\n\r\n  const markAsPaid = async (payrollId: string) => {\r\n    try {\r\n      const { error } = await (supabase as any)\r\n        .from(\"driver_payroll\")\r\n        .update({\r\n          status: \"pago\",\r\n          data_pagamento: new Date().toISOString(),\r\n        })\r\n        .eq(\"id\", payrollId);\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Pagamento registrado!\");\r\n      loadPayrolls();\r\n    } catch (error) {\r\n      console.error(\"Erro ao registrar pagamento:\", error);\r\n      toast.error(\"Erro ao registrar pagamento\");\r\n    }\r\n  };\r\n\r\n  const formatMoney = (value: number) => {\r\n    return new Intl.NumberFormat(\"pt-BR\", {\r\n      style: \"currency\",\r\n      currency: \"BRL\",\r\n    }).format(value);\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const variants: Record<string, { variant: \"default\" | \"secondary\" | \"outline\"; label: string }> = {\r\n      calculado: { variant: \"secondary\", label: \"Calculado\" },\r\n      aprovado: { variant: \"default\", label: \"Aprovado\" },\r\n      pago: { variant: \"outline\", label: \"Pago\" },\r\n    };\r\n\r\n    const config = variants[status] || variants.calculado;\r\n    return <Badge variant={config.variant}>{config.label}</Badge>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Folha de Pagamento</h2>\r\n          <p className=\"text-muted-foreground\">Gestão de folhas e pagamentos de motoristas</p>\r\n        </div>\r\n        \r\n        <Dialog>\r\n          <DialogTrigger asChild>\r\n            <Button size=\"lg\">\r\n              <Calculator className=\"mr-2 h-5 w-5\" />\r\n              Calcular Folha\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent>\r\n            <DialogHeader>\r\n              <DialogTitle>Calcular Folha de Pagamento</DialogTitle>\r\n              <DialogDescription>\r\n                Selecione o período para calcular a folha de todos os motoristas\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label>Mês</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  max=\"12\"\r\n                  value={selectedMonth}\r\n                  onChange={(e) => setSelectedMonth(Number(e.target.value))}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Ano</Label>\r\n                <Input\r\n                  type=\"number\"\r\n                  min=\"2020\"\r\n                  max=\"2030\"\r\n                  value={selectedYear}\r\n                  onChange={(e) => setSelectedYear(Number(e.target.value))}\r\n                />\r\n              </div>\r\n\r\n              <Button\r\n                onClick={calculatePayroll}\r\n                disabled={calculating}\r\n                className=\"w-full\"\r\n              >\r\n                {calculating ? \"Calculando...\" : \"Calcular Folha\"}\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      {/* Estatísticas */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <DollarSign className=\"h-8 w-8 text-green-500\" />\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Total a Pagar</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {formatMoney(\r\n                  payrolls\r\n                    .filter((p) => p.status !== \"pago\")\r\n                    .reduce((sum, p) => sum + Number(p.total_liquido), 0)\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <FileText className=\"h-8 w-8 text-blue-500\" />\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Folhas Pendentes</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {payrolls.filter((p) => p.status === \"calculado\").length}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <CheckCircle className=\"h-8 w-8 text-purple-500\" />\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Aprovadas</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {payrolls.filter((p) => p.status === \"aprovado\").length}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <DollarSign className=\"h-8 w-8 text-gray-500\" />\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Pagas</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {payrolls.filter((p) => p.status === \"pago\").length}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabela de Folhas */}\r\n      <Card>\r\n        <div className=\"p-6\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Folhas de Pagamento</h3>\r\n          \r\n          {loading ? (\r\n            <div className=\"space-y-2\">\r\n              {[1, 2, 3].map((i) => (\r\n                <Skeleton key={i} className=\"h-12 w-full\" />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow>\r\n                  <TableHead>Motorista</TableHead>\r\n                  <TableHead>Período</TableHead>\r\n                  <TableHead>Salário Base</TableHead>\r\n                  <TableHead>Horas</TableHead>\r\n                  <TableHead>Gratificação</TableHead>\r\n                  <TableHead>Total Líquido</TableHead>\r\n                  <TableHead>Status</TableHead>\r\n                  <TableHead>Ações</TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {payrolls.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={8} className=\"text-center text-muted-foreground py-8\">\r\n                      Nenhuma folha calculada ainda\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  payrolls.map((payroll) => (\r\n                    <TableRow key={payroll.id}>\r\n                      <TableCell className=\"font-medium\">\r\n                        {payroll.profiles?.full_name || \"N/A\"}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {String(payroll.mes).padStart(2, \"0\")}/{payroll.ano}\r\n                      </TableCell>\r\n                      <TableCell>{formatMoney(Number(payroll.salario_base))}</TableCell>\r\n                      <TableCell>\r\n                        <div className=\"text-xs\">\r\n                          <div>Normais: {Number(payroll.horas_normais).toFixed(1)}h</div>\r\n                          <div>Extras: {Number(payroll.horas_extras).toFixed(1)}h</div>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell>{formatMoney(Number(payroll.valor_gratificacao))}</TableCell>\r\n                      <TableCell className=\"font-bold text-green-600\">\r\n                        {formatMoney(Number(payroll.total_liquido))}\r\n                      </TableCell>\r\n                      <TableCell>{getStatusBadge(payroll.status)}</TableCell>\r\n                      <TableCell>\r\n                        <div className=\"flex gap-2\">\r\n                          {payroll.status === \"calculado\" && (\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"default\"\r\n                              onClick={() => approvePayroll(payroll.id)}\r\n                            >\r\n                              <CheckCircle className=\"h-4 w-4 mr-1\" />\r\n                              Aprovar\r\n                            </Button>\r\n                          )}\r\n                          {payroll.status === \"aprovado\" && (\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"secondary\"\r\n                              onClick={() => markAsPaid(payroll.id)}\r\n                            >\r\n                              <DollarSign className=\"h-4 w-4 mr-1\" />\r\n                              Pagar\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          )}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { startOfMonth, endOfMonth, subMonths } from \"date-fns\";\r\n\r\nexport const useFinancialData = () => {\r\n  return useQuery({\r\n    queryKey: ['financial-data'],\r\n    queryFn: async () => {\r\n      const now = new Date();\r\n      const currentMonthStart = startOfMonth(now);\r\n      const currentMonthEnd = endOfMonth(now);\r\n      const lastMonthStart = startOfMonth(subMonths(now, 1));\r\n      const lastMonthEnd = endOfMonth(subMonths(now, 1));\r\n\r\n      // Buscar CTEs autorizados do mês atual\r\n      const { data: ctesCurrent, error: cteError } = await supabase\r\n        .from('cte')\r\n        .select('valor_total, data_emissao')\r\n        .eq('status', 'autorizado')\r\n        .gte('data_emissao', currentMonthStart.toISOString())\r\n        .lte('data_emissao', currentMonthEnd.toISOString());\r\n\r\n      if (cteError) throw cteError;\r\n\r\n      // Buscar CTEs do mês anterior para comparação\r\n      const { data: ctesLast, error: cteLastError } = await supabase\r\n        .from('cte')\r\n        .select('valor_total')\r\n        .eq('status', 'autorizado')\r\n        .gte('data_emissao', lastMonthStart.toISOString())\r\n        .lte('data_emissao', lastMonthEnd.toISOString());\r\n\r\n      if (cteLastError) throw cteLastError;\r\n\r\n      // Buscar contas a receber\r\n      const { data: contasReceber, error: crError } = await supabase\r\n        .from('contas_receber')\r\n        .select('valor, status, data_vencimento, cliente, descricao, created_at')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (crError) throw crError;\r\n\r\n      // Buscar contas a pagar\r\n      const { data: contasPagar, error: cpError } = await supabase\r\n        .from('contas_pagar')\r\n        .select('valor, status, data_vencimento, fornecedor, descricao, created_at, categoria')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (cpError) throw cpError;\r\n\r\n      // Calcular receita total do mês atual\r\n      const receitaMesAtual = ctesCurrent?.reduce((sum, cte) => sum + Number(cte.valor_total), 0) || 0;\r\n      const receitaMesAnterior = ctesLast?.reduce((sum, cte) => sum + Number(cte.valor_total), 0) || 0;\r\n      \r\n      // Calcular variação percentual\r\n      const variacaoReceita = receitaMesAnterior > 0 \r\n        ? ((receitaMesAtual - receitaMesAnterior) / receitaMesAnterior) * 100 \r\n        : 0;\r\n\r\n      // Calcular despesas do mês (contas a pagar pagas)\r\n      const despesasMes = contasPagar\r\n        ?.filter(cp => {\r\n          const dataPagamento = new Date(cp.created_at);\r\n          return dataPagamento >= currentMonthStart && dataPagamento <= currentMonthEnd;\r\n        })\r\n        .reduce((sum, cp) => sum + Number(cp.valor), 0) || 0;\r\n\r\n      // Calcular margem líquida\r\n      const lucroLiquido = receitaMesAtual - despesasMes;\r\n      const margemLiquida = receitaMesAtual > 0 ? (lucroLiquido / receitaMesAtual) * 100 : 0;\r\n\r\n      // Calcular contas a receber pendentes\r\n      const receitaPendente = contasReceber\r\n        ?.filter(cr => cr.status === 'pendente')\r\n        .reduce((sum, cr) => sum + Number(cr.valor), 0) || 0;\r\n\r\n      // Preparar lançamentos recentes (combinar receitas e despesas)\r\n      const lancamentosReceitas = contasReceber?.slice(0, 10).map(cr => ({\r\n        id: cr.created_at,\r\n        data: new Date(cr.created_at).toISOString().split('T')[0],\r\n        descricao: cr.descricao,\r\n        tipo: 'receita' as const,\r\n        valor: Number(cr.valor),\r\n        categoria: 'Receita Operacional',\r\n        status: cr.status\r\n      })) || [];\r\n\r\n      const lancamentosDespesas = contasPagar?.slice(0, 10).map(cp => ({\r\n        id: cp.created_at,\r\n        data: new Date(cp.created_at).toISOString().split('T')[0],\r\n        descricao: cp.descricao,\r\n        tipo: 'despesa' as const,\r\n        valor: Number(cp.valor),\r\n        categoria: cp.categoria || 'Despesa Operacional',\r\n        status: cp.status\r\n      })) || [];\r\n\r\n      const lancamentos = [...lancamentosReceitas, ...lancamentosDespesas]\r\n        .sort((a, b) => new Date(b.data).getTime() - new Date(a.data).getTime())\r\n        .slice(0, 20);\r\n\r\n      return {\r\n        receitaMesAtual,\r\n        variacaoReceita,\r\n        despesasMes,\r\n        lucroLiquido,\r\n        margemLiquida,\r\n        receitaPendente,\r\n        totalCtes: ctesCurrent?.length || 0,\r\n        lancamentos,\r\n        contasReceber: contasReceber || [],\r\n        contasPagar: contasPagar || []\r\n      };\r\n    },\r\n    refetchInterval: 30000, // Atualiza a cada 30 segundos\r\n  });\r\n};\r\n","import { Layout } from \"@/components/Layout\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { \r\n  Building2, \r\n  DollarSign, \r\n  Users, \r\n  TrendingUp,\r\n  Loader2,\r\n  Wallet\r\n} from \"lucide-react\";\r\nimport { StatCard } from \"@/components/StatCard\";\r\nimport { RevenueAnalysis } from \"@/components/revenue/RevenueAnalysis\";\r\nimport { PayrollSection } from \"@/components/erp/PayrollSection\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { useFinancialData } from \"@/hooks/useFinancialData\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\n\r\nconst ERP = () => {\r\n  const { data: financialData, isLoading } = useFinancialData();\r\n\r\n  // Buscar número de usuários\r\n  const { data: usersData } = useQuery({\r\n    queryKey: ['users-count'],\r\n    queryFn: async () => {\r\n      const { count, error } = await supabase\r\n        .from('profiles')\r\n        .select('*', { count: 'exact', head: true });\r\n      \r\n      if (error) throw error;\r\n      return count || 0;\r\n    }\r\n  });\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"flex items-center justify-center h-96\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL'\r\n    }).format(value);\r\n  };\r\n\r\n  const formatCompactCurrency = (value: number) => {\r\n    if (value >= 1000000) {\r\n      return `R$ ${(value / 1000000).toFixed(2)}M`;\r\n    } else if (value >= 1000) {\r\n      return `R$ ${(value / 1000).toFixed(0)}k`;\r\n    }\r\n    return formatCurrency(value);\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">ERP - Enterprise Resource Planning</h1>\r\n          <p className=\"text-muted-foreground mt-2\">\r\n            Sistema Integrado de Gestão Empresarial\r\n          </p>\r\n        </div>\r\n\r\n        {/* KPIs */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <StatCard \r\n            title=\"Faturamento Mês\" \r\n            value={formatCompactCurrency(financialData?.receitaMesAtual || 0)}\r\n            icon={DollarSign}\r\n            trend={{ \r\n              value: `${financialData?.variacaoReceita >= 0 ? '+' : ''}${financialData?.variacaoReceita.toFixed(1)}% vs mês anterior`, \r\n              positive: (financialData?.variacaoReceita || 0) >= 0 \r\n            }}\r\n          />\r\n          <StatCard \r\n            title=\"Margem Líquida\" \r\n            value={`${financialData?.margemLiquida.toFixed(1)}%`}\r\n            icon={TrendingUp}\r\n            trend={{ \r\n              value: `${financialData?.totalCtes || 0} CT-es`, \r\n              positive: true \r\n            }}\r\n          />\r\n          <StatCard \r\n            title=\"Colaboradores\" \r\n            value={usersData || 0}\r\n            icon={Users}\r\n          />\r\n          <StatCard \r\n            title=\"Contas a Receber\" \r\n            value={formatCompactCurrency(financialData?.receitaPendente || 0)}\r\n            icon={Building2}\r\n          />\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <Tabs defaultValue=\"financeiro\" className=\"w-full\">\r\n          <TabsList className=\"grid w-full grid-cols-4\">\r\n            <TabsTrigger value=\"financeiro\">Financeiro</TabsTrigger>\r\n            <TabsTrigger value=\"receita\">Análise de Receita</TabsTrigger>\r\n            <TabsTrigger value=\"contas\">Contas a Receber/Pagar</TabsTrigger>\r\n            <TabsTrigger value=\"folha\">\r\n              <Wallet className=\"w-4 h-4 mr-2\" />\r\n              Folha de Pagamento\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          {/* Financeiro */}\r\n          <TabsContent value=\"financeiro\" className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-sm\">Receitas</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-3xl font-bold text-green-600\">\r\n                    {formatCurrency(financialData?.receitaMesAtual || 0)}\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground mt-2\">\r\n                    {new Date().toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' })}\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-sm\">Despesas</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-3xl font-bold text-red-600\">\r\n                    {formatCurrency(financialData?.despesasMes || 0)}\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground mt-2\">\r\n                    {new Date().toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' })}\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-sm\">Lucro Líquido</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-3xl font-bold text-blue-600\">\r\n                    {formatCurrency(financialData?.lucroLiquido || 0)}\r\n                  </p>\r\n                  <p className=\"text-sm text-muted-foreground mt-2\">\r\n                    {financialData?.margemLiquida.toFixed(1)}% de margem\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Lançamentos Recentes</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <Table>\r\n                  <TableHeader>\r\n                    <TableRow>\r\n                      <TableHead>Data</TableHead>\r\n                      <TableHead>Descrição</TableHead>\r\n                      <TableHead>Categoria</TableHead>\r\n                      <TableHead>Tipo</TableHead>\r\n                      <TableHead>Status</TableHead>\r\n                      <TableHead className=\"text-right\">Valor</TableHead>\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {financialData?.lancamentos.length === 0 ? (\r\n                      <TableRow>\r\n                        <TableCell colSpan={6} className=\"text-center text-muted-foreground py-8\">\r\n                          Nenhum lançamento encontrado. Importe CT-es para visualizar receitas.\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ) : (\r\n                      financialData?.lancamentos.map((lancamento) => (\r\n                        <TableRow key={lancamento.id}>\r\n                          <TableCell>{new Date(lancamento.data).toLocaleDateString('pt-BR')}</TableCell>\r\n                          <TableCell className=\"max-w-xs truncate\">{lancamento.descricao}</TableCell>\r\n                          <TableCell>\r\n                            <Badge variant=\"outline\">{lancamento.categoria}</Badge>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Badge variant={lancamento.tipo === \"receita\" ? \"default\" : \"secondary\"}>\r\n                              {lancamento.tipo === \"receita\" ? \"Receita\" : \"Despesa\"}\r\n                            </Badge>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Badge variant={lancamento.status === \"pago\" ? \"default\" : \"outline\"}>\r\n                              {lancamento.status}\r\n                            </Badge>\r\n                          </TableCell>\r\n                          <TableCell className={`text-right font-medium ${\r\n                            lancamento.tipo === \"receita\" ? \"text-green-600\" : \"text-red-600\"\r\n                          }`}>\r\n                            {formatCurrency(lancamento.valor)}\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Receita */}\r\n          <TabsContent value=\"receita\">\r\n            <RevenueAnalysis />\r\n          </TabsContent>\r\n\r\n          {/* Contas */}\r\n          <TabsContent value=\"contas\" className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Contas a Receber</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead>Cliente</TableHead>\r\n                        <TableHead>Vencimento</TableHead>\r\n                        <TableHead>Status</TableHead>\r\n                        <TableHead className=\"text-right\">Valor</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {financialData?.contasReceber.length === 0 ? (\r\n                        <TableRow>\r\n                          <TableCell colSpan={4} className=\"text-center text-muted-foreground py-8\">\r\n                            Nenhuma conta a receber\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ) : (\r\n                        financialData?.contasReceber.slice(0, 10).map((conta) => (\r\n                          <TableRow key={conta.created_at}>\r\n                            <TableCell className=\"max-w-xs truncate\">{conta.cliente}</TableCell>\r\n                            <TableCell>{new Date(conta.data_vencimento).toLocaleDateString('pt-BR')}</TableCell>\r\n                            <TableCell>\r\n                              <Badge variant={conta.status === \"pago\" ? \"default\" : \"outline\"}>\r\n                                {conta.status}\r\n                              </Badge>\r\n                            </TableCell>\r\n                            <TableCell className=\"text-right font-medium text-green-600\">\r\n                              {formatCurrency(Number(conta.valor))}\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        ))\r\n                      )}\r\n                    </TableBody>\r\n                  </Table>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Contas a Pagar</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead>Fornecedor</TableHead>\r\n                        <TableHead>Vencimento</TableHead>\r\n                        <TableHead>Status</TableHead>\r\n                        <TableHead className=\"text-right\">Valor</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {financialData?.contasPagar.length === 0 ? (\r\n                        <TableRow>\r\n                          <TableCell colSpan={4} className=\"text-center text-muted-foreground py-8\">\r\n                            Nenhuma conta a pagar\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ) : (\r\n                        financialData?.contasPagar.slice(0, 10).map((conta) => (\r\n                          <TableRow key={conta.created_at}>\r\n                            <TableCell className=\"max-w-xs truncate\">{conta.fornecedor}</TableCell>\r\n                            <TableCell>{new Date(conta.data_vencimento).toLocaleDateString('pt-BR')}</TableCell>\r\n                            <TableCell>\r\n                              <Badge variant={conta.status === \"pago\" ? \"default\" : \"outline\"}>\r\n                                {conta.status}\r\n                              </Badge>\r\n                            </TableCell>\r\n                            <TableCell className=\"text-right font-medium text-red-600\">\r\n                              {formatCurrency(Number(conta.valor))}\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        ))\r\n                      )}\r\n                    </TableBody>\r\n                  </Table>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </TabsContent>\r\n\r\n          {/* Folha de Pagamento */}\r\n          <TabsContent value=\"folha\">\r\n            <PayrollSection />\r\n          </TabsContent>\r\n        </Tabs>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ERP;\r\n"],"names":["addMonths","date","amount","_date","toDate","constructFrom","dayOfMonth","endOfDesiredMonth","daysInMonth","startOfMonth","subMonths","PayrollSection","user","useAuth","payrolls","setPayrolls","useState","loading","setLoading","calculating","setCalculating","selectedMonth","setSelectedMonth","Date","getMonth","selectedYear","setSelectedYear","getFullYear","useEffect","loadPayrolls","data","error","supabase","from","select","order","ascending","console","toast","calculatePayroll","functions","invoke","body","mes","ano","success","approvePayroll","payrollId","update","status","aprovado_por","id","data_aprovacao","toISOString","eq","markAsPaid","data_pagamento","formatMoney","value","Intl","NumberFormat","style","currency","format","getStatusBadge","variants","calculado","variant","label","aprovado","pago","config","Badge","jsxs","jsx","Dialog","DialogTrigger","Button","Calculator","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","Input","Number","e","target","Card","DollarSign","filter","p","reduce","sum","total_liquido","FileText","length","CheckCircle","map","i","Skeleton","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","payroll","profiles","full_name","String","padStart","salario_base","horas_normais","toFixed","horas_extras","valor_gratificacao","useFinancialData","useQuery","queryKey","queryFn","now","currentMonthStart","currentMonthEnd","endOfMonth","lastMonthStart","lastMonthEnd","ctesCurrent","cteError","gte","lte","ctesLast","cteLastError","contasReceber","crError","contasPagar","cpError","receitaMesAtual","cte","valor_total","receitaMesAnterior","variacaoReceita","despesasMes","cp","dataPagamento","created_at","valor","lucroLiquido","margemLiquida","receitaPendente","cr","lancamentosReceitas","slice","split","descricao","tipo","categoria","lancamentosDespesas","lancamentos","sort","a","b","getTime","totalCtes","refetchInterval","ERP","financialData","isLoading","usersData","count","head","Layout","Loader2","formatCurrency","formatCompactCurrency","StatCard","positive","TrendingUp","Users","Building2","Tabs","TabsList","TabsTrigger","Wallet","TabsContent","CardHeader","CardTitle","CardContent","toLocaleDateString","month","year","lancamento","RevenueAnalysis","conta","cliente","data_vencimento","fornecedor"],"mappings":"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","x_google_ignoreList":[0,1,2]}