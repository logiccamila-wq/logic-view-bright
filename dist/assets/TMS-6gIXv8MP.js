const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jszip.min-C5gDYOXk.js","assets/index-BiNiRHKa.js","assets/index-CLpyJpW3.css"])))=>i.map(i=>d[i]);
import{c as Je,a as Ze,r as p,s as L,j as e,d as j,B as _,_ as We,G as Qe,H as Ye,K as Le,N as ce,O as he,Q as me,V as et,Y as Ee,$ as xe,T as V,P as te}from"./index-BiNiRHKa.js";import{P as ve,M as pe,C as tt,L as rt}from"./Layout-Dp_kOeVO.js";import{C as k,a as re,b as ie,d as J}from"./card-TfuIT_5Q.js";import{T as we,a as Ae,b as F,c as P,d as _e,R as it,I as st}from"./tabs-D0EqSZrJ.js";import{S as ne}from"./StatCard-D_xC6Z5I.js";import{I as m}from"./input-CbZeJBr9.js";import{B as I,D as at}from"./badge-DNXvGi58.js";import{T as De,a as fe,b as Z,c as N,d as be,e as T}from"./table-BZVhxJnw.js";import{D as W,a as Q,b as Y,c as ee,d as nt,e as ot}from"./dialog-Cg8eQnwj.js";import{V as $}from"./VehicleSelect-By-7KCVO.js";import{L as o}from"./label-UYjdQhGu.js";import{S as K,a as G,b as X,c as H,d as S}from"./select-QQKt8PR4.js";import{T as Ne}from"./textarea-DY8BSV4k.js";import{U as ct}from"./upload-LCEscKPi.js";import{u as lt,a as Ct}from"./index-BjTUNxlL.js";import{C as mt}from"./circle-VURLCliM.js";import{C as de}from"./calendar-B64dnvJa.js";import{L as le}from"./loader-circle-B3QIm2JW.js";import{F as oe}from"./index-DIpBNjZJ.js";import{S as Te}from"./search-DMtVIRGP.js";import{D as Be}from"./download-7EUd8C-f.js";import{f as Ue}from"./format-1t5ish9B.js";import{E as pt}from"./eye-COaZiUW8.js";import{C as dt}from"./checkbox-DFwEB-hm.js";import{C as Se}from"./circle-check-big-SjvrQ4v6.js";import{R as ut}from"./RevenueAnalysis-Doc0WAAX.js";import{S as gt}from"./sparkles-Dn6_ZUdd.js";import{U as ht}from"./user-DUMs6VdZ.js";import{C as ue}from"./warehouse-DuizGI0Y.js";import{N as xt}from"./navigation-CKYRs-6Q.js";import{R as vt}from"./RouteOptimizer-vqLHKhqc.js";import"./index-CwEJSXtc.js";import"./check-CRXfG46A.js";import"./triangle-alert-DWEkvv_3.js";import"./trending-up-DqnRdfA9.js";import"./settings-ADCDQZ7C.js";import"./demoStore-BIsfGJR8.js";import"./index-CDnZEIrr.js";import"./chevron-down-CMfBZ8DZ.js";import"./switch-kUc4mnC_.js";import"./refresh-cw-CnJNWiAD.js";import"./circle-check-7lrHsNBP.js";import"./CartesianChart-hQJLzW7L.js";import"./index-dbfCPaLo.js";import"./LineChart-D7XxyMx4.js";import"./getRadiusAndStrokeWidthFromDot-CjiGgi48.js";import"./Area-DrhO8xWp.js";import"./trending-down-BJc73CKM.js";import"./target-C34BtU2x.js";import"./history-iASH-fby.js";import"./BarChart-BlPFXgTd.js";import"./useTomTom-DA6LhlUd.js";import"./leaflet-0QQKcpfv.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],At=Je("key",wt);function Dt({open:l,onOpenChange:w,tripId:a,onSuccess:h}){const{user:x}=Ze(),[A,i]=p.useState(!1),[C,D]=p.useState(!1),[n,t]=p.useState([]),v=p.useRef(null),[r,g]=p.useState({numero_cte:"",serie:"1",tipo_cte:"normal",tipo_servico:"normal",trip_id:a||"",remetente_nome:"",remetente_cnpj:"",remetente_endereco:"",remetente_cidade:"",remetente_uf:"",remetente_cep:"",destinatario_nome:"",destinatario_cnpj:"",destinatario_endereco:"",destinatario_cidade:"",destinatario_uf:"",destinatario_cep:"",tomador_tipo:"remetente",tomador_nome:"",tomador_cnpj:"",produto_predominante:"",peso_bruto:"",peso_cubado:"",quantidade_volumes:"",valor_mercadoria:"",modal:"rodoviario",valor_frete:"",valor_pedagio:"",valor_total:"",tipo_frete:"cif",placa_veiculo:"",placa_carreta:"",uf_veiculo:"",rntrc:"",observacoes:""});p.useEffect(()=>{l&&(c(),d())},[l]),p.useEffect(()=>{if(r.trip_id){const s=n.find(E=>E.id===r.trip_id);s&&g(E=>({...E,placa_veiculo:s.vehicle_plate||""}))}},[r.trip_id,n]),p.useEffect(()=>{const s=parseFloat(r.valor_frete)||0,E=parseFloat(r.valor_pedagio)||0,y=s+E;y>0&&r.valor_total!==y.toFixed(2)&&g(B=>({...B,valor_total:y.toFixed(2)}))},[r.valor_frete,r.valor_pedagio]);const d=()=>{const s=Date.now(),E=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),y=`${s}${E}`.slice(-9);g(B=>({...B,numero_cte:y}))},c=async()=>{const{data:s,error:E}=await L.from("trips").select("*").in("status",["aprovada","em_andamento"]).order("created_at",{ascending:!1});s&&t(s)},f=async()=>{var y,B;if(!((B=(y=v.current)==null?void 0:y.files)!=null&&B[0])){j.error("Selecione um arquivo");return}const s=v.current.files[0],E=s.name.toLowerCase();if(!E.endsWith(".xml")&&!E.endsWith(".zip")){j.error("Por favor, selecione um arquivo XML ou ZIP");return}D(!0);try{if(E.endsWith(".zip")){const b=(await We(async()=>{const{default:z}=await import("./jszip.min-C5gDYOXk.js").then(ae=>ae.j);return{default:z}},__vite__mapDeps([0,1,2]))).default,M=await new b().loadAsync(s),O=[];for(const[z,ae]of Object.entries(M.files))if(!ae.dir&&z.toLowerCase().endsWith(".xml")){const He=await ae.async("text");O.push(He)}if(O.length===0){j.error("Nenhum arquivo XML encontrado no ZIP");return}j.info(`Processando ${O.length} CT-es...`);const{data:R,error:se}=await L.functions.invoke("import-cte-batch",{body:{xml_files:O}});if(se)throw se;const q=R;if(q.errors.length>0)console.warn("Erros na importação:",q.errors),j.warning(`${q.ctes_created} CT-es importados com sucesso. ${q.errors.length} falharam.`,{duration:5e3});else{const z=[`✓ ${q.ctes_created} CT-es importados`,`✓ ${q.clients_created} novos clientes cadastrados`];q.vehicles_created>0&&z.push(`✓ ${q.vehicles_created} veículos auto-cadastrados`),z.push("✓ Contas a receber criadas","✓ Indicadores atualizados"),j.success(z.join(`
`),{duration:6e3})}}else{const b=await s.text(),{data:U,error:M}=await L.functions.invoke("import-cte-xml",{body:{xml_content:b}});if(M)throw M;j.success("CT-e importado com sucesso!")}h==null||h(),w(!1)}catch(b){console.error("Erro ao importar:",b),j.error(b.message||"Erro ao importar CT-e")}finally{D(!1),v.current&&(v.current.value="")}},u=async()=>{if(!r.trip_id||!r.remetente_nome||!r.destinatario_nome){j.error("Preencha todos os campos obrigatórios");return}i(!0);try{const{data:s}=await L.from("vehicles").select("placa").eq("placa",r.placa_veiculo.toUpperCase()).maybeSingle();if(!s){j.error(`Placa ${r.placa_veiculo} não encontrada. Importe os veículos primeiro.`),i(!1);return}const{error:E}=await L.from("cte").insert({...r,placa_veiculo:r.placa_veiculo.toUpperCase(),peso_bruto:parseFloat(r.peso_bruto),peso_cubado:r.peso_cubado?parseFloat(r.peso_cubado):null,quantidade_volumes:parseInt(r.quantidade_volumes),valor_mercadoria:parseFloat(r.valor_mercadoria),valor_frete:parseFloat(r.valor_frete),valor_pedagio:parseFloat(r.valor_pedagio),valor_total:parseFloat(r.valor_total),created_by:x==null?void 0:x.id,status:"emitido"});if(E)throw E;j.success("CT-e criado com sucesso! Disponível no app do motorista."),h==null||h(),w(!1),g({numero_cte:"",serie:"1",tipo_cte:"normal",tipo_servico:"normal",trip_id:"",remetente_nome:"",remetente_cnpj:"",remetente_endereco:"",remetente_cidade:"",remetente_uf:"",remetente_cep:"",destinatario_nome:"",destinatario_cnpj:"",destinatario_endereco:"",destinatario_cidade:"",destinatario_uf:"",destinatario_cep:"",tomador_tipo:"remetente",tomador_nome:"",tomador_cnpj:"",produto_predominante:"",peso_bruto:"",peso_cubado:"",quantidade_volumes:"",valor_mercadoria:"",modal:"rodoviario",valor_frete:"",valor_pedagio:"",valor_total:"",tipo_frete:"cif",placa_veiculo:"",placa_carreta:"",uf_veiculo:"",rntrc:"",observacoes:""})}catch(s){console.error("Erro ao criar CT-e:",s),j.error("Erro ao criar CT-e")}finally{i(!1)}};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsx(ee,{children:"Emitir CT-e (Conhecimento de Transporte Eletrônico)"})}),e.jsxs(we,{defaultValue:"basicos",className:"w-full",children:[e.jsxs(Ae,{className:"grid w-full grid-cols-6",children:[e.jsx(F,{value:"xml",children:"Importar XML"}),e.jsx(F,{value:"basicos",children:"Básicos"}),e.jsx(F,{value:"remetente",children:"Remetente"}),e.jsx(F,{value:"destinatario",children:"Destinatário"}),e.jsx(F,{value:"carga",children:"Carga"}),e.jsx(F,{value:"transporte",children:"Transporte"})]}),e.jsx(P,{value:"xml",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"346","trae-inspector-start-column":"12","trae-inspector-end-line":"410","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border-2 border-dashed border-border rounded-lg p-8 text-center",children:[e.jsx(ct,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{"trae-inspector-start-line":"348","trae-inspector-start-column":"14","trae-inspector-end-line":"348","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Importar%20CT-e%20via%20XML%20ou%20ZIP%22%2C%22textStartLine%22%3A%22348%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22348%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mb-2",children:"Importar CT-e via XML ou ZIP"}),e.jsx("p",{"trae-inspector-start-line":"349","trae-inspector-start-column":"14","trae-inspector-end-line":"351","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Fa%C3%A7a%20upload%20de%20um%20XML%20individual%20ou%20um%20arquivo%20ZIP%20contendo%20m%C3%BAltiplos%20XMLs%22%2C%22textStartLine%22%3A%22349%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22351%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mb-4",children:"Faça upload de um XML individual ou um arquivo ZIP contendo múltiplos XMLs"}),e.jsx("input",{"trae-inspector-start-line":"353","trae-inspector-start-column":"14","trae-inspector-end-line":"363","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",ref:v,type:"file",accept:".xml,.zip",className:"hidden",onChange:s=>{var E;(E=s.target.files)!=null&&E[0]&&j.info("Arquivo selecionado: "+s.target.files[0].name)}}),e.jsxs("div",{"trae-inspector-start-line":"365","trae-inspector-start-column":"14","trae-inspector-end-line":"381","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 justify-center",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>{var s;return(s=v.current)==null?void 0:s.click()},children:"Selecionar XML ou ZIP"}),e.jsx(_,{type:"button",onClick:f,disabled:C,children:C?"Importando...":"Importar"})]}),e.jsxs("div",{"trae-inspector-start-line":"383","trae-inspector-start-column":"14","trae-inspector-end-line":"409","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-6 space-y-2 text-left max-w-md mx-auto",children:[e.jsx("p",{"trae-inspector-start-line":"384","trae-inspector-start-column":"16","trae-inspector-end-line":"386","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%9A%A0%EF%B8%8F%20Importa%C3%A7%C3%A3o%20sem%20placa%3A%22%2C%22textStartLine%22%3A%22384%22%2C%22textStartColumn%22%3A%2275%22%2C%22textEndLine%22%3A%22386%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground font-semibold",children:"⚠️ Importação sem placa:"}),e.jsx("p",{"trae-inspector-start-line":"387","trae-inspector-start-column":"16","trae-inspector-end-line":"389","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Se%20o%20XML%20n%C3%A3o%20trouxer%20placa%20v%C3%A1lida%2C%20ser%C3%A1%20usado%20'SEM-PLACA'%20e%20voc%C3%AA%20define%20a%20placa%20no%20Manifesto%20depois%22%2C%22textStartLine%22%3A%22387%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22389%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground ml-4",children:"• Se o XML não trouxer placa válida, será usado 'SEM-PLACA' e você define a placa no Manifesto depois"}),e.jsx("p",{"trae-inspector-start-line":"391","trae-inspector-start-column":"16","trae-inspector-end-line":"393","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%9C%93%20O%20sistema%20far%C3%A1%20automaticamente%3A%22%2C%22textStartLine%22%3A%22391%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22393%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success font-semibold mt-4",children:"✓ O sistema fará automaticamente:"}),e.jsx("p",{"trae-inspector-start-line":"394","trae-inspector-start-column":"16","trae-inspector-end-line":"396","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Cadastro%20de%20clientes%20(se%20n%C3%A3o%20existirem)%22%2C%22textStartLine%22%3A%22394%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22396%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:"• Cadastro de clientes (se não existirem)"}),e.jsx("p",{"trae-inspector-start-line":"397","trae-inspector-start-column":"16","trae-inspector-end-line":"399","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Cria%C3%A7%C3%A3o%20de%20contas%20a%20receber%22%2C%22textStartLine%22%3A%22397%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22399%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:"• Criação de contas a receber"}),e.jsx("p",{"trae-inspector-start-line":"400","trae-inspector-start-column":"16","trae-inspector-end-line":"402","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Cria%C3%A7%C3%A3o%20autom%C3%A1tica%20do%20ve%C3%ADculo%20%5C%22SEM-PLACA%5C%22%20quando%20necess%C3%A1rio%22%2C%22textStartLine%22%3A%22400%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22402%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:'• Criação automática do veículo "SEM-PLACA" quando necessário'}),e.jsx("p",{"trae-inspector-start-line":"403","trae-inspector-start-column":"16","trae-inspector-end-line":"405","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20Atualiza%C3%A7%C3%A3o%20de%20indicadores%20financeiros%22%2C%22textStartLine%22%3A%22403%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22405%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:"• Atualização de indicadores financeiros"}),e.jsx("p",{"trae-inspector-start-line":"406","trae-inspector-start-column":"16","trae-inspector-end-line":"408","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%A2%20C%C3%A1lculo%20de%20an%C3%A1lises%20por%20cliente%22%2C%22textStartLine%22%3A%22406%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22408%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-success ml-4",children:"• Cálculo de análises por cliente"})]})]})}),e.jsx(P,{value:"basicos",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"414","trae-inspector-start-column":"12","trae-inspector-end-line":"485","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"415","trae-inspector-start-column":"14","trae-inspector-end-line":"422","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Número CT-e *"}),e.jsx(m,{value:r.numero_cte,onChange:s=>g({...r,numero_cte:s.target.value}),placeholder:"Auto-gerado"})]}),e.jsxs("div",{"trae-inspector-start-line":"423","trae-inspector-start-column":"14","trae-inspector-end-line":"429","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Série"}),e.jsx(m,{value:r.serie,onChange:s=>g({...r,serie:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"430","trae-inspector-start-column":"14","trae-inspector-end-line":"444","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Viagem *"}),e.jsxs(K,{value:r.trip_id,onValueChange:s=>g({...r,trip_id:s}),children:[e.jsx(G,{children:e.jsx(X,{placeholder:"Selecione a viagem"})}),e.jsx(H,{children:n.map(s=>e.jsxs(S,{value:s.id,children:[s.origin," → ",s.destination," (",s.vehicle_plate,")"]},s.id))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"445","trae-inspector-start-column":"14","trae-inspector-end-line":"458","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo CT-e"}),e.jsxs(K,{value:r.tipo_cte,onValueChange:s=>g({...r,tipo_cte:s}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(S,{value:"normal",children:"Normal"}),e.jsx(S,{value:"complementar",children:"Complementar"}),e.jsx(S,{value:"anulacao",children:"Anulação"}),e.jsx(S,{value:"substituto",children:"Substituto"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"459","trae-inspector-start-column":"14","trae-inspector-end-line":"472","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo Serviço"}),e.jsxs(K,{value:r.tipo_servico,onValueChange:s=>g({...r,tipo_servico:s}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(S,{value:"normal",children:"Normal"}),e.jsx(S,{value:"subcontratacao",children:"Subcontratação"}),e.jsx(S,{value:"redespacho",children:"Redespacho"}),e.jsx(S,{value:"intermediario",children:"Intermediário"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"473","trae-inspector-start-column":"14","trae-inspector-end-line":"484","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo Frete"}),e.jsxs(K,{value:r.tipo_frete,onValueChange:s=>g({...r,tipo_frete:s}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(S,{value:"cif",children:"CIF (Pago pelo Remetente)"}),e.jsx(S,{value:"fob",children:"FOB (Pago pelo Destinatário)"})]})]})]})]})}),e.jsx(P,{value:"remetente",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"489","trae-inspector-start-column":"12","trae-inspector-end-line":"536","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"490","trae-inspector-start-column":"14","trae-inspector-end-line":"496","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Nome/Razão Social *"}),e.jsx(m,{value:r.remetente_nome,onChange:s=>g({...r,remetente_nome:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"497","trae-inspector-start-column":"14","trae-inspector-end-line":"504","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ *"}),e.jsx(m,{value:r.remetente_cnpj,onChange:s=>g({...r,remetente_cnpj:s.target.value}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{"trae-inspector-start-line":"505","trae-inspector-start-column":"14","trae-inspector-end-line":"512","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CEP *"}),e.jsx(m,{value:r.remetente_cep,onChange:s=>g({...r,remetente_cep:s.target.value}),placeholder:"00000-000"})]}),e.jsxs("div",{"trae-inspector-start-line":"513","trae-inspector-start-column":"14","trae-inspector-end-line":"519","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Endereço *"}),e.jsx(m,{value:r.remetente_endereco,onChange:s=>g({...r,remetente_endereco:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"520","trae-inspector-start-column":"14","trae-inspector-end-line":"526","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Cidade *"}),e.jsx(m,{value:r.remetente_cidade,onChange:s=>g({...r,remetente_cidade:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"527","trae-inspector-start-column":"14","trae-inspector-end-line":"535","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF *"}),e.jsx(m,{value:r.remetente_uf,onChange:s=>g({...r,remetente_uf:s.target.value}),maxLength:2,placeholder:"SP"})]})]})}),e.jsx(P,{value:"destinatario",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"540","trae-inspector-start-column":"12","trae-inspector-end-line":"587","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"541","trae-inspector-start-column":"14","trae-inspector-end-line":"547","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Nome/Razão Social *"}),e.jsx(m,{value:r.destinatario_nome,onChange:s=>g({...r,destinatario_nome:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"548","trae-inspector-start-column":"14","trae-inspector-end-line":"555","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ *"}),e.jsx(m,{value:r.destinatario_cnpj,onChange:s=>g({...r,destinatario_cnpj:s.target.value}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{"trae-inspector-start-line":"556","trae-inspector-start-column":"14","trae-inspector-end-line":"563","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CEP *"}),e.jsx(m,{value:r.destinatario_cep,onChange:s=>g({...r,destinatario_cep:s.target.value}),placeholder:"00000-000"})]}),e.jsxs("div",{"trae-inspector-start-line":"564","trae-inspector-start-column":"14","trae-inspector-end-line":"570","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Endereço *"}),e.jsx(m,{value:r.destinatario_endereco,onChange:s=>g({...r,destinatario_endereco:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"571","trae-inspector-start-column":"14","trae-inspector-end-line":"577","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Cidade *"}),e.jsx(m,{value:r.destinatario_cidade,onChange:s=>g({...r,destinatario_cidade:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"578","trae-inspector-start-column":"14","trae-inspector-end-line":"586","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF *"}),e.jsx(m,{value:r.destinatario_uf,onChange:s=>g({...r,destinatario_uf:s.target.value}),maxLength:2,placeholder:"RJ"})]})]})}),e.jsx(P,{value:"carga",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"591","trae-inspector-start-column":"12","trae-inspector-end-line":"663","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"592","trae-inspector-start-column":"14","trae-inspector-end-line":"599","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Produto Predominante *"}),e.jsx(m,{value:r.produto_predominante,onChange:s=>g({...r,produto_predominante:s.target.value}),placeholder:"Ex: Produtos Diversos"})]}),e.jsxs("div",{"trae-inspector-start-line":"600","trae-inspector-start-column":"14","trae-inspector-end-line":"608","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Peso Bruto (kg) *"}),e.jsx(m,{type:"number",step:"0.01",value:r.peso_bruto,onChange:s=>g({...r,peso_bruto:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"609","trae-inspector-start-column":"14","trae-inspector-end-line":"617","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Peso Cubado (kg)"}),e.jsx(m,{type:"number",step:"0.01",value:r.peso_cubado,onChange:s=>g({...r,peso_cubado:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"618","trae-inspector-start-column":"14","trae-inspector-end-line":"625","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Quantidade Volumes *"}),e.jsx(m,{type:"number",value:r.quantidade_volumes,onChange:s=>g({...r,quantidade_volumes:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"626","trae-inspector-start-column":"14","trae-inspector-end-line":"634","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor Mercadoria (R$) *"}),e.jsx(m,{type:"number",step:"0.01",value:r.valor_mercadoria,onChange:s=>g({...r,valor_mercadoria:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"635","trae-inspector-start-column":"14","trae-inspector-end-line":"643","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor Frete (R$) *"}),e.jsx(m,{type:"number",step:"0.01",value:r.valor_frete,onChange:s=>g({...r,valor_frete:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"644","trae-inspector-start-column":"14","trae-inspector-end-line":"652","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor Pedágio (R$)"}),e.jsx(m,{type:"number",step:"0.01",value:r.valor_pedagio,onChange:s=>g({...r,valor_pedagio:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"653","trae-inspector-start-column":"14","trae-inspector-end-line":"662","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor Total (R$) *"}),e.jsx(m,{type:"number",step:"0.01",value:r.valor_total,readOnly:!0,className:"bg-muted"})]})]})}),e.jsx(P,{value:"transporte",className:"space-y-4",children:e.jsxs("div",{"trae-inspector-start-line":"667","trae-inspector-start-column":"12","trae-inspector-end-line":"725","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"668","trae-inspector-start-column":"14","trae-inspector-end-line":"682","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Modal"}),e.jsxs(K,{value:r.modal,onValueChange:s=>g({...r,modal:s}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(S,{value:"rodoviario",children:"Rodoviário"}),e.jsx(S,{value:"aereo",children:"Aéreo"}),e.jsx(S,{value:"aquaviario",children:"Aquaviário"}),e.jsx(S,{value:"ferroviario",children:"Ferroviário"}),e.jsx(S,{value:"dutoviario",children:"Dutoviário"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"683","trae-inspector-start-column":"14","trae-inspector-end-line":"691","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF Veículo *"}),e.jsx(m,{value:r.uf_veiculo,onChange:s=>g({...r,uf_veiculo:s.target.value}),maxLength:2,placeholder:"SP"})]}),e.jsxs("div",{"trae-inspector-start-line":"692","trae-inspector-start-column":"14","trae-inspector-end-line":"700","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa Veículo *"}),e.jsx($,{value:r.placa_veiculo,onChange:s=>g({...r,placa_veiculo:s}),filter:s=>s.type==="caminhao"||s.type==="cavalo",placeholder:"Selecione"})]}),e.jsxs("div",{"trae-inspector-start-line":"701","trae-inspector-start-column":"14","trae-inspector-end-line":"709","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa Carreta"}),e.jsx($,{value:r.placa_carreta,onChange:s=>g({...r,placa_carreta:s}),filter:s=>s.type==="carreta"||s.type==="reboque",placeholder:"Selecione (Opcional)"})]}),e.jsxs("div",{"trae-inspector-start-line":"710","trae-inspector-start-column":"14","trae-inspector-end-line":"716","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"RNTRC (Transportador Autônomo)"}),e.jsx(m,{value:r.rntrc,onChange:s=>g({...r,rntrc:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"717","trae-inspector-start-column":"14","trae-inspector-end-line":"724","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Observações"}),e.jsx(Ne,{value:r.observacoes,onChange:s=>g({...r,observacoes:s.target.value}),rows:3})]})]})})]}),e.jsxs(nt,{children:[e.jsx(_,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsx(_,{onClick:u,disabled:A,children:A?"Emitindo...":"Emitir CT-e"})]})]})})}var je="Radio",[ft,ye]=Le(je),[bt,jt]=ft(je),Me=p.forwardRef((l,w)=>{const{__scopeRadio:a,name:h,checked:x=!1,required:A,disabled:i,value:C="on",onCheck:D,form:n,...t}=l,[v,r]=p.useState(null),g=he(w,f=>r(f)),d=p.useRef(!1),c=v?n||!!v.closest("form"):!0;return e.jsxs(bt,{scope:a,checked:x,disabled:i,children:[e.jsx(ce.button,{type:"button",role:"radio","aria-checked":x,"data-state":Oe(x),"data-disabled":i?"":void 0,disabled:i,value:C,...t,ref:g,onClick:me(l.onClick,f=>{x||D==null||D(),c&&(d.current=f.isPropagationStopped(),d.current||f.stopPropagation())})}),c&&e.jsx(Re,{control:v,bubbles:!d.current,name:h,value:C,checked:x,required:A,disabled:i,form:n,style:{transform:"translateX(-100%)"}})]})});Me.displayName=je;var Fe="RadioIndicator",Pe=p.forwardRef((l,w)=>{const{__scopeRadio:a,forceMount:h,...x}=l,A=jt(Fe,a);return e.jsx(et,{present:h||A.checked,children:e.jsx(ce.span,{"data-state":Oe(A.checked),"data-disabled":A.disabled?"":void 0,...x,ref:w})})});Pe.displayName=Fe;var Lt="RadioBubbleInput",Re=p.forwardRef(({__scopeRadio:l,control:w,checked:a,bubbles:h=!0,...x},A)=>{const i=p.useRef(null),C=he(i,A),D=lt(a),n=Ct(w);return p.useEffect(()=>{const t=i.current;if(!t)return;const v=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(v,"checked").set;if(D!==a&&g){const d=new Event("click",{bubbles:h});g.call(t,a),t.dispatchEvent(d)}},[D,a,h]),e.jsx(ce.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...x,tabIndex:-1,ref:C,style:{...x.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Re.displayName=Lt;function Oe(l){return l?"checked":"unchecked"}var Et=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ce="RadioGroup",[_t]=Le(Ce,[_e,ye]),Ve=_e(),Ie=ye(),[Nt,Tt]=_t(Ce),ke=p.forwardRef((l,w)=>{const{__scopeRadioGroup:a,name:h,defaultValue:x,value:A,required:i=!1,disabled:C=!1,orientation:D,dir:n,loop:t=!0,onValueChange:v,...r}=l,g=Ve(a),d=Qe(n),[c,f]=Ye({prop:A,defaultProp:x??null,onChange:v,caller:Ce});return e.jsx(Nt,{scope:a,name:h,required:i,disabled:C,value:c,onValueChange:f,children:e.jsx(it,{asChild:!0,...g,orientation:D,dir:d,loop:t,children:e.jsx(ce.div,{role:"radiogroup","aria-required":i,"aria-orientation":D,"data-disabled":C?"":void 0,dir:d,...r,ref:w})})})});ke.displayName=Ce;var qe="RadioGroupItem",$e=p.forwardRef((l,w)=>{const{__scopeRadioGroup:a,disabled:h,...x}=l,A=Tt(qe,a),i=A.disabled||h,C=Ve(a),D=Ie(a),n=p.useRef(null),t=he(w,n),v=A.value===x.value,r=p.useRef(!1);return p.useEffect(()=>{const g=c=>{Et.includes(c.key)&&(r.current=!0)},d=()=>r.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",d),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",d)}},[]),e.jsx(st,{asChild:!0,...C,focusable:!i,active:v,children:e.jsx(Me,{disabled:i,required:A.required,checked:v,...D,...x,name:A.name,ref:t,onCheck:()=>A.onValueChange(x.value),onKeyDown:me(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:me(x.onFocus,()=>{var g;r.current&&((g=n.current)==null||g.click())})})})});$e.displayName=qe;var Bt="RadioGroupIndicator",ze=p.forwardRef((l,w)=>{const{__scopeRadioGroup:a,...h}=l,x=Ie(a);return e.jsx(Pe,{...x,...h,ref:w})});ze.displayName=Bt;var Ke=ke,Ge=$e,Ut=ze;const Xe=p.forwardRef(({className:l,...w},a)=>e.jsx(Ke,{className:Ee("grid gap-2",l),...w,ref:a}));Xe.displayName=Ke.displayName;const ge=p.forwardRef(({className:l,...w},a)=>e.jsx(Ge,{ref:a,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),...w,children:e.jsx(Ut,{className:"flex items-center justify-center",children:e.jsx(mt,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ge.displayName=Ge.displayName;function St({open:l,onOpenChange:w,onSuccess:a}){const[h,x]=p.useState("periodo"),[A,i]=p.useState(""),[C,D]=p.useState(""),[n,t]=p.useState(""),[v,r]=p.useState(!1),g=async()=>{r(!0);try{const d={tipo:h};if(h==="periodo"){if(!A||!C){j.error("Preencha as datas inicial e final");return}d.dataInicial=A,d.dataFinal=C}else{if(!n){j.error("Informe a chave de acesso do CT-e");return}d.chaveAcesso=n.replace(/\s/g,"")}const{data:c,error:f}=await L.functions.invoke("import-cte-brasilnfe",{body:d});if(f)throw f;c.errors&&c.errors.length>0?j.warning(c.message,{description:`${c.errors.length} erro(s) encontrado(s)`}):j.success(c.message),a(),w(!1),i(""),D(""),t("")}catch(d){console.error("Erro ao importar CT-e:",d),j.error("Erro ao importar CT-e da BrasilNFe")}finally{r(!1)}};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"sm:max-w-md",children:[e.jsx(Y,{children:e.jsx(ee,{children:"Importar CT-e da BrasilNFe"})}),e.jsxs("div",{"trae-inspector-start-line":"81","trae-inspector-start-column":"8","trae-inspector-end-line":"160","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6 pt-4",children:[e.jsxs(Xe,{value:h,onValueChange:d=>x(d),children:[e.jsxs("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"12","trae-inspector-end-line":"89","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(ge,{value:"periodo",id:"periodo"}),e.jsxs(o,{htmlFor:"periodo",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(de,{className:"h-4 w-4"}),"Importar por período"]})]}),e.jsxs("div",{"trae-inspector-start-line":"90","trae-inspector-start-column":"12","trae-inspector-end-line":"96","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2",children:[e.jsx(ge,{value:"chave",id:"chave"}),e.jsxs(o,{htmlFor:"chave",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(At,{className:"h-4 w-4"}),"Importar por chave de acesso"]})]})]}),h==="periodo"?e.jsxs("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"12","trae-inspector-end-line":"119","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"101","trae-inspector-start-column":"14","trae-inspector-end-line":"109","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(o,{htmlFor:"dataInicial",children:"Data Inicial"}),e.jsx(m,{id:"dataInicial",type:"date",value:A,onChange:d=>i(d.target.value)})]}),e.jsxs("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"14","trae-inspector-end-line":"118","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(o,{htmlFor:"dataFinal",children:"Data Final"}),e.jsx(m,{id:"dataFinal",type:"date",value:C,onChange:d=>D(d.target.value)})]})]}):e.jsxs("div",{"trae-inspector-start-line":"121","trae-inspector-start-column":"12","trae-inspector-end-line":"133","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(o,{htmlFor:"chaveAcesso",children:"Chave de Acesso"}),e.jsx(m,{id:"chaveAcesso",placeholder:"Digite a chave de 44 dígitos",value:n,onChange:d=>t(d.target.value),maxLength:44}),e.jsx("p",{"trae-inspector-start-line":"130","trae-inspector-start-column":"14","trae-inspector-end-line":"132","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%2244%20d%C3%ADgitos%20sem%20espa%C3%A7os%20ou%20formata%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22130%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22132%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"44 dígitos sem espaços ou formatação"})]}),e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"10","trae-inspector-end-line":"159","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\ImportCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 pt-4",children:[e.jsx(_,{variant:"outline",className:"flex-1",onClick:()=>w(!1),disabled:v,children:"Cancelar"}),e.jsx(_,{className:"flex-1",onClick:g,disabled:v,children:v?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin"}),"Importando..."]}):"Importar"})]})]})]})})}function yt({open:l,onOpenChange:w,onSuccess:a}){const{toast:h}=xe(),[x,A]=p.useState(!1),[i,C]=p.useState({numero:"",serie:"1",tipo_tomador:"0",tomador_cnpj:"",tomador_razao:"",tomador_endereco:"",tomador_municipio:"",tomador_uf:"",tomador_cep:"",remetente_cnpj:"",remetente_razao:"",remetente_endereco:"",remetente_municipio:"",remetente_uf:"",remetente_cep:"",destinatario_cnpj:"",destinatario_razao:"",destinatario_endereco:"",destinatario_municipio:"",destinatario_uf:"",destinatario_cep:"",produto_predominante:"PRODUTOS QUIMICOS",quantidade_volumes:"1",peso_bruto:"",valor_carga:"",valor_total:"",placa_veiculo:"",uf_veiculo:"PE",municipio_origem:"",uf_origem:"",municipio_destino:"",uf_destino:""}),D=async n=>{n.preventDefault(),A(!0);try{const{data:t,error:v}=await L.functions.invoke("emitir-cte",{body:{...i,quantidade_volumes:parseInt(i.quantidade_volumes),peso_bruto:parseFloat(i.peso_bruto),valor_carga:parseFloat(i.valor_carga),valor_total:parseFloat(i.valor_total)}});if(v)throw v;if(t.success)h({title:"CT-e emitido com sucesso!",description:`Número: ${t.numero} | Chave: ${t.chave}`}),a(),w(!1);else throw new Error(t.error||"Erro ao emitir CT-e")}catch(t){console.error("Erro:",t),h({title:"Erro ao emitir CT-e",description:t.message,variant:"destructive"})}finally{A(!1)}};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsx(ee,{children:"Emitir CT-e"})}),e.jsxs("form",{"trae-inspector-start-line":"108","trae-inspector-start-column":"8","trae-inspector-end-line":"404","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"10","trae-inspector-end-line":"131","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"111","trae-inspector-start-column":"12","trae-inspector-end-line":"111","trae-inspector-end-column":"60","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Dados%20do%20CT-e%22%2C%22textStartLine%22%3A%22111%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2255%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Dados do CT-e"}),e.jsxs("div",{"trae-inspector-start-line":"112","trae-inspector-start-column":"12","trae-inspector-end-line":"130","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"113","trae-inspector-start-column":"14","trae-inspector-end-line":"121","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Número"}),e.jsx(m,{required:!0,value:i.numero,onChange:n=>C({...i,numero:n.target.value}),placeholder:"000001"})]}),e.jsxs("div",{"trae-inspector-start-line":"122","trae-inspector-start-column":"14","trae-inspector-end-line":"129","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Série"}),e.jsx(m,{value:i.serie,onChange:n=>C({...i,serie:n.target.value}),placeholder:"1"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"10","trae-inspector-end-line":"211","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"135","trae-inspector-start-column":"12","trae-inspector-end-line":"135","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tomador%20do%20Servi%C3%A7o%22%2C%22textStartLine%22%3A%22135%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22135%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Tomador do Serviço"}),e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"12","trae-inspector-end-line":"152","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Tipo de Tomador"}),e.jsxs(K,{value:i.tipo_tomador,onValueChange:n=>C({...i,tipo_tomador:n}),children:[e.jsx(G,{children:e.jsx(X,{})}),e.jsxs(H,{children:[e.jsx(S,{value:"0",children:"Remetente"}),e.jsx(S,{value:"1",children:"Expedidor"}),e.jsx(S,{value:"2",children:"Recebedor"}),e.jsx(S,{value:"3",children:"Destinatário"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"153","trae-inspector-start-column":"12","trae-inspector-end-line":"171","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"154","trae-inspector-start-column":"14","trae-inspector-end-line":"162","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ"}),e.jsx(m,{required:!0,value:i.tomador_cnpj,onChange:n=>C({...i,tomador_cnpj:n.target.value}),placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{"trae-inspector-start-line":"163","trae-inspector-start-column":"14","trae-inspector-end-line":"170","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Razão Social"}),e.jsx(m,{required:!0,value:i.tomador_razao,onChange:n=>C({...i,tomador_razao:n.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"172","trae-inspector-start-column":"12","trae-inspector-end-line":"190","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"173","trae-inspector-start-column":"14","trae-inspector-end-line":"180","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Endereço"}),e.jsx(m,{required:!0,value:i.tomador_endereco,onChange:n=>C({...i,tomador_endereco:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"181","trae-inspector-start-column":"14","trae-inspector-end-line":"189","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CEP"}),e.jsx(m,{required:!0,value:i.tomador_cep,onChange:n=>C({...i,tomador_cep:n.target.value}),placeholder:"00000-000"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"191","trae-inspector-start-column":"12","trae-inspector-end-line":"210","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"192","trae-inspector-start-column":"14","trae-inspector-end-line":"199","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Município"}),e.jsx(m,{required:!0,value:i.tomador_municipio,onChange:n=>C({...i,tomador_municipio:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"200","trae-inspector-start-column":"14","trae-inspector-end-line":"209","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:i.tomador_uf,onChange:n=>C({...i,tomador_uf:n.target.value.toUpperCase()}),placeholder:"PE"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"214","trae-inspector-start-column":"10","trae-inspector-end-line":"261","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"215","trae-inspector-start-column":"12","trae-inspector-end-line":"215","trae-inspector-end-column":"56","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Remetente%22%2C%22textStartLine%22%3A%22215%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22215%22%2C%22textEndColumn%22%3A%2251%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Remetente"}),e.jsxs("div",{"trae-inspector-start-line":"216","trae-inspector-start-column":"12","trae-inspector-end-line":"233","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"14","trae-inspector-end-line":"224","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ"}),e.jsx(m,{required:!0,value:i.remetente_cnpj,onChange:n=>C({...i,remetente_cnpj:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"225","trae-inspector-start-column":"14","trae-inspector-end-line":"232","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Razão Social"}),e.jsx(m,{required:!0,value:i.remetente_razao,onChange:n=>C({...i,remetente_razao:n.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"234","trae-inspector-start-column":"12","trae-inspector-end-line":"260","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"235","trae-inspector-start-column":"14","trae-inspector-end-line":"244","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Município"}),e.jsx(m,{required:!0,value:i.remetente_municipio,onChange:n=>C({...i,remetente_municipio:n.target.value,municipio_origem:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"14","trae-inspector-end-line":"259","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:i.remetente_uf,onChange:n=>C({...i,remetente_uf:n.target.value.toUpperCase(),uf_origem:n.target.value.toUpperCase()})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"10","trae-inspector-end-line":"315","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"265","trae-inspector-start-column":"12","trae-inspector-end-line":"265","trae-inspector-end-column":"59","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Destinat%C3%A1rio%22%2C%22textStartLine%22%3A%22265%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22265%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Destinatário"}),e.jsxs("div",{"trae-inspector-start-line":"266","trae-inspector-start-column":"12","trae-inspector-end-line":"283","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"267","trae-inspector-start-column":"14","trae-inspector-end-line":"274","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ"}),e.jsx(m,{required:!0,value:i.destinatario_cnpj,onChange:n=>C({...i,destinatario_cnpj:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"14","trae-inspector-end-line":"282","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Razão Social"}),e.jsx(m,{required:!0,value:i.destinatario_razao,onChange:n=>C({...i,destinatario_razao:n.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"284","trae-inspector-start-column":"12","trae-inspector-end-line":"314","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"285","trae-inspector-start-column":"14","trae-inspector-end-line":"298","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Município"}),e.jsx(m,{required:!0,value:i.destinatario_municipio,onChange:n=>C({...i,destinatario_municipio:n.target.value,municipio_destino:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"14","trae-inspector-end-line":"313","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:i.destinatario_uf,onChange:n=>C({...i,destinatario_uf:n.target.value.toUpperCase(),uf_destino:n.target.value.toUpperCase()})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"318","trae-inspector-start-column":"10","trae-inspector-end-line":"370","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"319","trae-inspector-start-column":"12","trae-inspector-end-line":"319","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carga%20e%20Valores%22%2C%22textStartLine%22%3A%22319%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22319%22%2C%22textEndColumn%22%3A%2257%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Carga e Valores"}),e.jsxs("div",{"trae-inspector-start-line":"320","trae-inspector-start-column":"12","trae-inspector-end-line":"347","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"321","trae-inspector-start-column":"14","trae-inspector-end-line":"327","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Produto"}),e.jsx(m,{value:i.produto_predominante,onChange:n=>C({...i,produto_predominante:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"328","trae-inspector-start-column":"14","trae-inspector-end-line":"336","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Volumes"}),e.jsx(m,{type:"number",required:!0,value:i.quantidade_volumes,onChange:n=>C({...i,quantidade_volumes:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"337","trae-inspector-start-column":"14","trae-inspector-end-line":"346","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Peso Bruto (kg)"}),e.jsx(m,{type:"number",step:"0.01",required:!0,value:i.peso_bruto,onChange:n=>C({...i,peso_bruto:n.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"348","trae-inspector-start-column":"12","trae-inspector-end-line":"369","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"349","trae-inspector-start-column":"14","trae-inspector-end-line":"358","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor da Carga (R$)"}),e.jsx(m,{type:"number",step:"0.01",required:!0,value:i.valor_carga,onChange:n=>C({...i,valor_carga:n.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"359","trae-inspector-start-column":"14","trae-inspector-end-line":"368","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Valor do Frete (R$)"}),e.jsx(m,{type:"number",step:"0.01",required:!0,value:i.valor_total,onChange:n=>C({...i,valor_total:n.target.value})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"373","trae-inspector-start-column":"10","trae-inspector-end-line":"393","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"374","trae-inspector-start-column":"12","trae-inspector-end-line":"374","trae-inspector-end-column":"54","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%22%2C%22textStartLine%22%3A%22374%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22374%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Veículo"}),e.jsxs("div",{"trae-inspector-start-line":"375","trae-inspector-start-column":"12","trae-inspector-end-line":"392","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"376","trae-inspector-start-column":"14","trae-inspector-end-line":"382","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa"}),e.jsx($,{value:i.placa_veiculo,onChange:n=>C({...i,placa_veiculo:n})})]}),e.jsxs("div",{"trae-inspector-start-line":"383","trae-inspector-start-column":"14","trae-inspector-end-line":"391","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:i.uf_veiculo,onChange:n=>C({...i,uf_veiculo:n.target.value.toUpperCase()})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"395","trae-inspector-start-column":"10","trae-inspector-end-line":"403","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirCTEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(_,{type:"submit",disabled:x,children:[x&&e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin"}),"Emitir CT-e"]})]})]})]})})}function Mt(){const[l,w]=p.useState([]),[a,h]=p.useState(!1),[x,A]=p.useState(!1),[i,C]=p.useState(!1),[D,n]=p.useState(!1),[t,v]=p.useState("");p.useEffect(()=>{r()},[]);const r=async()=>{h(!0);try{const{data:c,error:f}=await L.from("cte").select("*").order("created_at",{ascending:!1});if(f)throw f;w(c||[])}catch(c){console.error("Erro ao carregar CT-e:",c),j.error("Erro ao carregar CT-e")}finally{h(!1)}},g=c=>{const f={rascunho:{variant:"outline",label:"Rascunho"},emitido:{variant:"default",label:"Emitido"},autorizado:{variant:"secondary",label:"Autorizado"},cancelado:{variant:"destructive",label:"Cancelado"},rejeitado:{variant:"destructive",label:"Rejeitado"}},u=f[c]||f.rascunho;return e.jsx(I,{variant:u.variant,children:u.label})},d=l.filter(c=>c.numero_cte.toLowerCase().includes(t.toLowerCase())||c.placa_veiculo.toLowerCase().includes(t.toLowerCase())||c.remetente_nome.toLowerCase().includes(t.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsxs(k,{children:[e.jsx(re,{children:e.jsxs("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"10","trae-inspector-end-line":"103","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs(ie,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Gestão de CT-e"]}),e.jsxs("div",{"trae-inspector-start-line":"84","trae-inspector-start-column":"12","trae-inspector-end-line":"102","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs("div",{"trae-inspector-start-line":"85","trae-inspector-start-column":"14","trae-inspector-end-line":"93","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"relative",children:[e.jsx(Te,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(m,{placeholder:"Buscar CT-e...",className:"pl-8 w-64",value:t,onChange:c=>v(c.target.value)})]}),e.jsxs(_,{variant:"outline",onClick:()=>C(!0),children:[e.jsx(Be,{className:"mr-2 h-4 w-4"}),"Importar da BrasilNFe"]}),e.jsxs(_,{onClick:()=>n(!0),children:[e.jsx(ve,{className:"mr-2 h-4 w-4"}),"Emitir CT-e"]})]})]})}),e.jsx(J,{children:a?e.jsx("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"12","trae-inspector-end-line":"107","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22107%22%2C%22textStartColumn%22%3A%2246%22%2C%22textEndLine%22%3A%22107%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando..."}):d.length===0?e.jsxs("div",{"trae-inspector-start-line":"109","trae-inspector-start-column":"12","trae-inspector-end-line":"112","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(oe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"111","trae-inspector-start-column":"14","trae-inspector-end-line":"111","trae-inspector-end-column":"43","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CTEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20CT-e%20encontrado%22%2C%22textStartLine%22%3A%22111%22%2C%22textStartColumn%22%3A%2217%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhum CT-e encontrado"})]}):e.jsxs(De,{children:[e.jsx(fe,{children:e.jsxs(Z,{children:[e.jsx(N,{children:"Número"}),e.jsx(N,{children:"Data Emissão"}),e.jsx(N,{children:"Remetente"}),e.jsx(N,{children:"Destinatário"}),e.jsx(N,{children:"Placa"}),e.jsx(N,{children:"Valor Total"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Ações"})]})}),e.jsx(be,{children:d.map(c=>e.jsxs(Z,{children:[e.jsx(T,{className:"font-mono",children:c.numero_cte}),e.jsx(T,{children:Ue(new Date(c.data_emissao),"dd/MM/yyyy HH:mm")}),e.jsx(T,{children:c.remetente_nome}),e.jsx(T,{children:c.destinatario_nome}),e.jsx(T,{className:"font-mono",children:c.placa_veiculo}),e.jsxs(T,{className:"font-semibold text-green-600",children:["R$ ",c.valor_total.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx(T,{children:g(c.status)}),e.jsx(T,{children:e.jsx(_,{variant:"ghost",size:"sm",children:e.jsx(pt,{className:"h-4 w-4"})})})]},c.id))})]})})]}),e.jsx(Dt,{open:x,onOpenChange:A,onSuccess:r}),e.jsx(St,{open:i,onOpenChange:C,onSuccess:r}),e.jsx(yt,{open:D,onOpenChange:n,onSuccess:r})]})}function Ft({open:l,onOpenChange:w,onSuccess:a}){const{toast:h}=xe(),[x,A]=p.useState(!1),[i,C]=p.useState([]),[D,n]=p.useState([]),[t,v]=p.useState({numero:"",serie:"1",uf_inicio:"PE",uf_fim:"",ufs_percurso:"",placa_cavalo:"",uf_cavalo:"PE",cpf_motorista:"",nome_motorista:""});p.useEffect(()=>{l&&r()},[l]);const r=async()=>{const{data:c,error:f}=await L.from("cte").select("id, numero_cte, chave_acesso, remetente_cidade, destinatario_cidade, valor_total, peso_bruto").eq("status","autorizado").is("trip_id",null).order("created_at",{ascending:!1}).limit(50);if(f){console.error("Erro ao carregar CT-es:",f);return}C(c||[])},g=async c=>{if(c.preventDefault(),D.length===0){h({title:"Selecione pelo menos um CT-e",variant:"destructive"});return}A(!0);try{const f=i.filter(B=>D.includes(B.id)),u=f.reduce((B,b)=>B+b.peso_bruto,0),s=f.reduce((B,b)=>B+b.valor_total,0),{data:E,error:y}=await L.functions.invoke("emitir-mdfe",{body:{...t,quantidade_ctes:D.length,peso_bruto:u,valor_carga:s,ctes:f.map(B=>({chave:B.chave_acesso})),ufs_percurso:t.ufs_percurso.split(",").map(B=>B.trim().toUpperCase()).filter(B=>B),condutores:[{cpf:t.cpf_motorista,nome:t.nome_motorista}]}});if(y)throw y;if(E.success)h({title:"MDF-e emitido com sucesso!",description:`Número: ${E.numero} | Chave: ${E.chave}`}),a(),w(!1);else throw new Error(E.error||"Erro ao emitir MDF-e")}catch(f){console.error("Erro:",f),h({title:"Erro ao emitir MDF-e",description:f.message,variant:"destructive"})}finally{A(!1)}},d=c=>{n(f=>f.includes(c)?f.filter(u=>u!==c):[...f,c])};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsx(ee,{children:"Emitir MDF-e"})}),e.jsxs("form",{"trae-inspector-start-line":"143","trae-inspector-start-column":"8","trae-inspector-end-line":"283","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"145","trae-inspector-start-column":"10","trae-inspector-end-line":"166","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"146","trae-inspector-start-column":"12","trae-inspector-end-line":"146","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Dados%20do%20MDF-e%22%2C%22textStartLine%22%3A%22146%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22146%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Dados do MDF-e"}),e.jsxs("div",{"trae-inspector-start-line":"147","trae-inspector-start-column":"12","trae-inspector-end-line":"165","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"148","trae-inspector-start-column":"14","trae-inspector-end-line":"156","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Número"}),e.jsx(m,{required:!0,value:t.numero,onChange:c=>v({...t,numero:c.target.value}),placeholder:"000001"})]}),e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"14","trae-inspector-end-line":"164","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Série"}),e.jsx(m,{value:t.serie,onChange:c=>v({...t,serie:c.target.value}),placeholder:"1"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"169","trae-inspector-start-column":"10","trae-inspector-end-line":"201","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"170","trae-inspector-start-column":"12","trae-inspector-end-line":"170","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Percurso%22%2C%22textStartLine%22%3A%22170%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22170%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Percurso"}),e.jsxs("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"12","trae-inspector-end-line":"192","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"172","trae-inspector-start-column":"14","trae-inspector-end-line":"181","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF Início"}),e.jsx(m,{required:!0,maxLength:2,value:t.uf_inicio,onChange:c=>v({...t,uf_inicio:c.target.value.toUpperCase()}),placeholder:"PE"})]}),e.jsxs("div",{"trae-inspector-start-line":"182","trae-inspector-start-column":"14","trae-inspector-end-line":"191","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF Fim"}),e.jsx(m,{required:!0,maxLength:2,value:t.uf_fim,onChange:c=>v({...t,uf_fim:c.target.value.toUpperCase()}),placeholder:"SP"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"12","trae-inspector-end-line":"200","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UFs do Percurso (separadas por vírgula)"}),e.jsx(m,{value:t.ufs_percurso,onChange:c=>v({...t,ufs_percurso:c.target.value}),placeholder:"PE,AL,SE,BA,MG,SP"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"204","trae-inspector-start-column":"10","trae-inspector-end-line":"225","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"205","trae-inspector-start-column":"12","trae-inspector-end-line":"205","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%20de%20Tra%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22205%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22205%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Veículo de Tração"}),e.jsxs("div",{"trae-inspector-start-line":"206","trae-inspector-start-column":"12","trae-inspector-end-line":"224","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"207","trae-inspector-start-column":"14","trae-inspector-end-line":"213","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa"}),e.jsx($,{value:t.placa_cavalo,onChange:c=>v({...t,placa_cavalo:c})})]}),e.jsxs("div",{"trae-inspector-start-line":"214","trae-inspector-start-column":"14","trae-inspector-end-line":"223","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{required:!0,maxLength:2,value:t.uf_cavalo,onChange:c=>v({...t,uf_cavalo:c.target.value.toUpperCase()}),placeholder:"PE"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"10","trae-inspector-end-line":"249","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsx("h3",{"trae-inspector-start-line":"229","trae-inspector-start-column":"12","trae-inspector-end-line":"229","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Condutor%22%2C%22textStartLine%22%3A%22229%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22229%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Condutor"}),e.jsxs("div",{"trae-inspector-start-line":"230","trae-inspector-start-column":"12","trae-inspector-end-line":"248","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"231","trae-inspector-start-column":"14","trae-inspector-end-line":"239","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CPF"}),e.jsx(m,{required:!0,value:t.cpf_motorista,onChange:c=>v({...t,cpf_motorista:c.target.value}),placeholder:"000.000.000-00"})]}),e.jsxs("div",{"trae-inspector-start-line":"240","trae-inspector-start-column":"14","trae-inspector-end-line":"247","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Nome"}),e.jsx(m,{required:!0,value:t.nome_motorista,onChange:c=>v({...t,nome_motorista:c.target.value})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"252","trae-inspector-start-column":"10","trae-inspector-end-line":"272","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("h3",{"trae-inspector-start-line":"253","trae-inspector-start-column":"12","trae-inspector-end-line":"253","trae-inspector-end-column":"103","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:["CT-es para Vincular (",D.length," selecionados)"]}),e.jsx("div",{"trae-inspector-start-line":"254","trae-inspector-start-column":"12","trae-inspector-end-line":"271","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border rounded-md p-4 max-h-60 overflow-y-auto space-y-2",children:i.length===0?e.jsx("p",{"trae-inspector-start-line":"256","trae-inspector-start-column":"16","trae-inspector-end-line":"256","trae-inspector-end-column":"98","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20CT-e%20autorizado%20dispon%C3%ADvel%22%2C%22textStartLine%22%3A%22256%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22256%22%2C%22textEndColumn%22%3A%2294%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Nenhum CT-e autorizado disponível"}):i.map(c=>e.jsxs("div",{"trae-inspector-start-line":"259","trae-inspector-start-column":"18","trae-inspector-end-line":"268","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-2 p-2 hover:bg-accent rounded",children:[e.jsx(dt,{checked:D.includes(c.id),onCheckedChange:()=>d(c.id)}),e.jsxs("div",{"trae-inspector-start-line":"261","trae-inspector-start-column":"20","trae-inspector-end-line":"267","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"262","trae-inspector-start-column":"22","trae-inspector-end-line":"262","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:["CT-e ",c.numero_cte]}),e.jsxs("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"22","trae-inspector-end-line":"266","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[c.remetente_cidade," → ",c.destinatario_cidade," | ",c.peso_bruto,"kg | R$"," ",c.valor_total.toFixed(2)]})]})]},c.id))})]}),e.jsxs("div",{"trae-inspector-start-line":"274","trae-inspector-start-column":"10","trae-inspector-end-line":"282","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\EmitirMDFEDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(_,{type:"submit",disabled:x||D.length===0,children:[x&&e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin"}),"Emitir MDF-e"]})]})]})]})})}function Pt(){const{toast:l}=xe(),[w,a]=p.useState([]),[h,x]=p.useState(!0),[A,i]=p.useState(!1);p.useEffect(()=>{C()},[]);const C=async()=>{x(!0);const{data:t,error:v}=await L.from("mdfe").select("*").order("created_at",{ascending:!1});v?(console.error("Erro ao carregar MDF-es:",v),l({title:"Erro ao carregar MDF-es",description:v.message,variant:"destructive"})):a(t||[]),x(!1)},D=async t=>{if(!confirm(`Confirma o encerramento do MDF-e ${t.numero_mdfe}?`))return;const v=prompt("Município de encerramento:");if(v)try{const{data:r,error:g}=await L.functions.invoke("encerrar-mdfe",{body:{mdfe_id:t.id,chave_acesso:t.chave_acesso,uf_encerramento:t.uf_fim,municipio_encerramento:v}});if(g)throw g;if(r.success)l({title:"MDF-e encerrado com sucesso!"}),C();else throw new Error(r.error)}catch(r){l({title:"Erro ao encerrar MDF-e",description:r.message,variant:"destructive"})}},n=t=>{const v={autorizado:"default",processando:"secondary",encerrado:"outline",cancelado:"destructive"};return e.jsx(I,{variant:v[t]||"default",children:t.toUpperCase()})};return e.jsxs("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"4","trae-inspector-end-line":"184","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"101","trae-inspector-start-column":"6","trae-inspector-end-line":"107","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsx("h2",{"trae-inspector-start-line":"102","trae-inspector-start-column":"8","trae-inspector-end-line":"102","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22MDF-e%20-%20Manifesto%20Eletr%C3%B4nico%22%2C%22textStartLine%22%3A%22102%22%2C%22textStartColumn%22%3A%2243%22%2C%22textEndLine%22%3A%22102%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"MDF-e - Manifesto Eletrônico"}),e.jsxs(_,{onClick:()=>i(!0),children:[e.jsx(ve,{className:"mr-2 h-4 w-4"}),"Emitir MDF-e"]})]}),e.jsxs(k,{children:[e.jsx(re,{children:e.jsx(ie,{children:"MDF-es Emitidos"})}),e.jsx(J,{children:h?e.jsx("p",{"trae-inspector-start-line":"115","trae-inspector-start-column":"12","trae-inspector-end-line":"115","trae-inspector-end-column":"32","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22115%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22115%22%2C%22textEndColumn%22%3A%2228%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Carregando..."}):w.length===0?e.jsx("p",{"trae-inspector-start-line":"117","trae-inspector-start-column":"12","trae-inspector-end-line":"117","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20MDF-e%20emitido%22%2C%22textStartLine%22%3A%22117%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22117%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Nenhum MDF-e emitido"}):e.jsxs(De,{children:[e.jsx(fe,{children:e.jsxs(Z,{children:[e.jsx(N,{children:"Número"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Percurso"}),e.jsx(N,{children:"Veículo"}),e.jsx(N,{children:"CT-es"}),e.jsx(N,{children:"Peso"}),e.jsx(N,{children:"Valor"}),e.jsx(N,{children:"Ações"})]})}),e.jsx(be,{children:w.map(t=>e.jsxs(Z,{children:[e.jsx(T,{children:e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"22","trae-inspector-end-line":"143","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"24","trae-inspector-end-line":"139","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:[t.numero_mdfe,"/",t.serie]}),e.jsx("div",{"trae-inspector-start-line":"140","trae-inspector-start-column":"24","trae-inspector-end-line":"142","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:new Date(t.data_emissao).toLocaleDateString()})]})}),e.jsx(T,{children:n(t.status)}),e.jsxs(T,{children:[t.uf_inicio," → ",t.uf_fim]}),e.jsx(T,{children:t.veiculo_tracao_placa}),e.jsx(T,{className:"text-center",children:t.quantidade_ctes}),e.jsxs(T,{children:[t.peso_total_kg.toFixed(0)," kg"]}),e.jsxs(T,{children:["R$ ",t.valor_total_carga.toFixed(2)]}),e.jsx(T,{children:e.jsxs("div",{"trae-inspector-start-line":"154","trae-inspector-start-column":"22","trae-inspector-end-line":"173","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\MDFEManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[t.status==="autorizado"&&e.jsxs(_,{size:"sm",variant:"outline",onClick:()=>D(t),children:[e.jsx(Se,{className:"h-4 w-4 mr-1"}),"Encerrar"]}),t.chave_acesso&&e.jsx(_,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(t.chave_acesso),l({title:"Chave copiada!"})},children:e.jsx(oe,{className:"h-4 w-4"})})]})})]},t.id))})]})})]}),e.jsx(Ft,{open:A,onOpenChange:i,onSuccess:C})]})}const Rt=({open:l,onOpenChange:w,cte:a,onTripCreated:h})=>{const[x,A]=p.useState(!1),[i,C]=p.useState([]),[D,n]=p.useState(""),[t,v]=p.useState(""),[r,g]=p.useState(""),[d,c]=p.useState(""),[f,u]=p.useState(""),[s,E]=p.useState("");p.useEffect(()=>{if(l){y(),a!=null&&a.placa_veiculo&&v(a.placa_veiculo);const b=new Date;b.setDate(b.getDate()+1),b.setHours(8,0,0,0),c(b.toISOString().slice(0,16));const U=new Date(b);U.setDate(U.getDate()+2),u(U.toISOString().slice(0,16))}},[l,a]);const y=async()=>{const{data:b}=await L.from("profiles").select("id, full_name, email").order("full_name"),{data:U}=await L.from("user_roles").select("user_id").eq("role","driver"),M=(U==null?void 0:U.map(R=>R.user_id))||[],O=(b||[]).filter(R=>M.includes(R.id)).map(R=>({id:R.id,full_name:R.full_name,email:R.email,available:!0}));C(O)},B=async b=>{if(b.preventDefault(),!D||!d||!f){j.error("Preencha todos os campos obrigatórios (Motorista e Datas)");return}if(!t){j.error("Selecione um veículo (Cavalo Mecânico)");return}A(!0);try{const U=i.find(se=>se.id===D),{data:M,error:O}=await L.from("trips").insert({origin:`${a.remetente_cidade}/${a.remetente_uf}`,destination:`${a.destinatario_cidade}/${a.destinatario_uf}`,driver_id:D,driver_name:(U==null?void 0:U.full_name)||"Motorista",vehicle_plate:t||a.placa_veiculo||"SEM-PLACA",status:"aprovada",estimated_departure:d,estimated_arrival:f,notes:s||null}).select().single();if(O)throw O;const{error:R}=await L.from("cte").update({trip_id:M.id}).eq("id",a.id);if(R)throw R;await L.from("driver_work_sessions").insert({driver_id:D,vehicle_plate:t,trip_id:M.id,data_inicio:d,status:"planejada",tipo_motorista:"carga"}),await L.from("notifications").insert({user_id:D,title:"🚚 Nova Viagem Atribuída!",message:`Viagem: ${a.remetente_cidade}/${a.remetente_uf} → ${a.destinatario_cidade}/${a.destinatario_uf}
Veículo: ${t}${r&&r!=="none"?` + Carreta ${r}`:""}
Partida: ${new Date(d).toLocaleString("pt-BR")}
CT-e: ${a.numero_cte} - ${a.produto_predominante}`,type:"info",module:"tms",read:!1}),j.success("Viagem criada com sucesso!",{description:"O motorista recebeu uma notificação com os detalhes da viagem."}),h()}catch(U){console.error("Erro ao criar viagem:",U),j.error("Erro ao criar viagem",{description:U.message})}finally{A(!1)}};return a?e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Y,{children:[e.jsxs(ee,{className:"text-2xl flex items-center gap-2",children:[e.jsx(gt,{className:"h-6 w-6 text-primary"}),"Criar Nova Viagem"]}),e.jsxs(ot,{children:["Configure os detalhes da viagem para o CT-e ",a.numero_cte]})]}),e.jsxs("form",{"trae-inspector-start-line":"186","trae-inspector-start-column":"8","trae-inspector-end-line":"337","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"188","trae-inspector-start-column":"10","trae-inspector-end-line":"213","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[e.jsxs("h3",{"trae-inspector-start-line":"189","trae-inspector-start-column":"12","trae-inspector-end-line":"192","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),"Rota do CT-e"]}),e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"12","trae-inspector-end-line":"212","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"14","trae-inspector-end-line":"197","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"195","trae-inspector-start-column":"16","trae-inspector-end-line":"195","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Origem%22%2C%22textStartLine%22%3A%22195%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22195%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Origem"}),e.jsxs("p",{"trae-inspector-start-line":"196","trae-inspector-start-column":"16","trae-inspector-end-line":"196","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:[a.remetente_cidade,"/",a.remetente_uf]})]}),e.jsxs("div",{"trae-inspector-start-line":"198","trae-inspector-start-column":"14","trae-inspector-end-line":"201","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"199","trae-inspector-start-column":"16","trae-inspector-end-line":"199","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Destino%22%2C%22textStartLine%22%3A%22199%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22199%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Destino"}),e.jsxs("p",{"trae-inspector-start-line":"200","trae-inspector-start-column":"16","trae-inspector-end-line":"200","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:[a.destinatario_cidade,"/",a.destinatario_uf]})]}),e.jsxs("div",{"trae-inspector-start-line":"202","trae-inspector-start-column":"14","trae-inspector-end-line":"205","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"203","trae-inspector-start-column":"16","trae-inspector-end-line":"203","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Produto%22%2C%22textStartLine%22%3A%22203%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22203%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Produto"}),e.jsx("p",{"trae-inspector-start-line":"204","trae-inspector-start-column":"16","trae-inspector-end-line":"204","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:a.produto_predominante})]}),e.jsxs("div",{"trae-inspector-start-line":"206","trae-inspector-start-column":"14","trae-inspector-end-line":"211","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"207","trae-inspector-start-column":"16","trae-inspector-end-line":"207","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Valor%22%2C%22textStartLine%22%3A%22207%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22207%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Valor"}),e.jsxs("p",{"trae-inspector-start-line":"208","trae-inspector-start-column":"16","trae-inspector-end-line":"210","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-green-600",children:["R$ ",a.valor_total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"216","trae-inspector-start-column":"10","trae-inspector-end-line":"247","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"driver",className:"flex items-center gap-2",children:[e.jsx(ht,{className:"h-4 w-4"}),"Motorista *"]}),e.jsxs(K,{value:D,onValueChange:n,required:!0,children:[e.jsx(G,{id:"driver",children:e.jsx(X,{placeholder:"Selecione um motorista"})}),e.jsx(H,{children:i.length===0?e.jsxs("div",{"trae-inspector-start-line":"227","trae-inspector-start-column":"18","trae-inspector-end-line":"230","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-4 text-center text-sm text-muted-foreground",children:[e.jsx(tt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),"Nenhum motorista cadastrado"]}):i.map(b=>e.jsx(S,{value:b.id,children:e.jsxs("div",{"trae-inspector-start-line":"234","trae-inspector-start-column":"22","trae-inspector-end-line":"241","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between w-full",children:[e.jsx("span",{"trae-inspector-start-line":"235","trae-inspector-start-column":"24","trae-inspector-end-line":"235","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:b.full_name}),b.available&&e.jsx(I,{variant:"outline",className:"ml-2 bg-green-500/10 text-green-600",children:"Disponível"})]})},b.id))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"250","trae-inspector-start-column":"10","trae-inspector-end-line":"261","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"vehicle",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Veículo (Cavalo Mecânico) *"]}),e.jsx($,{value:t,onChange:v,placeholder:"Selecione um cavalo mecânico",filter:b=>{var U,M;return((U=b.type)==null?void 0:U.toLowerCase())==="cavalo"||((M=b.type)==null?void 0:M.toLowerCase())==="caminhão"}})]}),e.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"10","trae-inspector-end-line":"275","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"carreta",className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Carreta (Opcional)"]}),e.jsx($,{value:r,onChange:g,placeholder:"Selecione uma carreta (se aplicável)",filter:b=>{var U,M;return((U=b.type)==null?void 0:U.toLowerCase())==="carreta"||((M=b.type)==null?void 0:M.toLowerCase())==="reboque"}})]}),e.jsxs("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"10","trae-inspector-end-line":"305","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"279","trae-inspector-start-column":"12","trae-inspector-end-line":"291","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"departure",className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Partida Prevista *"]}),e.jsx(m,{id:"departure",type:"datetime-local",value:d,onChange:b=>c(b.target.value),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"12","trae-inspector-end-line":"304","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs(o,{htmlFor:"arrival",className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Chegada Prevista *"]}),e.jsx(m,{id:"arrival",type:"datetime-local",value:f,onChange:b=>u(b.target.value),required:!0})]})]}),e.jsxs("div",{"trae-inspector-start-line":"308","trae-inspector-start-column":"10","trae-inspector-end-line":"317","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(o,{htmlFor:"notes",children:"Observações"}),e.jsx(Ne,{id:"notes",value:s,onChange:b=>E(b.target.value),placeholder:"Instruções especiais, pontos de atenção, etc.",rows:3})]}),e.jsxs("div",{"trae-inspector-start-line":"320","trae-inspector-start-column":"10","trae-inspector-end-line":"336","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripCreationDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 justify-end pt-4 border-t",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:x,children:"Cancelar"}),e.jsx(_,{type:"submit",disabled:x,className:"bg-gradient-to-r from-primary to-primary/80",children:x?"Criando...":"Criar Viagem"})]})]})]})}):null},Ot=()=>{const[l,w]=p.useState([]),[a,h]=p.useState([]),[x,A]=p.useState(!0),[i,C]=p.useState(null),[D,n]=p.useState(!1);p.useEffect(()=>{t()},[]);const t=async()=>{A(!0),await Promise.all([v(),r()]),A(!1)},v=async()=>{const{data:u,error:s}=await L.from("cte").select("*").is("trip_id",null).in("status",["emitido","autorizado"]).order("data_emissao",{ascending:!1});if(s){j.error("Erro ao carregar CT-es disponíveis");return}w(u||[])},r=async()=>{const{data:u,error:s}=await L.from("trips").select(`
        *,
        profiles:driver_id (full_name, email)
      `).in("status",["aprovada","em_andamento","planejada"]).order("created_at",{ascending:!1});if(s){j.error("Erro ao carregar viagens");return}const E=await Promise.all((u||[]).map(async y=>{const{data:B}=await L.from("cte").select("*").eq("trip_id",y.id);return{...y,driver:Array.isArray(y.profiles)?y.profiles[0]:y.profiles,ctes:B||[]}}));h(E)},g=u=>{C(u),n(!0)},d=()=>{n(!1),C(null),t(),j.success("Viagem criada! O motorista já pode visualizar no app.")},c=u=>({planejada:"bg-blue-500/20 text-blue-600 border-blue-500/30",aprovada:"bg-green-500/20 text-green-600 border-green-500/30",em_andamento:"bg-purple-500/20 text-purple-600 border-purple-500/30",concluida:"bg-gray-500/20 text-gray-600 border-gray-500/30"})[u]||"bg-gray-500/20 text-gray-600",f=(u,s)=>Math.floor(Math.random()*800)+200;return e.jsxs(e.Fragment,{children:[e.jsxs(we,{defaultValue:"available",className:"w-full",children:[e.jsxs(Ae,{className:"grid w-full grid-cols-2",children:[e.jsxs(F,{value:"available",className:"gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),"CT-es Disponíveis",l.length>0&&e.jsx(I,{variant:"secondary",className:"ml-2",children:l.length})]}),e.jsxs(F,{value:"active",className:"gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),"Viagens Ativas",a.length>0&&e.jsx(I,{variant:"secondary",className:"ml-2",children:a.length})]})]}),e.jsxs(P,{value:"available",className:"space-y-4 mt-6",children:[e.jsx("div",{"trae-inspector-start-line":"161","trae-inspector-start-column":"10","trae-inspector-end-line":"168","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between mb-4",children:e.jsxs("div",{"trae-inspector-start-line":"162","trae-inspector-start-column":"12","trae-inspector-end-line":"167","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h3",{"trae-inspector-start-line":"163","trae-inspector-start-column":"14","trae-inspector-end-line":"163","trae-inspector-end-column":"82","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CT-es%20Aguardando%20Aloca%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22163%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22163%22%2C%22textEndColumn%22%3A%2277%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:"CT-es Aguardando Alocação"}),e.jsx("p",{"trae-inspector-start-line":"164","trae-inspector-start-column":"14","trae-inspector-end-line":"166","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Selecione%20um%20CT-e%20para%20criar%20uma%20viagem%22%2C%22textStartLine%22%3A%22164%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22166%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Selecione um CT-e para criar uma viagem"})]})}),x?e.jsx("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"12","trae-inspector-end-line":"173","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20CT-es...%22%2C%22textStartLine%22%3A%22171%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22173%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-12 text-muted-foreground",children:"Carregando CT-es..."}):l.length===0?e.jsx(k,{className:"border-dashed",children:e.jsxs(J,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(te,{className:"h-12 w-12 text-muted-foreground mb-4 opacity-50"}),e.jsx("h3",{"trae-inspector-start-line":"178","trae-inspector-start-column":"16","trae-inspector-end-line":"178","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20CT-e%20dispon%C3%ADvel%22%2C%22textStartLine%22%3A%22178%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22178%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-lg mb-2",children:"Nenhum CT-e disponível"}),e.jsx("p",{"trae-inspector-start-line":"179","trae-inspector-start-column":"16","trae-inspector-end-line":"181","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Todos%20os%20CT-es%20emitidos%20j%C3%A1%20foram%20alocados%20para%20viagens%20ou%20n%C3%A3o%20h%C3%A1%20CT-es%20cadastrados.%22%2C%22textStartLine%22%3A%22179%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22181%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground max-w-sm",children:"Todos os CT-es emitidos já foram alocados para viagens ou não há CT-es cadastrados."})]})}):e.jsx("div",{"trae-inspector-start-line":"185","trae-inspector-start-column":"12","trae-inspector-end-line":"263","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:l.map(u=>e.jsxs(k,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/50",children:[e.jsx(re,{className:"pb-3",children:e.jsxs("div",{"trae-inspector-start-line":"189","trae-inspector-start-column":"20","trae-inspector-end-line":"206","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"190","trae-inspector-start-column":"22","trae-inspector-end-line":"198","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5 text-primary"}),"CT-e ",u.numero_cte]}),e.jsx(I,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/30",children:u.status==="emitido"?"Emitido":"Autorizado"})]}),e.jsxs(_,{onClick:()=>g(u),className:"bg-gradient-to-r from-primary to-primary/80",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Criar Viagem"]})]})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"210","trae-inspector-start-column":"20","trae-inspector-end-line":"237","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 p-3 bg-muted/30 rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"211","trae-inspector-start-column":"22","trae-inspector-end-line":"219","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-2",children:[e.jsx(pe,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{"trae-inspector-start-line":"213","trae-inspector-start-column":"24","trae-inspector-end-line":"218","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 min-w-0",children:[e.jsx("p",{"trae-inspector-start-line":"214","trae-inspector-start-column":"26","trae-inspector-end-line":"214","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm truncate",children:u.remetente_nome}),e.jsxs("p",{"trae-inspector-start-line":"215","trae-inspector-start-column":"26","trae-inspector-end-line":"217","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[u.remetente_cidade,"/",u.remetente_uf]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"221","trae-inspector-start-column":"22","trae-inspector-end-line":"226","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 pl-2",children:[e.jsx("div",{"trae-inspector-start-line":"222","trae-inspector-start-column":"24","trae-inspector-end-line":"222","trae-inspector-end-column":"95","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"h-8 w-px bg-gradient-to-b from-green-600 to-red-600"}),e.jsxs("span",{"trae-inspector-start-line":"223","trae-inspector-start-column":"24","trae-inspector-end-line":"225","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["~",f(u.remetente_cidade,u.destinatario_cidade)," km"]})]}),e.jsxs("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"22","trae-inspector-end-line":"236","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-2",children:[e.jsx(pe,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{"trae-inspector-start-line":"230","trae-inspector-start-column":"24","trae-inspector-end-line":"235","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1 min-w-0",children:[e.jsx("p",{"trae-inspector-start-line":"231","trae-inspector-start-column":"26","trae-inspector-end-line":"231","trae-inspector-end-column":"99","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm truncate",children:u.destinatario_nome}),e.jsxs("p",{"trae-inspector-start-line":"232","trae-inspector-start-column":"26","trae-inspector-end-line":"234","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[u.destinatario_cidade,"/",u.destinatario_uf]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"240","trae-inspector-start-column":"20","trae-inspector-end-line":"259","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{"trae-inspector-start-line":"241","trae-inspector-start-column":"22","trae-inspector-end-line":"244","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-primary/5 rounded-lg",children:[e.jsx("p",{"trae-inspector-start-line":"242","trae-inspector-start-column":"24","trae-inspector-end-line":"242","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Produto%22%2C%22textStartLine%22%3A%22242%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22242%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Produto"}),e.jsx("p",{"trae-inspector-start-line":"243","trae-inspector-start-column":"24","trae-inspector-end-line":"243","trae-inspector-end-column":"100","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm truncate",children:u.produto_predominante})]}),e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"22","trae-inspector-end-line":"248","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-primary/5 rounded-lg",children:[e.jsx("p",{"trae-inspector-start-line":"246","trae-inspector-start-column":"24","trae-inspector-end-line":"246","trae-inspector-end-column":"89","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%20Sugerido%22%2C%22textStartLine%22%3A%22246%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22246%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Veículo Sugerido"}),e.jsx("p",{"trae-inspector-start-line":"247","trae-inspector-start-column":"24","trae-inspector-end-line":"247","trae-inspector-end-column":"94","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm font-mono",children:u.placa_veiculo})]}),e.jsxs("div",{"trae-inspector-start-line":"249","trae-inspector-start-column":"22","trae-inspector-end-line":"252","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-primary/5 rounded-lg",children:[e.jsx("p",{"trae-inspector-start-line":"250","trae-inspector-start-column":"24","trae-inspector-end-line":"250","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Peso%22%2C%22textStartLine%22%3A%22250%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22250%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Peso"}),e.jsxs("p",{"trae-inspector-start-line":"251","trae-inspector-start-column":"24","trae-inspector-end-line":"251","trae-inspector-end-column":"108","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm",children:[u.peso_bruto.toLocaleString("pt-BR")," kg"]})]}),e.jsxs("div",{"trae-inspector-start-line":"253","trae-inspector-start-column":"22","trae-inspector-end-line":"258","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-green-500/10 rounded-lg",children:[e.jsx("p",{"trae-inspector-start-line":"254","trae-inspector-start-column":"24","trae-inspector-end-line":"254","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Valor%22%2C%22textStartLine%22%3A%22254%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22254%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Valor"}),e.jsxs("p",{"trae-inspector-start-line":"255","trae-inspector-start-column":"24","trae-inspector-end-line":"257","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm text-green-600",children:["R$ ",u.valor_total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]},u.id))})]}),e.jsxs(P,{value:"active",className:"space-y-4 mt-6",children:[e.jsx("div",{"trae-inspector-start-line":"268","trae-inspector-start-column":"10","trae-inspector-end-line":"275","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between mb-4",children:e.jsxs("div",{"trae-inspector-start-line":"269","trae-inspector-start-column":"12","trae-inspector-end-line":"274","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h3",{"trae-inspector-start-line":"270","trae-inspector-start-column":"14","trae-inspector-end-line":"270","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Viagens%20em%20Opera%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22270%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22270%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:"Viagens em Operação"}),e.jsx("p",{"trae-inspector-start-line":"271","trae-inspector-start-column":"14","trae-inspector-end-line":"273","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Acompanhe%20todas%20as%20viagens%20planejadas%20e%20em%20andamento%22%2C%22textStartLine%22%3A%22271%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22273%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Acompanhe todas as viagens planejadas e em andamento"})]})}),x?e.jsx("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"12","trae-inspector-end-line":"280","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20viagens...%22%2C%22textStartLine%22%3A%22278%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22280%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-12 text-muted-foreground",children:"Carregando viagens..."}):a.length===0?e.jsx(k,{className:"border-dashed",children:e.jsxs(J,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(V,{className:"h-12 w-12 text-muted-foreground mb-4 opacity-50"}),e.jsx("h3",{"trae-inspector-start-line":"285","trae-inspector-start-column":"16","trae-inspector-end-line":"285","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20viagem%20ativa%22%2C%22textStartLine%22%3A%22285%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22285%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-lg mb-2",children:"Nenhuma viagem ativa"}),e.jsx("p",{"trae-inspector-start-line":"286","trae-inspector-start-column":"16","trae-inspector-end-line":"288","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Crie%20viagens%20a%20partir%20dos%20CT-es%20dispon%C3%ADveis%20para%20come%C3%A7ar%20o%20acompanhamento.%22%2C%22textStartLine%22%3A%22286%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22288%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground max-w-sm",children:"Crie viagens a partir dos CT-es disponíveis para começar o acompanhamento."})]})}):e.jsx("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"12","trae-inspector-end-line":"401","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:a.map(u=>e.jsxs(k,{className:"hover:shadow-lg transition-all duration-300",children:[e.jsx(re,{className:"pb-3",children:e.jsx("div",{"trae-inspector-start-line":"296","trae-inspector-start-column":"20","trae-inspector-end-line":"321","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between",children:e.jsxs("div",{"trae-inspector-start-line":"297","trae-inspector-start-column":"22","trae-inspector-end-line":"320","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"298","trae-inspector-start-column":"24","trae-inspector-end-line":"308","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsxs(ie,{className:"text-lg flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5 text-primary"}),u.origin," → ",u.destination]}),e.jsx(I,{className:c(u.status),children:u.status==="planejada"?"Planejada":u.status==="aprovada"?"Aprovada":u.status==="em_andamento"?"Em Andamento":"Concluída"})]}),e.jsxs("div",{"trae-inspector-start-line":"309","trae-inspector-start-column":"24","trae-inspector-end-line":"319","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{"trae-inspector-start-line":"310","trae-inspector-start-column":"26","trae-inspector-end-line":"313","trae-inspector-end-column":"33","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-1",children:[e.jsx(V,{className:"h-4 w-4"}),u.vehicle_plate]}),u.driver&&e.jsxs("span",{"trae-inspector-start-line":"315","trae-inspector-start-column":"28","trae-inspector-end-line":"317","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-1",children:["👤 ",u.driver.full_name]})]})]})})}),e.jsxs(J,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"325","trae-inspector-start-column":"20","trae-inspector-end-line":"340","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4 p-3 bg-muted/30 rounded-lg",children:[e.jsxs("div",{"trae-inspector-start-line":"326","trae-inspector-start-column":"22","trae-inspector-end-line":"332","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"327","trae-inspector-start-column":"24","trae-inspector-end-line":"327","trae-inspector-end-column":"94","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Partida%20Prevista%22%2C%22textStartLine%22%3A%22327%22%2C%22textStartColumn%22%3A%2274%22%2C%22textEndLine%22%3A%22327%22%2C%22textEndColumn%22%3A%2290%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mb-1",children:"Partida Prevista"}),e.jsxs("p",{"trae-inspector-start-line":"328","trae-inspector-start-column":"24","trae-inspector-end-line":"331","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm flex items-center gap-1",children:[e.jsx(ue,{className:"h-4 w-4"}),new Date(u.estimated_departure).toLocaleString("pt-BR")]})]}),e.jsxs("div",{"trae-inspector-start-line":"333","trae-inspector-start-column":"22","trae-inspector-end-line":"339","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"334","trae-inspector-start-column":"24","trae-inspector-end-line":"334","trae-inspector-end-column":"94","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Chegada%20Prevista%22%2C%22textStartLine%22%3A%22334%22%2C%22textStartColumn%22%3A%2274%22%2C%22textEndLine%22%3A%22334%22%2C%22textEndColumn%22%3A%2290%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mb-1",children:"Chegada Prevista"}),e.jsxs("p",{"trae-inspector-start-line":"335","trae-inspector-start-column":"24","trae-inspector-end-line":"338","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-sm flex items-center gap-1",children:[e.jsx(ue,{className:"h-4 w-4"}),new Date(u.estimated_arrival).toLocaleString("pt-BR")]})]})]}),u.ctes&&u.ctes.length>0&&e.jsxs("div",{"trae-inspector-start-line":"344","trae-inspector-start-column":"22","trae-inspector-end-line":"364","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("p",{"trae-inspector-start-line":"345","trae-inspector-start-column":"24","trae-inspector-end-line":"348","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),"CT-es Vinculados (",u.ctes.length,")"]}),e.jsx("div",{"trae-inspector-start-line":"349","trae-inspector-start-column":"24","trae-inspector-end-line":"363","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:u.ctes.map(s=>e.jsxs("div",{"trae-inspector-start-line":"351","trae-inspector-start-column":"28","trae-inspector-end-line":"361","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-primary/5 rounded border border-primary/20",children:[e.jsxs("div",{"trae-inspector-start-line":"352","trae-inspector-start-column":"30","trae-inspector-end-line":"357","trae-inspector-end-column":"36","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx("span",{"trae-inspector-start-line":"353","trae-inspector-start-column":"32","trae-inspector-end-line":"353","trae-inspector-end-column":"105","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs font-mono font-semibold",children:s.numero_cte}),e.jsxs(I,{variant:"outline",className:"text-xs",children:["R$ ",s.valor_total.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsx("p",{"trae-inspector-start-line":"358","trae-inspector-start-column":"30","trae-inspector-end-line":"360","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground mt-1 truncate",children:s.produto_predominante})]},s.id))})]}),u.notes&&e.jsxs("div",{"trae-inspector-start-line":"368","trae-inspector-start-column":"22","trae-inspector-end-line":"371","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2 bg-blue-500/5 rounded border border-blue-500/20",children:[e.jsx("p",{"trae-inspector-start-line":"369","trae-inspector-start-column":"24","trae-inspector-end-line":"369","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Observa%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22369%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22369%22%2C%22textEndColumn%22%3A%2280%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Observações"}),e.jsx("p",{"trae-inspector-start-line":"370","trae-inspector-start-column":"24","trae-inspector-end-line":"370","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:u.notes})]}),e.jsxs("div",{"trae-inspector-start-line":"375","trae-inspector-start-column":"20","trae-inspector-end-line":"397","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\TripManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs(_,{variant:"outline",className:"flex-1",size:"sm",children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"Ver Rastreamento"]}),u.status==="planejada"&&e.jsxs(_,{className:"flex-1 bg-green-600 hover:bg-green-700",size:"sm",onClick:async()=>{await L.from("trips").update({status:"aprovada"}).eq("id",u.id),t(),j.success("Viagem aprovada!")},children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Aprovar"]})]})]})]},u.id))})]})]}),e.jsx(Rt,{open:D,onOpenChange:n,cte:i,onTripCreated:d})]})};function Vt({open:l,onOpenChange:w,ordem:a,onSuccess:h}){const[x,A]=p.useState(!1),[i,C]=p.useState({numero_ordem:"",fornecedor_nome:"",fornecedor_cidade:"",fornecedor_uf:"",cliente_nome:"",cliente_cnpj:"",motorista_nome:"",motorista_telefone:"",placa_cavalo:"",placa_carreta:"",capacidade_carreta:"",produto:"",pedido_venda:""});p.useEffect(()=>{l&&(a?C({numero_ordem:a.numero_ordem||"",fornecedor_nome:a.fornecedor_nome||"",fornecedor_cidade:a.fornecedor_cidade||"",fornecedor_uf:a.fornecedor_uf||"",cliente_nome:a.cliente_nome||"",cliente_cnpj:a.cliente_cnpj||"",motorista_nome:a.motorista_nome||"",motorista_telefone:a.motorista_telefone||"",placa_cavalo:a.placa_cavalo||"",placa_carreta:a.placa_carreta||"",capacidade_carreta:a.capacidade_carreta||"",produto:a.produto||"",pedido_venda:a.pedido_venda||""}):D())},[l,a]);const D=()=>{const t=new Date,v=`OC-${t.getFullYear()}${String(t.getMonth()+1).padStart(2,"0")}${String(t.getDate()).padStart(2,"0")}-${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;C(r=>({...r,numero_ordem:v}))},n=async t=>{t.preventDefault(),A(!0);try{const{data:{user:v}}=await L.auth.getUser();if(a){const{error:r}=await L.from("ordem_coleta").update(i).eq("id",a.id);if(r)throw r;j.success("Ordem de coleta atualizada!")}else{const{error:r}=await L.from("ordem_coleta").insert({...i,created_by:v==null?void 0:v.id});if(r)throw r;j.success("Ordem de coleta criada!")}h==null||h(),w(!1)}catch(v){console.error("Erro:",v),j.error(v.message||"Erro ao salvar ordem de coleta")}finally{A(!1)}};return e.jsx(W,{open:l,onOpenChange:w,children:e.jsxs(Q,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsxs(ee,{children:[a?"Editar":"Nova"," Ordem de Coleta"]})}),e.jsxs("form",{"trae-inspector-start-line":"109","trae-inspector-start-column":"8","trae-inspector-end-line":"209","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:n,className:"space-y-4",children:[e.jsx("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"10","trae-inspector-end-line":"115","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{"trae-inspector-start-line":"111","trae-inspector-start-column":"12","trae-inspector-end-line":"114","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Número da Ordem"}),e.jsx(m,{value:i.numero_ordem,onChange:t=>C({...i,numero_ordem:t.target.value}),required:!0})]})}),e.jsxs("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"10","trae-inspector-end-line":"133","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h3",{"trae-inspector-start-line":"118","trae-inspector-start-column":"12","trae-inspector-end-line":"118","trae-inspector-end-column":"57","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Fornecedor%22%2C%22textStartLine%22%3A%22118%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22118%22%2C%22textEndColumn%22%3A%2252%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Fornecedor"}),e.jsxs("div",{"trae-inspector-start-line":"119","trae-inspector-start-column":"12","trae-inspector-end-line":"132","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"14","trae-inspector-end-line":"123","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"col-span-2",children:[e.jsx(o,{children:"Nome"}),e.jsx(m,{value:i.fornecedor_nome,onChange:t=>C({...i,fornecedor_nome:t.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"124","trae-inspector-start-column":"14","trae-inspector-end-line":"127","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Cidade"}),e.jsx(m,{value:i.fornecedor_cidade,onChange:t=>C({...i,fornecedor_cidade:t.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"128","trae-inspector-start-column":"14","trae-inspector-end-line":"131","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"UF"}),e.jsx(m,{value:i.fornecedor_uf,onChange:t=>C({...i,fornecedor_uf:t.target.value}),maxLength:2})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"135","trae-inspector-start-column":"10","trae-inspector-end-line":"147","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h3",{"trae-inspector-start-line":"136","trae-inspector-start-column":"12","trae-inspector-end-line":"136","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Destino%20%2F%20Cliente%22%2C%22textStartLine%22%3A%22136%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22136%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Destino / Cliente"}),e.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"12","trae-inspector-end-line":"146","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"14","trae-inspector-end-line":"141","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Nome"}),e.jsx(m,{value:i.cliente_nome,onChange:t=>C({...i,cliente_nome:t.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"142","trae-inspector-start-column":"14","trae-inspector-end-line":"145","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"CNPJ"}),e.jsx(m,{value:i.cliente_cnpj,onChange:t=>C({...i,cliente_cnpj:t.target.value}),required:!0})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"149","trae-inspector-start-column":"10","trae-inspector-end-line":"161","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h3",{"trae-inspector-start-line":"150","trae-inspector-start-column":"12","trae-inspector-end-line":"150","trae-inspector-end-column":"56","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Motorista%22%2C%22textStartLine%22%3A%22150%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22150%22%2C%22textEndColumn%22%3A%2251%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Motorista"}),e.jsxs("div",{"trae-inspector-start-line":"151","trae-inspector-start-column":"12","trae-inspector-end-line":"160","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"152","trae-inspector-start-column":"14","trae-inspector-end-line":"155","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Nome"}),e.jsx(m,{value:i.motorista_nome,onChange:t=>C({...i,motorista_nome:t.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"156","trae-inspector-start-column":"14","trae-inspector-end-line":"159","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Telefone"}),e.jsx(m,{value:i.motorista_telefone,onChange:t=>C({...i,motorista_telefone:t.target.value})})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"163","trae-inspector-start-column":"10","trae-inspector-end-line":"189","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("h3",{"trae-inspector-start-line":"164","trae-inspector-start-column":"12","trae-inspector-end-line":"164","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculos%22%2C%22textStartLine%22%3A%22164%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22164%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Veículos"}),e.jsxs("div",{"trae-inspector-start-line":"165","trae-inspector-start-column":"12","trae-inspector-end-line":"188","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"14","trae-inspector-end-line":"174","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa Cavalo"}),e.jsx($,{value:i.placa_cavalo,onChange:t=>C({...i,placa_cavalo:t}),filter:t=>t.type==="caminhao"||t.type==="cavalo",placeholder:"Selecione"})]}),e.jsxs("div",{"trae-inspector-start-line":"175","trae-inspector-start-column":"14","trae-inspector-end-line":"183","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Placa Carreta"}),e.jsx($,{value:i.placa_carreta,onChange:t=>C({...i,placa_carreta:t}),filter:t=>t.type==="carreta"||t.type==="reboque",placeholder:"Selecione"})]}),e.jsxs("div",{"trae-inspector-start-line":"184","trae-inspector-start-column":"14","trae-inspector-end-line":"187","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Capacidade"}),e.jsx(m,{value:i.capacidade_carreta,onChange:t=>C({...i,capacidade_carreta:t.target.value}),placeholder:"Ex: 24.000 LT - 36 TON"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"191","trae-inspector-start-column":"10","trae-inspector-end-line":"200","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"192","trae-inspector-start-column":"12","trae-inspector-end-line":"195","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Produto"}),e.jsx(m,{value:i.produto,onChange:t=>C({...i,produto:t.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"196","trae-inspector-start-column":"12","trae-inspector-end-line":"199","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(o,{children:"Pedido de Venda"}),e.jsx(m,{value:i.pedido_venda,onChange:t=>C({...i,pedido_venda:t.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"202","trae-inspector-start-column":"10","trae-inspector-end-line":"208","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsxs(_,{type:"submit",disabled:x,children:[x&&e.jsx(le,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Atualizar":"Criar"]})]})]})]})})}function It(){const[l,w]=p.useState([]),[a,h]=p.useState(!0),[x,A]=p.useState(""),[i,C]=p.useState(!1),[D,n]=p.useState(null);p.useEffect(()=>{t()},[]);const t=async()=>{h(!0);try{const{data:d,error:c}=await L.from("ordem_coleta").select("*").order("data_emissao",{ascending:!1});if(c)throw c;w(d||[])}catch(d){j.error("Erro ao carregar ordens de coleta"),console.error(d)}finally{h(!1)}},v=async d=>{try{j.info("Gerando PDF...");const{data:c,error:f}=await L.functions.invoke("generate-ordem-coleta-pdf",{body:{ordem_id:d.id}});if(f)throw f;const u=window.open("","_blank");u&&(u.document.write(c.html),u.document.close(),u.focus(),setTimeout(()=>{u.print()},250)),j.success("PDF gerado com sucesso!")}catch(c){console.error("Erro ao gerar PDF:",c),j.error("Erro ao gerar PDF")}},r=l.filter(d=>{var c,f,u;return((c=d.numero_ordem)==null?void 0:c.toLowerCase().includes(x.toLowerCase()))||((f=d.cliente_nome)==null?void 0:f.toLowerCase().includes(x.toLowerCase()))||((u=d.motorista_nome)==null?void 0:u.toLowerCase().includes(x.toLowerCase()))}),g=d=>{const c={pendente:"secondary",coletado:"default",cancelado:"destructive"};return e.jsx(I,{variant:c[d]||"outline",children:d})};return e.jsxs("div",{"trae-inspector-start-line":"88","trae-inspector-start-column":"4","trae-inspector-end-line":"175","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"6","trae-inspector-end-line":"95","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx("h2",{"trae-inspector-start-line":"90","trae-inspector-start-column":"8","trae-inspector-end-line":"90","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ordens%20de%20Coleta%22%2C%22textStartLine%22%3A%2290%22%2C%22textStartColumn%22%3A%2243%22%2C%22textEndLine%22%3A%2290%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Ordens de Coleta"}),e.jsxs(_,{onClick:()=>{n(null),C(!0)},children:[e.jsx(ve,{className:"mr-2 h-4 w-4"}),"Nova Ordem"]})]}),e.jsxs(k,{className:"p-4",children:[e.jsxs("div",{"trae-inspector-start-line":"98","trae-inspector-start-column":"8","trae-inspector-end-line":"106","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-4",children:[e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(m,{placeholder:"Buscar por número, cliente ou motorista...",value:x,onChange:d=>A(d.target.value),className:"max-w-sm"})]}),a?e.jsx("div",{"trae-inspector-start-line":"109","trae-inspector-start-column":"10","trae-inspector-end-line":"109","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22109%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22109%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:"Carregando..."}):r.length===0?e.jsxs("div",{"trae-inspector-start-line":"111","trae-inspector-start-column":"10","trae-inspector-end-line":"114","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8 text-muted-foreground",children:[e.jsx(oe,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{"trae-inspector-start-line":"113","trae-inspector-start-column":"12","trae-inspector-end-line":"113","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20ordem%20de%20coleta%20encontrada%22%2C%22textStartLine%22%3A%22113%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%22113%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhuma ordem de coleta encontrada"})]}):e.jsxs(De,{children:[e.jsx(fe,{children:e.jsxs(Z,{children:[e.jsx(N,{children:"Número"}),e.jsx(N,{children:"Data"}),e.jsx(N,{children:"Cliente"}),e.jsx(N,{children:"Motorista"}),e.jsx(N,{children:"Placas"}),e.jsx(N,{children:"Produto"}),e.jsx(N,{children:"Status"}),e.jsx(N,{children:"Ações"})]})}),e.jsx(be,{children:r.map(d=>e.jsxs(Z,{children:[e.jsx(T,{className:"font-medium",children:d.numero_ordem}),e.jsx(T,{children:Ue(new Date(d.data_emissao),"dd/MM/yyyy")}),e.jsx(T,{children:d.cliente_nome}),e.jsx(T,{children:d.motorista_nome}),e.jsx(T,{children:e.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"20","trae-inspector-end-line":"140","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:[d.placa_cavalo,d.placa_carreta&&` / ${d.placa_carreta}`]})}),e.jsx(T,{children:d.produto}),e.jsx(T,{children:g(d.status)}),e.jsx(T,{children:e.jsxs("div",{"trae-inspector-start-line":"145","trae-inspector-start-column":"20","trae-inspector-end-line":"160","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\tms\\\\OrdemColetaManagement.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(_,{size:"sm",variant:"outline",onClick:()=>v(d),children:e.jsx(Be,{className:"h-4 w-4"})}),e.jsx(_,{size:"sm",variant:"ghost",onClick:()=>{n(d),C(!0)},children:"Editar"})]})})]},d.id))})]})]}),e.jsx(Vt,{open:i,onOpenChange:C,ordem:D,onSuccess:t})]})}function kt(){const[l,w]=p.useState([]),[a,h]=p.useState(!0);return p.useEffect(()=>{async function x(){h(!0);const{data:A,error:i}=await L.from("vehicles").select("*").order("placa",{ascending:!0});if(i){console.error("Erro ao carregar veículos:",i),h(!1);return}w(A||[]),h(!1)}x()},[]),a?e.jsx("p",{"trae-inspector-start-line":"31","trae-inspector-start-column":"11","trae-inspector-end-line":"31","trae-inspector-end-column":"40","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20ve%C3%ADculos...%22%2C%22textStartLine%22%3A%2231%22%2C%22textStartColumn%22%3A%2214%22%2C%22textEndLine%22%3A%2231%22%2C%22textEndColumn%22%3A%2236%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Carregando veículos..."}):e.jsxs("div",{"trae-inspector-start-line":"35","trae-inspector-start-column":"4","trae-inspector-end-line":"58","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",style:{padding:"16px"},children:[e.jsx("h2",{"trae-inspector-start-line":"36","trae-inspector-start-column":"6","trae-inspector-end-line":"36","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Lista%20de%20Ve%C3%ADculos%22%2C%22textStartLine%22%3A%2236%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%2236%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",style:{fontSize:"20px",marginBottom:"12px"},children:"Lista de Veículos"}),l.length===0&&e.jsx("p",{"trae-inspector-start-line":"38","trae-inspector-start-column":"32","trae-inspector-end-line":"38","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20ve%C3%ADculo%20encontrado.%22%2C%22textStartLine%22%3A%2238%22%2C%22textStartColumn%22%3A%2235%22%2C%22textEndLine%22%3A%2238%22%2C%22textEndColumn%22%3A%2261%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Nenhum veículo encontrado."}),e.jsx("ul",{"trae-inspector-start-line":"40","trae-inspector-start-column":"6","trae-inspector-end-line":"57","trae-inspector-end-column":"11","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",style:{listStyle:"none",padding:0},children:l.map(x=>e.jsxs("li",{"trae-inspector-start-line":"42","trae-inspector-start-column":"10","trae-inspector-end-line":"55","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",style:{padding:"12px",marginBottom:"10px",background:"#f5f5f5",borderRadius:"6px"},children:[e.jsx("strong",{"trae-inspector-start-line":"51","trae-inspector-start-column":"12","trae-inspector-end-line":"51","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Placa%3A%22%2C%22textStartLine%22%3A%2251%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2251%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Placa:"})," ",x.placa," ",e.jsx("br",{"trae-inspector-start-line":"51","trae-inspector-start-column":"46","trae-inspector-end-line":"51","trae-inspector-end-column":"52","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D"}),e.jsx("strong",{"trae-inspector-start-line":"52","trae-inspector-start-column":"12","trae-inspector-end-line":"52","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tipo%3A%22%2C%22textStartLine%22%3A%2252%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2252%22%2C%22textEndColumn%22%3A%2225%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Tipo:"})," ",x.tipo," ",e.jsx("br",{"trae-inspector-start-line":"52","trae-inspector-start-column":"44","trae-inspector-end-line":"52","trae-inspector-end-column":"50","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D"}),e.jsx("strong",{"trae-inspector-start-line":"53","trae-inspector-start-column":"12","trae-inspector-end-line":"53","trae-inspector-end-column":"36","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Modelo%3A%22%2C%22textStartLine%22%3A%2253%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2253%22%2C%22textEndColumn%22%3A%2227%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Modelo:"})," ",x.modelo," ",e.jsx("br",{"trae-inspector-start-line":"53","trae-inspector-start-column":"48","trae-inspector-end-line":"53","trae-inspector-end-column":"54","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D"}),e.jsx("strong",{"trae-inspector-start-line":"54","trae-inspector-start-column":"12","trae-inspector-end-line":"54","trae-inspector-end-column":"42","trae-inspector-file-path":"src\\\\components\\\\tms\\\\VehicleList.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Propriet%C3%A1rio%3A%22%2C%22textStartLine%22%3A%2254%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2254%22%2C%22textEndColumn%22%3A%2233%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Proprietário:"})," ",x.proprietario||"—"]},x.id))})]})}function qt(l){const w=Math.max(0,l.distanceKm||0),a=Math.max(.1,l.avgConsumptionKmPerLiter||3),h=Math.max(0,l.fuelPricePerLiter||5),x=Math.max(0,l.tolls||0),A=Math.max(0,l.variableCostPerKm||.5),i=Math.max(0,l.fixedCost||0),C=w/a,D=C*h,n=A*w;return{total:i+D+x+n,fuelCost:D,tolls:x,variableCost:n,liters:C}}function $t(){const[l,w]=p.useState({distanceKm:"",avgConsumptionKmPerLiter:"3.5",fuelPricePerLiter:"6.00",tolls:"0",variableCostPerKm:"0.50",fixedCost:"0"}),a=qt({distanceKm:parseFloat(l.distanceKm||"0"),avgConsumptionKmPerLiter:parseFloat(l.avgConsumptionKmPerLiter||"0"),fuelPricePerLiter:parseFloat(l.fuelPricePerLiter||"0"),tolls:parseFloat(l.tolls||"0"),variableCostPerKm:parseFloat(l.variableCostPerKm||"0"),fixedCost:parseFloat(l.fixedCost||"0")});return e.jsxs(k,{className:"p-4 space-y-3",children:[e.jsx("div",{"trae-inspector-start-line":"20","trae-inspector-start-column":"6","trae-inspector-end-line":"20","trae-inspector-end-column":"70","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Estimativa%20de%20Custo%20da%20Rota%22%2C%22textStartLine%22%3A%2220%22%2C%22textStartColumn%22%3A%2237%22%2C%22textEndLine%22%3A%2220%22%2C%22textEndColumn%22%3A%2264%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Estimativa de Custo da Rota"}),e.jsxs("div",{"trae-inspector-start-line":"21","trae-inspector-start-column":"6","trae-inspector-end-line":"28","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[e.jsx(m,{placeholder:"Distância (km)",value:l.distanceKm,onChange:h=>w({...l,distanceKm:h.target.value})}),e.jsx(m,{placeholder:"KM/L",value:l.avgConsumptionKmPerLiter,onChange:h=>w({...l,avgConsumptionKmPerLiter:h.target.value})}),e.jsx(m,{placeholder:"Preço/L (R$)",value:l.fuelPricePerLiter,onChange:h=>w({...l,fuelPricePerLiter:h.target.value})}),e.jsx(m,{placeholder:"Pedágios (R$)",value:l.tolls,onChange:h=>w({...l,tolls:h.target.value})}),e.jsx(m,{placeholder:"Var R$/km",value:l.variableCostPerKm,onChange:h=>w({...l,variableCostPerKm:h.target.value})}),e.jsx(m,{placeholder:"Fixo (R$)",value:l.fixedCost,onChange:h=>w({...l,fixedCost:h.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"29","trae-inspector-start-column":"6","trae-inspector-end-line":"34","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"30","trae-inspector-start-column":"8","trae-inspector-end-line":"30","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["Combustível: R$ ",a.fuelCost.toFixed(2)," • ",a.liters.toFixed(1)," L"]}),e.jsxs("div",{"trae-inspector-start-line":"31","trae-inspector-start-column":"8","trae-inspector-end-line":"31","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["Pedágios: R$ ",a.tolls.toFixed(2)]}),e.jsxs("div",{"trae-inspector-start-line":"32","trae-inspector-start-column":"8","trae-inspector-end-line":"32","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["Variável: R$ ",a.variableCost.toFixed(2)]}),e.jsxs("div",{"trae-inspector-start-line":"33","trae-inspector-start-column":"8","trae-inspector-end-line":"33","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold",children:["Total: R$ ",a.total.toFixed(2)]})]}),e.jsx("div",{"trae-inspector-start-line":"35","trae-inspector-start-column":"6","trae-inspector-end-line":"37","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\tms\\\\CostEstimator.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end",children:e.jsx(_,{variant:"modern",children:"Aplicar na Viagem"})})]})}const $r=()=>e.jsx(rt,{children:e.jsxs("div",{"trae-inspector-start-line":"23","trae-inspector-start-column":"6","trae-inspector-end-line":"118","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-8",children:[e.jsxs("div",{"trae-inspector-start-line":"24","trae-inspector-start-column":"8","trae-inspector-end-line":"29","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsx("h1",{"trae-inspector-start-line":"25","trae-inspector-start-column":"10","trae-inspector-end-line":"25","trae-inspector-end-column":"107","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22TMS%20-%20Transport%20Management%22%2C%22textStartLine%22%3A%2225%22%2C%22textStartColumn%22%3A%2276%22%2C%22textEndLine%22%3A%2225%22%2C%22textEndColumn%22%3A%22102%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-4xl font-bold tracking-tight text-foreground",children:"TMS - Transport Management"}),e.jsx("p",{"trae-inspector-start-line":"26","trae-inspector-start-column":"10","trae-inspector-end-line":"28","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sistema%20de%20Gest%C3%A3o%20de%20Transportes%20e%20Log%C3%ADstica%22%2C%22textStartLine%22%3A%2226%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%2228%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-base text-muted-foreground",children:"Sistema de Gestão de Transportes e Logística"})]}),e.jsxs("div",{"trae-inspector-start-line":"32","trae-inspector-start-column":"8","trae-inspector-end-line":"56","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ne,{title:"Viagens Ativas",value:"38",icon:V,trend:{value:"+5 hoje",positive:!0}}),e.jsx(ne,{title:"Taxa Ocupação",value:"87%",icon:te,trend:{value:"+3% vs ontem",positive:!0}}),e.jsx(ne,{title:"Entregas no Prazo",value:"94.2%",icon:ue}),e.jsx(ne,{title:"Receita Mês",value:"R$ 485k",icon:at,trend:{value:"+12%",positive:!0}})]}),e.jsxs(we,{defaultValue:"trips",className:"w-full",children:[e.jsxs(Ae,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-1",children:[e.jsx(F,{value:"trips",className:"text-xs sm:text-sm",children:"Viagens"}),e.jsx(F,{value:"rotas",className:"text-xs sm:text-sm",children:"Rotas"}),e.jsx(F,{value:"ordem-coleta",className:"text-xs sm:text-sm",children:"Ordem Coleta"}),e.jsx(F,{value:"veiculos",className:"text-xs sm:text-sm",children:"Cavalos"}),e.jsx(F,{value:"cte",className:"text-xs sm:text-sm",children:"CT-e"}),e.jsx(F,{value:"mdfe",className:"text-xs sm:text-sm",children:"MDF-e"}),e.jsx(F,{value:"receita",className:"text-xs sm:text-sm",children:"Receita"})]}),e.jsx(P,{value:"trips",children:e.jsx(Ot,{})}),e.jsx(P,{value:"rotas",children:e.jsx(vt,{})}),e.jsx(P,{value:"ordem-coleta",children:e.jsx(It,{})}),e.jsx(P,{value:"veiculos",children:e.jsxs(k,{children:[e.jsx(re,{children:e.jsxs(ie,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Lista de Cavalos Mecânicos"]})}),e.jsx(J,{children:e.jsx(kt,{})})]})}),e.jsx(P,{value:"cte",children:e.jsxs("div",{"trae-inspector-start-line":"102","trae-inspector-start-column":"12","trae-inspector-end-line":"105","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\TMS.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:[e.jsx($t,{}),e.jsx(Mt,{})]})}),e.jsx(P,{value:"mdfe",children:e.jsx(Pt,{})}),e.jsx(P,{value:"receita",children:e.jsx(ut,{})})]})]})});export{$r as default};
