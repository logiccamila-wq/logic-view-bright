import{r as o,j as e,B as d}from"./index-BiNiRHKa.js";import{L as S}from"./Layout-Dp_kOeVO.js";import{C as A,a as w,b,d as v}from"./card-TfuIT_5Q.js";import{I as h}from"./input-CbZeJBr9.js";import{d as E,a as f,b as k}from"./demoStore-BIsfGJR8.js";import"./index-DIpBNjZJ.js";import"./index-CwEJSXtc.js";import"./index-CDnZEIrr.js";import"./badge-DNXvGi58.js";import"./select-QQKt8PR4.js";import"./index-BjTUNxlL.js";import"./chevron-down-CMfBZ8DZ.js";import"./check-CRXfG46A.js";import"./user-DUMs6VdZ.js";import"./triangle-alert-DWEkvv_3.js";import"./circle-check-big-SjvrQ4v6.js";import"./warehouse-DuizGI0Y.js";import"./trending-up-DqnRdfA9.js";import"./settings-ADCDQZ7C.js";import"./sparkles-Dn6_ZUdd.js";import"./tabs-D0EqSZrJ.js";const O=["trips","service_orders","refuelings","vehicles","cte","gate_events","finance_ledgers","non_conformities"];function te(){const[r,D]=o.useState("trips"),[j,L]=o.useState([]),[a,p]=o.useState({}),[g,i]=o.useState(!1),[u,s]=o.useState(""),x=async(t,C,l)=>{const n=await fetch("/api/db",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({op:t,table:C,data:l})}),m=await n.text();try{return{ok:n.ok,data:JSON.parse(m)}}catch{return{ok:n.ok,data:{raw:m}}}},c=async()=>{i(!0),s("");const t=await x("list",r),C=Array.isArray(t.data)?t.data:E(r);L(C),i(!1)};o.useEffect(()=>{c()},[r]);const y=async()=>{i(!0),s("");try{const l=(await(await fetch("/api/seed-demo")).json()).demo||{};for(const n of Object.keys(l)){const m=Array.isArray(l[n])?l[n]:[];for(const N of m)f(n,N)}s("Demo importado localmente"),c()}catch{s("Falha ao importar demo")}finally{i(!1)}},B=async()=>{i(!0),s(""),(await x("create",r,a)).ok?(s("Criado"),p({}),c()):(f(r,a),s("Criado localmente"),p({}),c()),i(!1)},U=async t=>{i(!0),s(""),(await fetch("/api/db",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({op:"delete",table:r,id:t})})).ok||k(r,t),i(!1),c()};return e.jsx(S,{children:e.jsxs("div",{"trae-inspector-start-line":"68","trae-inspector-start-column":"6","trae-inspector-end-line":"127","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"69","trae-inspector-start-column":"8","trae-inspector-end-line":"81","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"70","trae-inspector-start-column":"10","trae-inspector-end-line":"73","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h1",{"trae-inspector-start-line":"71","trae-inspector-start-column":"12","trae-inspector-end-line":"71","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Admin%20Dados%22%2C%22textStartLine%22%3A%2271%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%2271%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold",children:"Admin Dados"}),e.jsx("p",{"trae-inspector-start-line":"72","trae-inspector-start-column":"12","trae-inspector-end-line":"72","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22CRUD%20r%C3%A1pido%20integrado%20ao%20Supabase%22%2C%22textStartLine%22%3A%2272%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2272%22%2C%22textEndColumn%22%3A%2282%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"CRUD rápido integrado ao Supabase"})]}),e.jsxs("div",{"trae-inspector-start-line":"74","trae-inspector-start-column":"10","trae-inspector-end-line":"80","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx("select",{"trae-inspector-start-line":"75","trae-inspector-start-column":"12","trae-inspector-end-line":"77","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border rounded px-3 py-2",value:r,onChange:t=>D(t.target.value),children:O.map(t=>e.jsx("option",{"trae-inspector-start-line":"76","trae-inspector-start-column":"32","trae-inspector-end-line":"76","trae-inspector-end-column":"70","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",value:t,children:t},t))}),e.jsx(d,{onClick:c,disabled:g,children:"Atualizar"}),e.jsx(d,{variant:"outline",onClick:y,disabled:g,children:"Importar demo"})]})]}),e.jsxs(A,{children:[e.jsx(w,{children:e.jsx(b,{children:"Criar"})}),e.jsxs(v,{className:"space-y-3",children:[e.jsxs("div",{"trae-inspector-start-line":"88","trae-inspector-start-column":"12","trae-inspector-end-line":"94","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[Object.keys(a).length===0&&e.jsx(h,{placeholder:"campo:valor",value:"",onChange:()=>{}}),e.jsx(h,{placeholder:"campo",value:a.field||"",onChange:t=>p({...a,field:t.target.value})}),e.jsx(h,{placeholder:"valor",value:a.value||"",onChange:t=>p({...a,value:t.target.value})})]}),e.jsx(d,{onClick:B,disabled:g,children:"Criar"}),u&&e.jsx("div",{"trae-inspector-start-line":"96","trae-inspector-start-column":"24","trae-inspector-end-line":"96","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:u})]})]}),e.jsxs(A,{children:[e.jsx(w,{children:e.jsx(b,{children:"Registros"})}),e.jsx(v,{children:e.jsx("div",{"trae-inspector-start-line":"105","trae-inspector-start-column":"12","trae-inspector-end-line":"124","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"overflow-auto",children:e.jsxs("table",{"trae-inspector-start-line":"106","trae-inspector-start-column":"14","trae-inspector-end-line":"123","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"min-w-full text-sm",children:[e.jsx("thead",{"trae-inspector-start-line":"107","trae-inspector-start-column":"16","trae-inspector-end-line":"113","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:e.jsxs("tr",{"trae-inspector-start-line":"108","trae-inspector-start-column":"18","trae-inspector-end-line":"112","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("th",{"trae-inspector-start-line":"109","trae-inspector-start-column":"20","trae-inspector-end-line":"109","trae-inspector-end-column":"57","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22id%22%2C%22textStartLine%22%3A%22109%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%22109%22%2C%22textEndColumn%22%3A%2252%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-left p-2",children:"id"}),e.jsx("th",{"trae-inspector-start-line":"110","trae-inspector-start-column":"20","trae-inspector-end-line":"110","trae-inspector-end-column":"60","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22dados%22%2C%22textStartLine%22%3A%22110%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%22110%22%2C%22textEndColumn%22%3A%2255%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-left p-2",children:"dados"}),e.jsx("th",{"trae-inspector-start-line":"111","trae-inspector-start-column":"20","trae-inspector-end-line":"111","trae-inspector-end-column":"60","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22a%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22111%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2255%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-left p-2",children:"ações"})]})}),e.jsx("tbody",{"trae-inspector-start-line":"114","trae-inspector-start-column":"16","trae-inspector-end-line":"122","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:j.map(t=>e.jsxs("tr",{"trae-inspector-start-line":"116","trae-inspector-start-column":"20","trae-inspector-end-line":"120","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border-t",children:[e.jsx("td",{"trae-inspector-start-line":"117","trae-inspector-start-column":"22","trae-inspector-end-line":"117","trae-inspector-end-column":"60","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2",children:t.id||"-"}),e.jsx("td",{"trae-inspector-start-line":"118","trae-inspector-start-column":"22","trae-inspector-end-line":"118","trae-inspector-end-column":"118","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2",children:e.jsx("pre",{"trae-inspector-start-line":"118","trae-inspector-start-column":"42","trae-inspector-end-line":"118","trae-inspector-end-column":"113","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"whitespace-pre-wrap",children:JSON.stringify(t,null,2)})}),e.jsx("td",{"trae-inspector-start-line":"119","trae-inspector-start-column":"22","trae-inspector-end-line":"119","trae-inspector-end-column":"130","trae-inspector-file-path":"src\\\\pages\\\\Admin.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-2",children:e.jsx(d,{variant:"outline",onClick:()=>U(t.id),disabled:!t.id,children:"Excluir"})})]},t.id||JSON.stringify(t)))})]})})})]})]})})}export{te as default};
