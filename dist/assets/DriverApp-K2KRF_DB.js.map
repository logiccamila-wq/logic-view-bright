{"version":3,"file":"DriverApp-K2KRF_DB.js","sources":["../../node_modules/lucide-react/dist/esm/icons/route.js","../../node_modules/lucide-react/dist/esm/icons/square.js","../../node_modules/lucide-react/dist/esm/icons/trophy.js","../../node_modules/lucide-react/dist/esm/icons/utensils.js","../../node_modules/date-fns/differenceInDays.mjs","../../src/components/driver/VehicleChangeDialog.tsx","../../src/components/driver/WorkSessionPanel.tsx","../../src/components/driver/FuelExpenseDialog.tsx","../../src/components/driver/TripExpenseDialog.tsx","../../src/components/driver/DriverChecklist.tsx","../../src/components/driver/TripAlerts.tsx","../../src/components/driver/DriverPerformance.tsx","../../src/components/driver/DriverPayrollHistory.tsx","../../src/components/driver/DriverRouteFinancial.tsx","../../src/components/driver/DeliveryRouting.tsx","../../src/components/driver/LiveLocationToggle.tsx","../../src/pages/DriverApp.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"6\", cy: \"19\", r: \"3\", key: \"1kj8tv\" }],\n  [\"path\", { d: \"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15\", key: \"1d8sl\" }],\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }]\n];\nconst Route = createLucideIcon(\"route\", __iconNode);\n\nexport { __iconNode, Route as default };\n//# sourceMappingURL=route.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }]\n];\nconst Square = createLucideIcon(\"square\", __iconNode);\n\nexport { __iconNode, Square as default };\n//# sourceMappingURL=square.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\", key: \"17hqa7\" }],\n  [\"path\", { d: \"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\", key: \"lmptdp\" }],\n  [\"path\", { d: \"M4 22h16\", key: \"57wxv0\" }],\n  [\"path\", { d: \"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\", key: \"1nw9bq\" }],\n  [\"path\", { d: \"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\", key: \"1np0yb\" }],\n  [\"path\", { d: \"M18 2H6v7a6 6 0 0 0 12 0V2Z\", key: \"u46fv3\" }]\n];\nconst Trophy = createLucideIcon(\"trophy\", __iconNode);\n\nexport { __iconNode, Trophy as default };\n//# sourceMappingURL=trophy.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\", key: \"cjf0a3\" }],\n  [\"path\", { d: \"M7 2v20\", key: \"1473qp\" }],\n  [\"path\", { d: \"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\", key: \"j28e5\" }]\n];\nconst Utensils = createLucideIcon(\"utensils\", __iconNode);\n\nexport { __iconNode, Utensils as default };\n//# sourceMappingURL=utensils.js.map\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.trunc(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full days according to the local timezone\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n *\n * @example\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n * //=> 92\n */\nexport function differenceInDays(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareLocalAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(differenceInCalendarDays(_dateLeft, _dateRight));\n\n  _dateLeft.setDate(_dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  const isLastDayNotFull = Number(\n    compareLocalAsc(_dateLeft, _dateRight) === -sign,\n  );\n  const result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  const diff =\n    dateLeft.getFullYear() - dateRight.getFullYear() ||\n    dateLeft.getMonth() - dateRight.getMonth() ||\n    dateLeft.getDate() - dateRight.getDate() ||\n    dateLeft.getHours() - dateRight.getHours() ||\n    dateLeft.getMinutes() - dateRight.getMinutes() ||\n    dateLeft.getSeconds() - dateRight.getSeconds() ||\n    dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default differenceInDays;\n","import { useState, useEffect } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { Truck, AlertCircle } from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\n\r\ninterface VehicleChangeDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  currentSessionId: string;\r\n  currentVehicle: string;\r\n  onVehicleChanged: () => void;\r\n}\r\n\r\ninterface Vehicle {\r\n  placa: string;\r\n  modelo: string;\r\n  tipo: string;\r\n}\r\n\r\nexport const VehicleChangeDialog = ({ \r\n  open, \r\n  onOpenChange, \r\n  currentSessionId, \r\n  currentVehicle,\r\n  onVehicleChanged \r\n}: VehicleChangeDialogProps) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\r\n  const [carretas, setCarretas] = useState<Vehicle[]>([]);\r\n  const [selectedVehicle, setSelectedVehicle] = useState(currentVehicle);\r\n  const [selectedCarreta, setSelectedCarreta] = useState(\"\");\r\n  const [motivo, setMotivo] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      loadVehicles();\r\n    }\r\n  }, [open]);\r\n\r\n  const loadVehicles = async () => {\r\n    // Buscar cavalos mecânicos\r\n    const { data: cavaloData, error: cavaloError } = await supabase\r\n      .from('vehicles')\r\n      .select('*')\r\n      .eq('tipo', 'cavalo')\r\n      .in('status', ['ativo', 'Ativo']);\r\n\r\n    if (cavaloError) {\r\n      console.error('Erro ao carregar cavalos:', cavaloError);\r\n    }\r\n\r\n    const mappedCavalos = (cavaloData || [])\r\n      .map((v: any) => ({ placa: v.placa || v.plate, modelo: v.modelo || v.model || '', tipo: v.tipo || '' }))\r\n      .filter((v) => !!v.placa)\r\n      .sort((a, b) => a.placa.localeCompare(b.placa));\r\n\r\n    setVehicles(mappedCavalos);\r\n\r\n    // Buscar carretas\r\n    const { data: carretaData, error: carretaError } = await supabase\r\n      .from('vehicles')\r\n      .select('*')\r\n      .eq('tipo', 'carreta')\r\n      .in('status', ['ativo', 'Ativo']);\r\n\r\n    if (carretaError) {\r\n      console.error('Erro ao carregar carretas:', carretaError);\r\n    }\r\n\r\n    const mappedCarretas = (carretaData || [])\r\n      .map((v: any) => ({ placa: v.placa || v.plate, modelo: v.modelo || v.model || '', tipo: v.tipo || '' }))\r\n      .filter((v) => !!v.placa)\r\n      .sort((a, b) => a.placa.localeCompare(b.placa));\r\n\r\n    setCarretas(mappedCarretas);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!selectedVehicle) {\r\n      toast.error('Selecione o novo cavalo mecânico');\r\n      return;\r\n    }\r\n\r\n    if (!motivo) {\r\n      toast.error('Informe o motivo da troca');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Atualizar a sessão de trabalho com o novo veículo\r\n      const { error: sessionError } = await supabase\r\n        .from('driver_work_sessions')\r\n        .update({\r\n          vehicle_plate: selectedVehicle,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', currentSessionId);\r\n\r\n      if (sessionError) throw sessionError;\r\n\r\n      // Registrar o evento de troca\r\n      const { error: eventError } = await supabase\r\n        .from('driver_work_events')\r\n        .insert({\r\n          session_id: currentSessionId,\r\n          driver_id: (await supabase.auth.getUser()).data.user?.id,\r\n          tipo_atividade: 'trabalho',\r\n          data_hora_inicio: new Date().toISOString(),\r\n          observacoes: `Troca de veículo: ${currentVehicle} → ${selectedVehicle}${selectedCarreta ? ` + Carreta ${selectedCarreta}` : ''}\\nMotivo: ${motivo}`,\r\n          automatico: false\r\n        });\r\n\r\n      if (eventError) throw eventError;\r\n\r\n      toast.success('Veículo atualizado com sucesso!');\r\n      onVehicleChanged();\r\n      onOpenChange(false);\r\n    } catch (error) {\r\n      console.error('Erro ao trocar veículo:', error);\r\n      toast.error('Erro ao trocar veículo');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[500px]\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Truck className=\"h-5 w-5\" />\r\n            Trocar Veículo\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Registre a troca de cavalo mecânico e/ou carreta durante a viagem\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4 pt-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label>Veículo Atual</Label>\r\n            <div className=\"p-3 bg-muted rounded-lg\">\r\n              <Badge variant=\"outline\" className=\"font-mono\">\r\n                {currentVehicle}\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"vehicle\">Novo Cavalo Mecânico *</Label>\r\n            <Select value={selectedVehicle} onValueChange={setSelectedVehicle}>\r\n              <SelectTrigger id=\"vehicle\">\r\n                <SelectValue placeholder=\"Selecione o cavalo\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {vehicles.map((vehicle) => (\r\n                  <SelectItem key={vehicle.placa} value={vehicle.placa}>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Truck className=\"h-4 w-4\" />\r\n                      <span className=\"font-mono font-semibold\">{vehicle.placa}</span>\r\n                      <span className=\"text-muted-foreground text-sm\">\r\n                        - {vehicle.modelo}\r\n                      </span>\r\n                    </div>\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"carreta\">Carreta (Opcional)</Label>\r\n            <Select value={selectedCarreta} onValueChange={setSelectedCarreta}>\r\n              <SelectTrigger id=\"carreta\">\r\n                <SelectValue placeholder=\"Selecione a carreta (se aplicável)\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"nenhuma\">Nenhuma</SelectItem>\r\n                {carretas.map((carreta) => (\r\n                  <SelectItem key={carreta.placa} value={carreta.placa}>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"font-mono font-semibold\">{carreta.placa}</span>\r\n                      <span className=\"text-muted-foreground text-sm\">\r\n                        - {carreta.modelo}\r\n                      </span>\r\n                    </div>\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"motivo\">Motivo da Troca *</Label>\r\n            <Textarea\r\n              id=\"motivo\"\r\n              placeholder=\"Ex: Manutenção preventiva, troca de rota, problema mecânico...\"\r\n              value={motivo}\r\n              onChange={(e) => setMotivo(e.target.value)}\r\n              rows={3}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-900\">\r\n            <AlertCircle className=\"h-4 w-4 text-amber-600 dark:text-amber-400 mt-0.5\" />\r\n            <p className=\"text-sm text-amber-800 dark:text-amber-200\">\r\n              A troca será registrada no sistema e refletirá nos cálculos de gratificação\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              className=\"flex-1\"\r\n              onClick={() => onOpenChange(false)}\r\n              disabled={loading}\r\n            >\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"flex-1\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Registrando...\" : \"Confirmar Troca\"}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n  Play,\r\n  Square,\r\n  Coffee,\r\n  Utensils,\r\n  Clock,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Truck,\r\n} from \"lucide-react\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { VehicleChangeDialog } from \"./VehicleChangeDialog\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\n\r\ninterface WorkSession {\r\n  id: string;\r\n  status: string;\r\n  data_inicio: string;\r\n  vehicle_plate: string;\r\n  total_direcao_minutos: number;\r\n  total_trabalho_minutos: number;\r\n  total_espera_minutos: number;\r\n  total_descanso_minutos: number;\r\n  horas_extras_minutos: number;\r\n}\r\n\r\ninterface WorkEvent {\r\n  id: string;\r\n  tipo_atividade: string;\r\n  data_hora_inicio: string;\r\n  data_hora_fim: string | null;\r\n}\r\n\r\nconst ATIVIDADES = [\r\n  { id: \"direcao\", label: \"Direção\", icon: Play, color: \"bg-blue-500\" },\r\n  { id: \"descanso\", label: \"Descanso\", icon: Coffee, color: \"bg-green-500\" },\r\n  { id: \"refeicao\", label: \"Refeição\", icon: Utensils, color: \"bg-orange-500\" },\r\n  { id: \"espera\", label: \"Espera\", icon: Clock, color: \"bg-yellow-500\" },\r\n  { id: \"trabalho\", label: \"Trabalho\", icon: CheckCircle, color: \"bg-purple-500\" },\r\n];\r\n\r\nexport function WorkSessionPanel() {\r\n  const { user } = useAuth();\r\n  const [currentSession, setCurrentSession] = useState<WorkSession | null>(null);\r\n  const [currentEvent, setCurrentEvent] = useState<WorkEvent | null>(null);\r\n  const [observacoes, setObservacoes] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [vehicleChangeDialogOpen, setVehicleChangeDialogOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadActiveSession();\r\n  }, [user]);\r\n\r\n  const loadActiveSession = async () => {\r\n    if (!user) return;\r\n\r\n    const { data: session } = await (supabase as any)\r\n      .from(\"driver_work_sessions\")\r\n      .select(\"*\")\r\n      .eq(\"driver_id\", user.id)\r\n      .eq(\"status\", \"em_andamento\")\r\n      .order(\"data_inicio\", { ascending: false })\r\n      .limit(1)\r\n      .maybeSingle();\r\n\r\n    setCurrentSession(session);\r\n\r\n    if (session) {\r\n      // Buscar evento atual (não finalizado)\r\n      const { data: event } = await (supabase as any)\r\n        .from(\"driver_work_events\")\r\n        .select(\"*\")\r\n        .eq(\"session_id\", session.id)\r\n        .is(\"data_hora_fim\", null)\r\n        .order(\"data_hora_inicio\", { ascending: false })\r\n        .limit(1)\r\n        .maybeSingle();\r\n\r\n      setCurrentEvent(event);\r\n    }\r\n  };\r\n\r\n  const [showVehicleSelect, setShowVehicleSelect] = useState(false);\r\n  const [availableVehicles, setAvailableVehicles] = useState<any[]>([]);\r\n  const [selectedVehicle, setSelectedVehicle] = useState<string>(\"\");\r\n\r\n  const handleIniciarJornadaClick = async () => {\r\n    setShowVehicleSelect(true);\r\n    setLoading(true);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"vehicles\")\r\n        .select(\"*\")\r\n        .in(\"tipo\", [\"cavalo_mecanico\", \"caminhao\", \"cavalo\", \"carreta\"]) // cobrir variações\r\n        .in(\"status\", [\"ativo\", \"Ativo\"]);\r\n\r\n      if (error) {\r\n        console.error(\"Erro ao carregar veículos:\", error);\r\n        toast.error(\"Erro ao carregar veículos\");\r\n        setAvailableVehicles([]);\r\n      } else {\r\n        const mapped = (data || [])\r\n          .map((v: any) => ({\r\n            placa: v.placa || v.plate,\r\n            modelo: v.modelo || v.model || \"\",\r\n            ano: v.ano || v.year,\r\n            tipo: v.tipo || \"\"\r\n          }))\r\n          .filter((v) => !!v.placa)\r\n          .sort((a, b) => a.placa.localeCompare(b.placa));\r\n\r\n        console.log(\"Veículos carregados:\", mapped);\r\n        setAvailableVehicles(mapped);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erro ao carregar veículos:\", error);\r\n      toast.error(\"Erro ao carregar veículos\");\r\n      setAvailableVehicles([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const iniciarJornadaComViagem = async () => {\r\n    if (!user) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const { data: trip } = await supabase\r\n        .from(\"trips\")\r\n        .select(\"id, vehicle_plate\")\r\n        .eq(\"driver_id\", user.id)\r\n        .eq(\"status\", \"em_andamento\")\r\n        .order(\"created_at\", { ascending: false })\r\n        .limit(1)\r\n        .maybeSingle();\r\n\r\n      if (!trip) {\r\n        toast.error(\"Nenhuma viagem ativa encontrada\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const { data: session, error } = await (supabase as any)\r\n        .from(\"driver_work_sessions\")\r\n        .insert({\r\n          driver_id: user.id,\r\n          vehicle_plate: trip.vehicle_plate,\r\n          trip_id: trip.id,\r\n          data_inicio: new Date().toISOString(),\r\n          status: \"em_andamento\",\r\n        })\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      setCurrentSession(session);\r\n      toast.success(\"Jornada iniciada com viagem vinculada!\");\r\n    } catch (error) {\r\n      console.error(\"Erro ao iniciar jornada:\", error);\r\n      toast.error(\"Erro ao iniciar jornada\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const iniciarJornadaSemViagem = async () => {\r\n    if (!user || !selectedVehicle) {\r\n      toast.error(\"Selecione um veículo\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const { data: session, error } = await (supabase as any)\r\n        .from(\"driver_work_sessions\")\r\n        .insert({\r\n          driver_id: user.id,\r\n          vehicle_plate: selectedVehicle,\r\n          trip_id: null,\r\n          data_inicio: new Date().toISOString(),\r\n          status: \"em_andamento\",\r\n        })\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      setCurrentSession(session);\r\n      setShowVehicleSelect(false);\r\n      setSelectedVehicle(\"\");\r\n      toast.success(\"Jornada iniciada sem viagem (manobra/oficina)!\");\r\n    } catch (error) {\r\n      console.error(\"Erro ao iniciar jornada:\", error);\r\n      toast.error(\"Erro ao iniciar jornada\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const finalizarJornada = async () => {\r\n    if (!currentSession) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Finalizar evento atual se houver\r\n      if (currentEvent) {\r\n        await finalizarEvento();\r\n      }\r\n\r\n      const { error } = await (supabase as any)\r\n        .from(\"driver_work_sessions\")\r\n        .update({\r\n          status: \"concluida\",\r\n          data_fim: new Date().toISOString(),\r\n        })\r\n        .eq(\"id\", currentSession.id);\r\n\r\n      if (error) throw error;\r\n\r\n      // Chamar função de análise\r\n      await supabase.functions.invoke(\"analyze-driver-journey\", {\r\n        body: { sessionId: currentSession.id },\r\n      });\r\n\r\n      setCurrentSession(null);\r\n      setCurrentEvent(null);\r\n      toast.success(\"Jornada finalizada e analisada!\");\r\n    } catch (error) {\r\n      console.error(\"Erro ao finalizar jornada:\", error);\r\n      toast.error(\"Erro ao finalizar jornada\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const iniciarAtividade = async (tipoAtividade: \"direcao\" | \"descanso\" | \"refeicao\" | \"espera\" | \"trabalho\" | \"intervalo\") => {\r\n    if (!currentSession) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Finalizar evento anterior se houver\r\n      if (currentEvent) {\r\n        await finalizarEvento();\r\n      }\r\n\r\n      const { data: event, error } = await (supabase as any)\r\n        .from(\"driver_work_events\")\r\n        .insert([{\r\n          session_id: currentSession.id,\r\n          driver_id: user!.id,\r\n          tipo_atividade: tipoAtividade,\r\n          data_hora_inicio: new Date().toISOString(),\r\n          observacoes,\r\n        }])\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      setCurrentEvent(event);\r\n      setObservacoes(\"\");\r\n      toast.success(`${ATIVIDADES.find(a => a.id === tipoAtividade)?.label} iniciada`);\r\n    } catch (error) {\r\n      console.error(\"Erro ao iniciar atividade:\", error);\r\n      toast.error(\"Erro ao iniciar atividade\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const finalizarEvento = async () => {\r\n    if (!currentEvent) return;\r\n\r\n    const agora = new Date();\r\n    const inicio = new Date(currentEvent.data_hora_inicio);\r\n    const duracaoMinutos = Math.round((agora.getTime() - inicio.getTime()) / (1000 * 60));\r\n\r\n    const { error } = await (supabase as any)\r\n      .from(\"driver_work_events\")\r\n      .update({\r\n        data_hora_fim: agora.toISOString(),\r\n        duracao_minutos: duracaoMinutos,\r\n      })\r\n      .eq(\"id\", currentEvent.id);\r\n\r\n    if (error) throw error;\r\n\r\n    // Atualizar totais da sessão\r\n    const tipoAtividade = currentEvent.tipo_atividade;\r\n    const updateData: any = {};\r\n\r\n    if (tipoAtividade === \"direcao\") {\r\n      updateData.total_direcao_minutos = (currentSession?.total_direcao_minutos || 0) + duracaoMinutos;\r\n      updateData.total_trabalho_minutos = (currentSession?.total_trabalho_minutos || 0) + duracaoMinutos;\r\n    } else if (tipoAtividade === \"espera\" || tipoAtividade === \"trabalho\") {\r\n      if (tipoAtividade === \"espera\") {\r\n        updateData.total_espera_minutos = (currentSession?.total_espera_minutos || 0) + duracaoMinutos;\r\n      }\r\n      updateData.total_trabalho_minutos = (currentSession?.total_trabalho_minutos || 0) + duracaoMinutos;\r\n    } else if (tipoAtividade === \"descanso\") {\r\n      updateData.total_descanso_minutos = (currentSession?.total_descanso_minutos || 0) + duracaoMinutos;\r\n    }\r\n\r\n    await (supabase as any)\r\n      .from(\"driver_work_sessions\")\r\n      .update(updateData)\r\n      .eq(\"id\", currentSession!.id);\r\n\r\n    setCurrentEvent(null);\r\n  };\r\n\r\n  const formatarTempo = (minutos: number) => {\r\n    const horas = Math.floor(minutos / 60);\r\n    const mins = minutos % 60;\r\n    return `${horas}h${mins.toString().padStart(2, \"0\")}min`;\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-6\">Jornada Motorista</h2>\r\n\r\n      {!currentSession ? (\r\n        <div className=\"text-center py-8 space-y-4\">\r\n          <p className=\"text-muted-foreground mb-4\">\r\n            Nenhuma jornada em andamento\r\n          </p>\r\n          \r\n          {!showVehicleSelect ? (\r\n            <div className=\"flex gap-3 justify-center\">\r\n              <Button onClick={iniciarJornadaComViagem} disabled={loading} size=\"lg\">\r\n                <Play className=\"mr-2 h-5 w-5\" />\r\n                Com Viagem Ativa\r\n              </Button>\r\n              <Button onClick={handleIniciarJornadaClick} disabled={loading} size=\"lg\" variant=\"outline\">\r\n                <Truck className=\"mr-2 h-5 w-5\" />\r\n                Sem Viagem (Manobra/Oficina)\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"max-w-md mx-auto space-y-4\">\r\n              <div>\r\n                <label className=\"text-sm font-medium mb-2 block\">Selecione o Veículo</label>\r\n                <Select value={selectedVehicle} onValueChange={setSelectedVehicle}>\r\n                  <SelectTrigger>\r\n                    <SelectValue placeholder=\"Escolha um cavalo mecânico\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {availableVehicles.length === 0 ? (\r\n                      <SelectItem value=\"nenhum\" disabled>\r\n                        Nenhum veículo disponível\r\n                      </SelectItem>\r\n                    ) : (\r\n                      availableVehicles.map((v) => (\r\n                        <SelectItem key={v.placa} value={v.placa}>\r\n                          {v.placa} - {v.modelo} {v.ano ? `(${v.ano})` : ''}\r\n                        </SelectItem>\r\n                      ))\r\n                    )}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                <Button \r\n                  onClick={iniciarJornadaSemViagem} \r\n                  disabled={loading || !selectedVehicle} \r\n                  size=\"lg\"\r\n                  className=\"flex-1\"\r\n                >\r\n                  <Play className=\"mr-2 h-5 w-5\" />\r\n                  Confirmar\r\n                </Button>\r\n                <Button \r\n                  onClick={() => {\r\n                    setShowVehicleSelect(false);\r\n                    setSelectedVehicle(\"\");\r\n                  }} \r\n                  disabled={loading}\r\n                  variant=\"outline\"\r\n                  size=\"lg\"\r\n                >\r\n                  Cancelar\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          {/* Status Atual - Primeira linha: Veículo e Tempo Trabalhado */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"p-4 bg-primary/10 border border-primary/20 rounded-lg\">\r\n              <p className=\"text-sm text-muted-foreground mb-1\">Veículo Atual</p>\r\n              <p className=\"text-3xl font-bold text-primary\">{currentSession.vehicle_plate}</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Tempo Trabalhado</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {formatarTempo(currentSession.total_trabalho_minutos)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Segunda linha: Outros tempos */}\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Tempo Direção</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {formatarTempo(currentSession.total_direcao_minutos)}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Horas Extras</p>\r\n              <p className=\"text-2xl font-bold text-orange-500\">\r\n                {formatarTempo(currentSession.horas_extras_minutos)}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground\">Limite Diário</p>\r\n              <p className=\"text-2xl font-bold\">\r\n                {currentSession.total_trabalho_minutos > 720 ? (\r\n                  <span className=\"text-red-500\">12h00</span>\r\n                ) : (\r\n                  \"12h00\"\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Atividade Atual */}\r\n          {currentEvent && (\r\n            <div className=\"bg-primary/10 p-4 rounded-lg\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Badge variant=\"outline\" className=\"animate-pulse\">\r\n                    EM ANDAMENTO\r\n                  </Badge>\r\n                  <span className=\"font-semibold\">\r\n                    {ATIVIDADES.find(a => a.id === currentEvent.tipo_atividade)?.label}\r\n                  </span>\r\n                </div>\r\n                <Button\r\n                  onClick={finalizarEvento}\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  disabled={loading}\r\n                >\r\n                  <Square className=\"mr-2 h-4 w-4\" />\r\n                  Finalizar\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Observações */}\r\n          <div>\r\n            <label className=\"text-sm font-medium mb-2 block\">\r\n              Observações (opcional)\r\n            </label>\r\n            <Textarea\r\n              value={observacoes}\r\n              onChange={(e) => setObservacoes(e.target.value)}\r\n              placeholder=\"Ex: Carregamento atrasado, condições da estrada, etc.\"\r\n              rows={2}\r\n            />\r\n          </div>\r\n\r\n          {/* Botões de Atividades */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n            {ATIVIDADES.map((atividade) => {\r\n              const Icon = atividade.icon;\r\n              const isAtual = currentEvent?.tipo_atividade === atividade.id;\r\n              \r\n              return (\r\n                <Button\r\n                  key={atividade.id}\r\n                  onClick={() => iniciarAtividade(atividade.id as any)}\r\n                  disabled={loading || isAtual}\r\n                  variant={isAtual ? \"default\" : \"outline\"}\r\n                  className=\"h-20 flex-col\"\r\n                >\r\n                  <Icon className=\"h-6 w-6 mb-2\" />\r\n                  {atividade.label}\r\n                </Button>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Alertas */}\r\n          {currentSession.total_trabalho_minutos > 660 && (\r\n            <div className=\"bg-orange-500/10 border border-orange-500 p-4 rounded-lg flex items-center gap-2\">\r\n              <AlertTriangle className=\"h-5 w-5 text-orange-500\" />\r\n              <span className=\"text-sm\">\r\n                Atenção: Você está próximo do limite de 12h diárias\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Finalizar Jornada */}\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              onClick={finalizarJornada}\r\n              disabled={loading}\r\n              variant=\"destructive\"\r\n              className=\"flex-1\"\r\n              size=\"lg\"\r\n            >\r\n              <Square className=\"mr-2 h-5 w-5\" />\r\n              Finalizar Jornada\r\n            </Button>\r\n            <Button\r\n              onClick={() => setVehicleChangeDialogOpen(true)}\r\n              disabled={loading}\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n            >\r\n              <Truck className=\"mr-2 h-5 w-5\" />\r\n              Trocar Veículo\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {currentSession && (\r\n        <VehicleChangeDialog\r\n          open={vehicleChangeDialogOpen}\r\n          onOpenChange={setVehicleChangeDialogOpen}\r\n          currentSessionId={currentSession.id}\r\n          currentVehicle={currentSession.vehicle_plate}\r\n          onVehicleChanged={loadActiveSession}\r\n        />\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n","import { VehicleSelect } from \"@/components/VehicleSelect\";\r\nimport { useEffect, useState } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Fuel } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function FuelExpenseDialog() {\n  const { user } = useAuth();\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recent, setRecent] = useState<any[]>([]);\n  const [formData, setFormData] = useState({\n    vehicle_plate: \"\",\n    km: \"\",\n    liters: \"\",\n    total_value: \"\"\n  });\n\n  const litersNum = parseFloat(formData.liters || \"0\");\n  const totalNum = parseFloat(formData.total_value || \"0\");\n  const kmNum = parseInt(formData.km || \"0\");\n  const pricePerLiter = litersNum > 0 ? (totalNum / litersNum) : 0;\n  const canSubmit = !!formData.vehicle_plate && kmNum > 0 && litersNum > 0 && totalNum > 0;\n\n  useEffect(() => {\n    const loadRecent = async () => {\n      const { data } = await supabase.from('refuelings' as any).select('*').order('created_at', { ascending: false }).limit(5);\n      setRecent((data as any) || []);\n    };\n    if (open) loadRecent();\n  }, [open]);\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\n      const { error } = await supabase.from('refuelings' as any).insert({\n        driver_id: user?.id,\n        vehicle_plate: formData.vehicle_plate,\n        km: kmNum,\n        liters: litersNum,\n        total_value: totalNum,\n        cost_per_km: totalNum / Math.max(kmNum, 1),\n        price_per_liter: pricePerLiter\n      });\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Abastecimento registrado!\");\r\n      setOpen(false);\r\n      setFormData({ vehicle_plate: \"\", km: \"\", liters: \"\", total_value: \"\" });\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Erro ao registrar abastecimento\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button className=\"w-full\">\r\n          <Fuel className=\"w-4 h-4 mr-2\" />\r\n          Registrar Abastecimento\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>Lançamento de Combustível</DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\n            <Label>Placa do Veículo</Label>\n            <VehicleSelect \n              value={formData.vehicle_plate} \n              onChange={(v) => setFormData({ ...formData, vehicle_plate: v })} \n              placeholder=\"Selecione a placa\"\n            />\n          </div>\n          <div>\n            <Label>KM Real</Label>\n            <Input\n              required\n              type=\"number\"\n              value={formData.km}\n              onChange={(e) => setFormData({...formData, km: e.target.value})}\n            />\n          </div>\n          <div>\n            <Label>Litros</Label>\n            <Input\n              required\n              type=\"number\"\n              step=\"0.01\"\n              value={formData.liters}\n              onChange={(e) => setFormData({...formData, liters: e.target.value})}\n            />\n          </div>\n          <div>\n            <Label>Valor Total (R$)</Label>\n            <Input\n              required\n              type=\"number\"\n              step=\"0.01\"\n              value={formData.total_value}\n              onChange={(e) => setFormData({...formData, total_value: e.target.value})}\n            />\n          </div>\n          <div>\n            <Label>Preço por Litro (R$/L)</Label>\n            <Input disabled value={pricePerLiter > 0 ? pricePerLiter.toFixed(2) : \"\"} />\n          </div>\n          <Button type=\"submit\" className=\"w-full\" disabled={loading || !canSubmit}>\n            {loading ? \"Salvando...\" : \"Registrar\"}\n          </Button>\n          {recent.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label>Últimos abastecimentos</Label>\n              {recent.map((r) => (\n                <div key={r.id} className=\"text-sm text-muted-foreground\">\n                  {r.vehicle_plate} • {r.km} km • {r.liters} L • R$ {Number(r.total_value || 0).toFixed(2)}\n                </div>\n              ))}\n            </div>\n          )}\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState } from \"react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Receipt } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { VehicleSelect } from \"@/components/VehicleSelect\";\r\n\r\nexport function TripExpenseDialog() {\r\n  const { user } = useAuth();\r\n  const [open, setOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    tipo: \"\",\r\n    descricao: \"\",\r\n    valor: \"\",\r\n    plate: \"\"\r\n  });\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Criar despesa e notificação para aprovação\r\n      const { error } = await supabase.from('contas_pagar').insert({\r\n        fornecedor: 'Motorista',\r\n        descricao: `${formData.tipo}: ${formData.descricao} (Veículo: ${formData.plate})`,\r\n        valor: parseFloat(formData.valor),\r\n        data_vencimento: new Date().toISOString(),\r\n        status: 'pendente',\r\n        categoria: 'despesas_viagem',\r\n        created_by: user?.id\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      // Notificar gestores\r\n      await supabase.from('notifications').insert({\r\n        user_id: user?.id,\r\n        title: 'Solicitação de Despesa',\r\n        message: `Motorista solicitou aprovação de despesa: ${formData.tipo} - R$ ${formData.valor} - Veículo ${formData.plate}`,\r\n        type: 'warning',\r\n        module: 'driver'\r\n      });\r\n\r\n      toast.success(\"Despesa enviada para aprovação!\");\r\n      setOpen(false);\r\n      setFormData({ tipo: \"\", descricao: \"\", valor: \"\", plate: \"\" });\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Erro ao registrar despesa\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button variant=\"outline\" className=\"w-full\">\r\n          <Receipt className=\"w-4 h-4 mr-2\" />\r\n          Registrar Despesa\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>Lançamento de Despesas de Viagem</DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <Label>Veículo</Label>\r\n            <VehicleSelect\r\n              value={formData.plate}\r\n              onChange={(v) => setFormData({ ...formData, plate: v })}\r\n              placeholder=\"Selecione o Veículo\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <Label>Tipo de Despesa</Label>\r\n            <Select value={formData.tipo} onValueChange={(v) => setFormData({...formData, tipo: v})}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Selecione...\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"refeicao\">Refeição (Kamoa)</SelectItem>\r\n                <SelectItem value=\"disco_tacografo\">Disco de Tacógrafo</SelectItem>\r\n                <SelectItem value=\"pedagio\">Pedágio</SelectItem>\r\n                <SelectItem value=\"estacionamento\">Estacionamento</SelectItem>\r\n                <SelectItem value=\"outros\">Outros</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <Label>Descrição</Label>\r\n            <Input\r\n              required\r\n              value={formData.descricao}\r\n              onChange={(e) => setFormData({...formData, descricao: e.target.value})}\r\n              placeholder=\"Detalhe a despesa...\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <Label>Valor (R$)</Label>\r\n            <Input\r\n              required\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              value={formData.valor}\r\n              onChange={(e) => setFormData({...formData, valor: e.target.value})}\r\n            />\r\n          </div>\r\n          <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n            {loading ? \"Enviando...\" : \"Solicitar Aprovação\"}\r\n          </Button>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ClipboardCheck } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { VehicleSelect } from \"@/components/VehicleSelect\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nconst checklistItems = [\r\n  { id: \"pneus\", label: \"Verificar pressão dos pneus\" },\r\n  { id: \"oleo\", label: \"Verificar nível de óleo\" },\r\n  { id: \"agua\", label: \"Verificar nível de água\" },\r\n  { id: \"freios\", label: \"Testar freios\" },\r\n  { id: \"luzes\", label: \"Verificar todas as luzes\" },\r\n  { id: \"documentos\", label: \"Verificar documentação do veículo\" },\r\n  { id: \"carga\", label: \"Conferir amarração da carga\" },\r\n  { id: \"extintor\", label: \"Verificar extintor\" },\r\n];\r\n\r\nexport function DriverChecklist() {\r\n  const { user } = useAuth();\r\n  const [checked, setChecked] = useState<Record<string, boolean>>({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [vehiclePlate, setVehiclePlate] = useState(\"\");\r\n\r\n  const handleSubmit = async () => {\r\n    const allChecked = checklistItems.every(item => checked[item.id]);\r\n    \r\n    if (!allChecked) {\r\n      toast.error(\"Complete todos os itens do checklist\");\r\n      return;\r\n    }\r\n\r\n    if (!vehiclePlate) {\r\n      toast.error(\"Informe a placa do veículo\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const items = checklistItems.map(item => ({\r\n        id: item.id,\r\n        label: item.label,\r\n        checked: checked[item.id],\r\n        timestamp: new Date().toISOString()\r\n      }));\r\n\r\n      const { error } = await supabase.from('maintenance_checklists').insert({\r\n        vehicle_plate: vehiclePlate,\r\n        checklist_type: 'pre_trip',\r\n        mechanic_id: user?.id,\r\n        status: 'concluido',\r\n        items,\r\n        completed_at: new Date().toISOString()\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Checklist concluído!\");\r\n      setChecked({});\r\n      setVehiclePlate(\"\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Erro ao salvar checklist\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <ClipboardCheck className=\"w-5 h-5\" />\r\n          Checklist Pré-Viagem\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <div>\r\n          <Label className=\"mb-2 block\">Placa do Veículo</Label>\r\n          <VehicleSelect\r\n            value={vehiclePlate}\r\n            onChange={setVehiclePlate}\r\n            placeholder=\"Selecione a placa\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"space-y-3\">\r\n          {checklistItems.map((item) => (\r\n            <div key={item.id} className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id={item.id}\r\n                checked={checked[item.id] || false}\r\n                onCheckedChange={(value) => \r\n                  setChecked({...checked, [item.id]: value as boolean})\r\n                }\r\n              />\r\n              <label\r\n                htmlFor={item.id}\r\n                className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n              >\r\n                {item.label}\r\n              </label>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <Button \r\n          onClick={handleSubmit} \r\n          className=\"w-full\" \r\n          disabled={loading}\r\n        >\r\n          {loading ? \"Salvando...\" : \"Concluir Checklist\"}\r\n        </Button>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import { useQuery } from \"@tanstack/react-query\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Bell, MapPin, Clock, Navigation } from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { format } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function TripAlerts() {\r\n  const { user } = useAuth();\r\n\r\n  const { data: trips, refetch } = useQuery({\r\n    queryKey: ['driver-trips', user?.id],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('trips')\r\n        .select(`\r\n          *,\r\n          cte(\r\n            destinatario_cidade,\r\n            destinatario_uf,\r\n            remetente_cidade,\r\n            remetente_uf\r\n          )\r\n        `)\r\n        .eq('driver_id', user?.id)\r\n        .eq('status', 'pending')\r\n        .order('created_at', { ascending: false })\r\n        .limit(5);\r\n\r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  const handleAcceptTrip = async (tripId: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('trips')\r\n        .update({ status: 'in_progress' })\r\n        .eq('id', tripId);\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Viagem aceita!\");\r\n      refetch();\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Erro ao aceitar viagem\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <Bell className=\"w-5 h-5\" />\r\n          Novas Viagens\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        {trips && trips.length > 0 ? (\r\n          trips.map((trip: any) => (\r\n            <Card key={trip.id} className=\"border-l-4 border-l-blue-500\">\r\n              <CardContent className=\"p-4 space-y-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Badge variant=\"secondary\">\r\n                    {trip.vehicle_plate}\r\n                  </Badge>\r\n                  <Badge>\r\n                    {format(new Date(trip.created_at), 'dd/MM HH:mm', { locale: ptBR })}\r\n                  </Badge>\r\n                </div>\r\n\r\n                {trip.cte && trip.cte[0] && (\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <MapPin className=\"w-4 h-4 mt-0.5 text-green-600\" />\r\n                      <div>\r\n                        <strong>Origem:</strong> {trip.cte[0].remetente_cidade}/{trip.cte[0].remetente_uf}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <Navigation className=\"w-4 h-4 mt-0.5 text-red-600\" />\r\n                      <div>\r\n                        <strong>Destino:</strong> {trip.cte[0].destinatario_cidade}/{trip.cte[0].destinatario_uf}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <Clock className=\"w-4 h-4\" />\r\n                  <span>Início previsto: {format(new Date(trip.departure_date), \"dd/MM/yyyy 'às' HH:mm\", { locale: ptBR })}</span>\r\n                </div>\r\n\r\n                <Button \r\n                  onClick={() => handleAcceptTrip(trip.id)}\r\n                  className=\"w-full\"\r\n                  size=\"sm\"\r\n                >\r\n                  Aceitar Viagem\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          ))\r\n        ) : (\r\n          <div className=\"text-center py-8 text-muted-foreground\">\r\n            <Bell className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\r\n            <p className=\"text-sm\">Nenhuma viagem pendente</p>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Trophy, Star, TrendingUp, Target, Award, Zap } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\n\r\nexport const DriverPerformance = () => {\r\n  const { user } = useAuth();\r\n  const [stats, setStats] = useState({\r\n    onTimeDeliveries: 0,\r\n    totalTrips: 0,\r\n    averageRating: 0,\r\n    totalKm: 0,\r\n    violations: 0,\r\n  });\r\n  const [achievements, setAchievements] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    loadPerformance();\r\n  }, [user]);\r\n\r\n  const loadPerformance = async () => {\r\n    if (!user) return;\r\n\r\n    // Buscar viagens completadas\r\n    const { data: sessions } = await supabase\r\n      .from('driver_work_sessions')\r\n      .select('*')\r\n      .eq('driver_id', user.id)\r\n      .eq('status', 'finalizada');\r\n\r\n    // Buscar violações\r\n    const { data: violations } = await supabase\r\n      .from('driver_violations')\r\n      .select('*')\r\n      .eq('driver_id', user.id)\r\n      .eq('resolvida', false);\r\n\r\n    // Buscar abastecimentos para calcular KM\r\n    const { data: refuelings } = await supabase\r\n      .from('refuelings')\r\n      .select('km')\r\n      .eq('driver_id', user.id)\r\n      .order('km', { ascending: false })\r\n      .limit(1);\r\n\r\n    const totalTrips = sessions?.length || 0;\r\n    const totalKm = refuelings?.[0]?.km || 0;\r\n    const violationsCount = violations?.length || 0;\r\n    \r\n    // Simular entregas no prazo (96% baseado na ausência de violações graves)\r\n    const onTimeRate = violationsCount === 0 ? 0.98 : Math.max(0.85, 1 - (violationsCount * 0.05));\r\n    \r\n    setStats({\r\n      onTimeDeliveries: Math.round(totalTrips * onTimeRate),\r\n      totalTrips,\r\n      averageRating: 4.8, // Pode ser expandido com avaliações reais\r\n      totalKm,\r\n      violations: violationsCount,\r\n    });\r\n\r\n    // Gerar conquistas baseadas no desempenho\r\n    const newAchievements = [];\r\n    \r\n    if (totalTrips >= 100) {\r\n      newAchievements.push({\r\n        id: 1,\r\n        icon: \"⚡\",\r\n        title: \"100 Entregas\",\r\n        description: \"Sem atrasos\",\r\n        achieved: true,\r\n      });\r\n    }\r\n\r\n    if (violationsCount === 0 && totalTrips >= 10) {\r\n      newAchievements.push({\r\n        id: 2,\r\n        icon: \"🌟\",\r\n        title: \"5 Estrelas\",\r\n        description: `${totalTrips} avaliações`,\r\n        achieved: true,\r\n      });\r\n    }\r\n\r\n    const currentMonth = new Date().toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' });\r\n    if (onTimeRate >= 0.95) {\r\n      newAchievements.push({\r\n        id: 3,\r\n        icon: \"🏆\",\r\n        title: \"Motorista do Mês\",\r\n        description: currentMonth,\r\n        achieved: true,\r\n      });\r\n    }\r\n\r\n    setAchievements(newAchievements);\r\n  };\r\n\r\n  const onTimePercentage = stats.totalTrips > 0 \r\n    ? Math.round((stats.onTimeDeliveries / stats.totalTrips) * 100) \r\n    : 0;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <TrendingUp className=\"h-5 w-5\" />\r\n            Desempenho\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"space-y-2 p-4 bg-green-500/10 rounded-lg border border-green-500/20\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Target className=\"h-4 w-4 text-green-600\" />\r\n                <span className=\"text-sm text-muted-foreground\">Entregas no Prazo</span>\r\n              </div>\r\n              <p className=\"text-3xl font-bold text-green-600\">{onTimePercentage}%</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {stats.onTimeDeliveries} de {stats.totalTrips} viagens\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 p-4 bg-yellow-500/10 rounded-lg border border-yellow-500/20\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Star className=\"h-4 w-4 text-yellow-600\" />\r\n                <span className=\"text-sm text-muted-foreground\">Avaliação Média</span>\r\n              </div>\r\n              <p className=\"text-3xl font-bold text-yellow-600\">{stats.averageRating} ⭐</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Baseado em {stats.totalTrips} viagens\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 p-4 bg-blue-500/10 rounded-lg border border-blue-500/20\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <TrendingUp className=\"h-4 w-4 text-blue-600\" />\r\n                <span className=\"text-sm text-muted-foreground\">Km Rodados</span>\r\n              </div>\r\n              <p className=\"text-2xl font-bold text-blue-600\">\r\n                {(stats.totalKm / 1000).toFixed(1)} mil km\r\n              </p>\r\n              <p className=\"text-xs text-muted-foreground\">Total acumulado</p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 p-4 bg-red-500/10 rounded-lg border border-red-500/20\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Zap className=\"h-4 w-4 text-red-600\" />\r\n                <span className=\"text-sm text-muted-foreground\">Violações</span>\r\n              </div>\r\n              <p className=\"text-3xl font-bold text-red-600\">{stats.violations}</p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {stats.violations === 0 ? \"Parabéns!\" : \"Pendentes\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Trophy className=\"h-5 w-5\" />\r\n            Conquistas\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {achievements.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              {achievements.map((achievement) => (\r\n                <div\r\n                  key={achievement.id}\r\n                  className=\"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border border-primary/20\"\r\n                >\r\n                  <div className=\"text-4xl mb-2\">{achievement.icon}</div>\r\n                  <h4 className=\"font-semibold mb-1\">{achievement.title}</h4>\r\n                  <p className=\"text-sm text-muted-foreground\">{achievement.description}</p>\r\n                  {achievement.achieved && (\r\n                    <Badge variant=\"default\" className=\"mt-2\">\r\n                      Conquistado\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              <Award className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\r\n              <p>Continue trabalhando para desbloquear conquistas!</p>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { History, DollarSign, Calendar, TrendingUp, FileText } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { format } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\n\r\nexport const DriverPayrollHistory = () => {\r\n  const { user } = useAuth();\r\n  const [history, setHistory] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadHistory();\r\n  }, [user]);\r\n\r\n  const loadHistory = async () => {\r\n    if (!user) return;\r\n\r\n    const { data, error } = await supabase\r\n      .from('driver_payroll')\r\n      .select('*')\r\n      .eq('driver_id', user.id)\r\n      .order('ano', { ascending: false })\r\n      .order('mes', { ascending: false })\r\n      .limit(12);\r\n\r\n    if (data) {\r\n      setHistory(data);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL'\r\n    }).format(value);\r\n  };\r\n\r\n  const getMonthName = (month: number, year: number) => {\r\n    const date = new Date(year, month - 1, 1);\r\n    return format(date, \"MMMM 'de' yyyy\", { locale: ptBR });\r\n  };\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const variants: Record<string, any> = {\r\n      'calculado': { variant: 'secondary', label: 'Calculado' },\r\n      'aprovado': { variant: 'default', label: 'Aprovado' },\r\n      'pago': { variant: 'outline', label: 'Pago' },\r\n      'pendente': { variant: 'destructive', label: 'Pendente' }\r\n    };\r\n    \r\n    const config = variants[status] || variants['calculado'];\r\n    return <Badge variant={config.variant}>{config.label}</Badge>;\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <History className=\"h-5 w-5\" />\r\n            Memória de Cálculos\r\n          </CardTitle>\r\n          <Badge variant=\"outline\" className=\"flex items-center gap-1\">\r\n            <FileText className=\"h-3 w-3\" />\r\n            Últimos 12 meses\r\n          </Badge>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ScrollArea className=\"h-[600px] pr-4\">\r\n          {loading ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              Carregando histórico...\r\n            </div>\r\n          ) : history.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {history.map((payroll) => (\r\n                <div\r\n                  key={payroll.id}\r\n                  className=\"p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-3\">\r\n                    <div>\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                        <h4 className=\"font-semibold capitalize\">\r\n                          {getMonthName(payroll.mes, payroll.ano)}\r\n                        </h4>\r\n                      </div>\r\n                      <p className=\"text-xs text-muted-foreground\">\r\n                        Calculado em {format(new Date(payroll.created_at), \"dd/MM/yyyy 'às' HH:mm\", { locale: ptBR })}\r\n                      </p>\r\n                    </div>\r\n                    {getStatusBadge(payroll.status)}\r\n                  </div>\r\n\r\n                  <Separator className=\"my-3\" />\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Salário Base</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.salario_base)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Horas Normais</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.valor_horas_normais)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Horas Extras</p>\r\n                        <p className=\"text-sm font-semibold text-green-600\">\r\n                          +{formatCurrency(payroll.valor_horas_extras)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Horas Espera</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.valor_horas_espera)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Separator className=\"my-2\" />\r\n\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Total CT-e</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.total_valor_ctes)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Combustível</p>\r\n                        <p className=\"text-sm font-semibold text-red-600\">\r\n                          -{formatCurrency(payroll.total_combustivel)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Base Gratificação</p>\r\n                        <p className=\"text-sm font-semibold\">\r\n                          {formatCurrency(payroll.base_calculo_gratificacao)}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-1\">\r\n                        <p className=\"text-xs text-muted-foreground\">Gratificação</p>\r\n                        <p className=\"text-sm font-semibold text-green-600\">\r\n                          +{formatCurrency(payroll.valor_gratificacao)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Separator className=\"my-2\" />\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-primary/10 rounded-lg\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <DollarSign className=\"h-4 w-4\" />\r\n                        <span className=\"font-semibold\">Total Líquido</span>\r\n                      </div>\r\n                      <span className=\"text-lg font-bold text-primary\">\r\n                        {formatCurrency(payroll.total_liquido)}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {payroll.observacoes && (\r\n                      <div className=\"mt-2 p-2 bg-muted/50 rounded text-xs\">\r\n                        <p className=\"text-muted-foreground\">\r\n                          <strong>Obs:</strong> {payroll.observacoes}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              <TrendingUp className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\r\n              <p>Nenhum histórico de pagamento encontrado</p>\r\n            </div>\r\n          )}\r\n        </ScrollArea>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { MapPin, DollarSign, Fuel, Package, TrendingUp, Route } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { format } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\n\r\ninterface RouteFinancial {\r\n  session: any;\r\n  ctes: any[];\r\n  refuelings: any[];\r\n  totalRevenue: number;\r\n  totalFuel: number;\r\n  netValue: number;\r\n}\r\n\r\nexport const DriverRouteFinancial = () => {\r\n  const { user } = useAuth();\r\n  const [routes, setRoutes] = useState<RouteFinancial[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadRouteFinancials();\r\n  }, [user]);\r\n\r\n  const loadRouteFinancials = async () => {\r\n    if (!user) return;\r\n\r\n    // Buscar sessões finalizadas com trip_id\r\n    const { data: sessions } = await supabase\r\n      .from('driver_work_sessions')\r\n      .select('*')\r\n      .eq('driver_id', user.id)\r\n      .eq('status', 'finalizada')\r\n      .not('trip_id', 'is', null)\r\n      .order('data_inicio', { ascending: false })\r\n      .limit(20);\r\n\r\n    if (!sessions) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Para cada sessão, buscar CTEs e abastecimentos relacionados\r\n    const routeFinancials: RouteFinancial[] = [];\r\n\r\n    for (const session of sessions) {\r\n      // Buscar CTEs da viagem\r\n      const { data: ctes } = await supabase\r\n        .from('cte')\r\n        .select('*')\r\n        .eq('trip_id', session.trip_id);\r\n\r\n      // Buscar abastecimentos da sessão\r\n      const { data: refuelings } = await supabase\r\n        .from('refuelings')\r\n        .select('*')\r\n        .eq('driver_id', user.id)\r\n        .gte('timestamp', session.data_inicio)\r\n        .lte('timestamp', session.data_fim || new Date().toISOString());\r\n\r\n      const totalRevenue = ctes?.reduce((sum, cte) => sum + Number(cte.valor_total), 0) || 0;\r\n      const totalFuel = refuelings?.reduce((sum, ref) => sum + Number(ref.total_value), 0) || 0;\r\n      const netValue = totalRevenue - totalFuel;\r\n\r\n      routeFinancials.push({\r\n        session,\r\n        ctes: ctes || [],\r\n        refuelings: refuelings || [],\r\n        totalRevenue,\r\n        totalFuel,\r\n        netValue,\r\n      });\r\n    }\r\n\r\n    setRoutes(routeFinancials);\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL'\r\n    }).format(value);\r\n  };\r\n\r\n  const getRouteOriginDestination = (ctes: any[]) => {\r\n    if (ctes.length === 0) return { origin: 'N/A', destination: 'N/A' };\r\n    \r\n    const firstCte = ctes[0];\r\n    const lastCte = ctes[ctes.length - 1];\r\n    \r\n    return {\r\n      origin: `${firstCte.remetente_cidade}/${firstCte.remetente_uf}`,\r\n      destination: `${lastCte.destinatario_cidade}/${lastCte.destinatario_uf}`\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Route className=\"h-5 w-5\" />\r\n            Rotas & Financeiro\r\n          </CardTitle>\r\n          <Badge variant=\"outline\">Últimas 20 viagens</Badge>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ScrollArea className=\"h-[600px] pr-4\">\r\n          {loading ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              Carregando rotas...\r\n            </div>\r\n          ) : routes.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {routes.map((route, index) => {\r\n                const { origin, destination } = getRouteOriginDestination(route.ctes);\r\n                \r\n                return (\r\n                  <div\r\n                    key={route.session.id}\r\n                    className=\"p-4 border rounded-lg hover:bg-muted/50 transition-colors\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between mb-3\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                          <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <span className=\"font-semibold\">Viagem #{routes.length - index}</span>\r\n                        </div>\r\n                        <div className=\"space-y-1 text-sm\">\r\n                          <p className=\"text-muted-foreground\">\r\n                            <strong>Origem:</strong> {origin}\r\n                          </p>\r\n                          <p className=\"text-muted-foreground\">\r\n                            <strong>Destino:</strong> {destination}\r\n                          </p>\r\n                          <p className=\"text-muted-foreground\">\r\n                            <strong>Veículo:</strong> {route.session.vehicle_plate}\r\n                          </p>\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            {format(new Date(route.session.data_inicio), \"dd/MM/yyyy\", { locale: ptBR })}\r\n                            {route.session.data_fim && \r\n                              ` - ${format(new Date(route.session.data_fim), \"dd/MM/yyyy\", { locale: ptBR })}`\r\n                            }\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Separator className=\"my-3\" />\r\n\r\n                    <div className=\"grid grid-cols-2 gap-3 mb-3\">\r\n                      <div className=\"p-3 bg-green-500/10 rounded-lg\">\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                          <Package className=\"h-4 w-4 text-green-600\" />\r\n                          <span className=\"text-xs text-muted-foreground\">CT-es</span>\r\n                        </div>\r\n                        <p className=\"text-lg font-bold text-green-600\">\r\n                          {route.ctes.length}\r\n                        </p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          {formatCurrency(route.totalRevenue)}\r\n                        </p>\r\n                      </div>\r\n\r\n                      <div className=\"p-3 bg-red-500/10 rounded-lg\">\r\n                        <div className=\"flex items-center gap-2 mb-1\">\r\n                          <Fuel className=\"h-4 w-4 text-red-600\" />\r\n                          <span className=\"text-xs text-muted-foreground\">Combustível</span>\r\n                        </div>\r\n                        <p className=\"text-lg font-bold text-red-600\">\r\n                          {route.refuelings.length}x\r\n                        </p>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          {formatCurrency(route.totalFuel)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between p-3 bg-primary/10 rounded-lg\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <TrendingUp className=\"h-4 w-4\" />\r\n                        <span className=\"font-semibold\">Valor Líquido</span>\r\n                      </div>\r\n                      <span className={`text-lg font-bold ${route.netValue >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                        {formatCurrency(route.netValue)}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {route.ctes.length > 0 && (\r\n                      <div className=\"mt-3 space-y-1\">\r\n                        <p className=\"text-xs font-semibold text-muted-foreground\">CT-es desta rota:</p>\r\n                        <div className=\"space-y-1\">\r\n                          {route.ctes.map((cte) => (\r\n                            <div key={cte.id} className=\"text-xs p-2 bg-muted/30 rounded\">\r\n                              <span className=\"font-mono\">{cte.numero_cte}</span>\r\n                              {' - '}\r\n                              <span className=\"text-muted-foreground\">\r\n                                {cte.remetente_cidade}/{cte.remetente_uf} → {cte.destinatario_cidade}/{cte.destinatario_uf}\r\n                              </span>\r\n                              {' - '}\r\n                              <span className=\"font-semibold\">{formatCurrency(cte.valor_total)}</span>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              <Route className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\r\n              <p>Nenhuma rota com dados financeiros encontrada</p>\r\n            </div>\r\n          )}\r\n        </ScrollArea>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { useTomTom } from '@/hooks/useTomTom';\r\nimport { MapPin, Navigation, Loader2, Plus, Trash2, Clock, TrendingUp } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\n\r\ninterface DeliveryPoint {\r\n  address: string;\r\n  lat?: number;\r\n  lng?: number;\r\n}\r\n\r\nexport function DeliveryRouting() {\r\n  const { geocode, calculateRoute, loading } = useTomTom();\r\n  const [origin, setOrigin] = useState<DeliveryPoint>({ address: '' });\r\n  const [deliveries, setDeliveries] = useState<DeliveryPoint[]>([{ address: '' }]);\r\n  const [routeInfo, setRouteInfo] = useState<{\r\n    totalDistance: number;\r\n    totalDuration: number;\r\n    segments: Array<{ from: string; to: string; distance: number; duration: number }>;\r\n  } | null>(null);\r\n  const [isCalculating, setIsCalculating] = useState(false);\r\n\r\n  const addDelivery = () => {\r\n    setDeliveries([...deliveries, { address: '' }]);\r\n  };\r\n\r\n  const removeDelivery = (index: number) => {\r\n    if (deliveries.length > 1) {\r\n      setDeliveries(deliveries.filter((_, i) => i !== index));\r\n    }\r\n  };\r\n\r\n  const updateDeliveryAddress = (index: number, address: string) => {\r\n    const updated = [...deliveries];\r\n    updated[index].address = address;\r\n    setDeliveries(updated);\r\n  };\r\n\r\n  const handleCalculateRoute = async () => {\r\n    // Validar origem\r\n    if (!origin.address.trim()) {\r\n      toast.error('Informe o endereço de origem');\r\n      return;\r\n    }\r\n\r\n    // Validar entregas\r\n    const validDeliveries = deliveries.filter(d => d.address.trim());\r\n    if (validDeliveries.length === 0) {\r\n      toast.error('Informe pelo menos um endereço de entrega');\r\n      return;\r\n    }\r\n\r\n    setIsCalculating(true);\r\n    setRouteInfo(null);\r\n\r\n    try {\r\n      // Geocodificar origem\r\n      toast.info('Buscando endereço de origem...');\r\n      const originResult = await geocode(origin.address);\r\n      if (!originResult) {\r\n        toast.error('Endereço de origem não encontrado');\r\n        setIsCalculating(false);\r\n        return;\r\n      }\r\n\r\n      const originCoords = {\r\n        lat: originResult.position.lat,\r\n        lng: originResult.position.lon,\r\n        address: originResult.address.freeformAddress\r\n      };\r\n\r\n      setOrigin(prev => ({ ...prev, lat: originCoords.lat, lng: originCoords.lng }));\r\n\r\n      // Geocodificar entregas\r\n      toast.info('Buscando endereços de entrega...');\r\n      const deliveryCoords = [];\r\n      \r\n      for (let i = 0; i < validDeliveries.length; i++) {\r\n        const result = await geocode(validDeliveries[i].address);\r\n        if (!result) {\r\n          toast.warning(`Entrega ${i + 1}: endereço não encontrado, pulando...`);\r\n          continue;\r\n        }\r\n\r\n        deliveryCoords.push({\r\n          lat: result.position.lat,\r\n          lng: result.position.lon,\r\n          address: result.address.freeformAddress,\r\n          originalIndex: deliveries.indexOf(validDeliveries[i])\r\n        });\r\n      }\r\n\r\n      if (deliveryCoords.length === 0) {\r\n        toast.error('Nenhum endereço de entrega válido encontrado');\r\n        setIsCalculating(false);\r\n        return;\r\n      }\r\n\r\n      // Atualizar coordenadas das entregas\r\n      const updatedDeliveries = [...deliveries];\r\n      deliveryCoords.forEach(coord => {\r\n        updatedDeliveries[coord.originalIndex] = {\r\n          address: coord.address,\r\n          lat: coord.lat,\r\n          lng: coord.lng\r\n        };\r\n      });\r\n      setDeliveries(updatedDeliveries);\r\n\r\n      // Calcular rotas segmento por segmento\r\n      toast.info('Calculando rota otimizada...');\r\n      const allPoints = [originCoords, ...deliveryCoords];\r\n      const segments = [];\r\n      let totalDistance = 0;\r\n      let totalDuration = 0;\r\n\r\n      for (let i = 0; i < allPoints.length - 1; i++) {\r\n        const segment = await calculateRoute(\r\n          { lat: allPoints[i].lat, lng: allPoints[i].lng },\r\n          { lat: allPoints[i + 1].lat, lng: allPoints[i + 1].lng },\r\n          'truck'\r\n        );\r\n\r\n        if (segment) {\r\n          totalDistance += segment.distance;\r\n          totalDuration += segment.duration;\r\n          \r\n          segments.push({\r\n            from: allPoints[i].address,\r\n            to: allPoints[i + 1].address,\r\n            distance: segment.distance,\r\n            duration: segment.duration\r\n          });\r\n        }\r\n      }\r\n\r\n      setRouteInfo({\r\n        totalDistance,\r\n        totalDuration,\r\n        segments\r\n      });\r\n\r\n      toast.success('Rota calculada com sucesso!');\r\n    } catch (error) {\r\n      console.error('Erro ao calcular rota:', error);\r\n      toast.error('Erro ao calcular rota');\r\n    } finally {\r\n      setIsCalculating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <MapPin className=\"h-5 w-5 text-green-500\" />\r\n            Origem da Viagem\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            <div>\r\n              <Label htmlFor=\"origin\">Endereço de Origem</Label>\r\n              <Input\r\n                id=\"origin\"\r\n                value={origin.address}\r\n                onChange={(e) => setOrigin({ address: e.target.value })}\r\n                placeholder=\"Ex: Av. Paulista, 1000 - São Paulo, SP\"\r\n                disabled={isCalculating}\r\n              />\r\n            </div>\r\n            {origin.lat && origin.lng && (\r\n              <div className=\"text-xs text-muted-foreground bg-muted p-2 rounded\">\r\n                📍 Coordenadas: {origin.lat.toFixed(6)}, {origin.lng.toFixed(6)}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center justify-between\">\r\n            <span className=\"flex items-center gap-2\">\r\n              <MapPin className=\"h-5 w-5 text-blue-500\" />\r\n              Entregas\r\n            </span>\r\n            <Button size=\"sm\" onClick={addDelivery} disabled={isCalculating}>\r\n              <Plus className=\"h-4 w-4 mr-1\" />\r\n              Adicionar\r\n            </Button>\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {deliveries.map((delivery, index) => (\r\n            <div key={index} className=\"space-y-3 p-4 border rounded-lg\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label>Entrega {index + 1}</Label>\r\n                {deliveries.length > 1 && (\r\n                  <Button\r\n                    size=\"sm\"\r\n                    variant=\"ghost\"\r\n                    onClick={() => removeDelivery(index)}\r\n                    disabled={isCalculating}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4 text-destructive\" />\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              <Input\r\n                value={delivery.address}\r\n                onChange={(e) => updateDeliveryAddress(index, e.target.value)}\r\n                placeholder=\"Ex: Rua Augusta, 500 - São Paulo, SP\"\r\n                disabled={isCalculating}\r\n              />\r\n              {delivery.lat && delivery.lng && (\r\n                <div className=\"text-xs text-muted-foreground bg-muted p-2 rounded\">\r\n                  📍 Coordenadas: {delivery.lat.toFixed(6)}, {delivery.lng.toFixed(6)}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Button\r\n        className=\"w-full\"\r\n        size=\"lg\"\r\n        onClick={handleCalculateRoute}\r\n        disabled={isCalculating || loading}\r\n      >\r\n        {isCalculating || loading ? (\r\n          <>\r\n            <Loader2 className=\"h-5 w-5 mr-2 animate-spin\" />\r\n            Calculando rota...\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Navigation className=\"h-5 w-5 mr-2\" />\r\n            Calcular Rota Otimizada\r\n          </>\r\n        )}\r\n      </Button>\r\n\r\n      {routeInfo && (\r\n        <Card className=\"border-primary\">\r\n          <CardHeader>\r\n            <CardTitle>Resumo da Rota</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <TrendingUp className=\"h-4 w-4\" />\r\n                  Distância Total\r\n                </div>\r\n                <div className=\"text-2xl font-bold\">\r\n                  {(routeInfo.totalDistance / 1000).toFixed(1)} km\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                  <Clock className=\"h-4 w-4\" />\r\n                  Tempo Estimado\r\n                </div>\r\n                <div className=\"text-2xl font-bold\">\r\n                  {Math.floor(routeInfo.totalDuration / 3600)}h{' '}\r\n                  {Math.floor((routeInfo.totalDuration % 3600) / 60)}min\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-t pt-4\">\r\n              <h4 className=\"font-semibold mb-3\">Segmentos da Rota</h4>\r\n              <div className=\"space-y-2\">\r\n                {routeInfo.segments.map((segment, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"flex items-start gap-3 p-3 bg-muted rounded-lg text-sm\"\r\n                  >\r\n                    <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold\">\r\n                      {index + 1}\r\n                    </div>\r\n                    <div className=\"flex-1 space-y-1\">\r\n                      <div className=\"font-medium\">\r\n                        {segment.from} → {segment.to}\r\n                      </div>\r\n                      <div className=\"text-muted-foreground flex gap-4\">\r\n                        <span>{(segment.distance / 1000).toFixed(1)} km</span>\r\n                        <span>\r\n                          {Math.floor(segment.duration / 60)} min\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\nexport function LiveLocationToggle() {\n  const { user } = useAuth();\n  const [enabled, setEnabled] = useState(false);\n  const watchId = useRef<number | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (watchId.current != null) navigator.geolocation.clearWatch(watchId.current);\n    };\n  }, []);\n\n  const start = () => {\n    if (!user) return;\n    watchId.current = navigator.geolocation.watchPosition(async (pos) => {\n      const { latitude, longitude } = pos.coords;\n      await supabase.from(\"vehicle_tracking\" as any).insert({ driver_id: user.id, vehicle_plate: null, latitude, longitude, speed_kmh: null, recorded_at: new Date().toISOString() } as any);\n    }, () => {}, { enableHighAccuracy: true, maximumAge: 10000, timeout: 20000 });\n    setEnabled(true);\n  };\n\n  const stop = () => {\n    if (watchId.current != null) navigator.geolocation.clearWatch(watchId.current);\n    watchId.current = null;\n    setEnabled(false);\n  };\n\n  return (\n    <div className=\"flex items-center gap-2\">\n      <Button variant={enabled ? \"destructive\" : \"modern\"} onClick={enabled ? stop : start}>{enabled ? \"Parar Localização Ao Vivo\" : \"Iniciar Localização Ao Vivo\"}</Button>\n    </div>\n  );\n}\n\n","import { Layout } from \"@/components/Layout\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { \r\n  Clock, \r\n  Wallet, \r\n  Calendar,\r\n  MapPin,\r\n  Truck,\r\n  DollarSign,\r\n  CheckCircle,\r\n  Loader2,\r\n  Fuel,\r\n  Receipt,\r\n  ClipboardCheck,\r\n  Bell,\r\n  MessageSquare,\r\n  TrendingUp\r\n} from \"lucide-react\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { StatCard } from \"@/components/StatCard\";\r\nimport { WorkSessionPanel } from \"@/components/driver/WorkSessionPanel\";\r\nimport { DriverJourneyStatus } from \"@/components/driver/DriverJourneyStatus\";\r\nimport { DriverEarnings } from \"@/components/driver/DriverEarnings\";\r\nimport { FuelExpenseDialog } from \"@/components/driver/FuelExpenseDialog\";\r\nimport { TripExpenseDialog } from \"@/components/driver/TripExpenseDialog\";\r\nimport { DriverChecklist } from \"@/components/driver/DriverChecklist\";\r\nimport { TripAlerts } from \"@/components/driver/TripAlerts\";\r\nimport { DriverPerformance } from \"@/components/driver/DriverPerformance\";\r\nimport { DriverPayrollHistory } from \"@/components/driver/DriverPayrollHistory\";\r\nimport { DriverRouteFinancial } from \"@/components/driver/DriverRouteFinancial\";\r\nimport { DeliveryRouting } from \"@/components/driver/DeliveryRouting\";\nimport { LiveLocationToggle } from \"@/components/driver/LiveLocationToggle\";\nimport GaelChatbot from \"@/components/GaelChatbot\";\r\nimport { format, differenceInDays } from \"date-fns\";\r\nimport { ptBR } from \"date-fns/locale\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function DriverApp() {\r\n  const { user } = useAuth();\r\n\r\n  // Buscar sessão ativa\r\n  const { data: activeSession, isLoading: loadingSession } = useQuery({\r\n    queryKey: ['active-session', user?.id],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('driver_work_sessions')\r\n        .select('*')\r\n        .eq('driver_id', user?.id)\r\n        .eq('status', 'em_andamento')\r\n        .single();\r\n      \r\n      if (error && error.code !== 'PGRST116') throw error;\r\n      return data;\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  // Buscar diárias pendentes\r\n  const { data: dailyAllowances, isLoading: loadingAllowances, refetch: refetchAllowances } = useQuery({\r\n    queryKey: ['daily-allowances', user?.id],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('driver_work_sessions')\r\n        .select('*')\r\n        .eq('driver_id', user?.id)\r\n        .eq('status', 'finalizada')\r\n        .order('data_inicio', { ascending: false })\r\n        .limit(10);\r\n      \r\n      if (error) throw error;\r\n      return data || [];\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  // Buscar gratificações do mês\r\n  const { data: monthlyEarnings, isLoading: loadingEarnings } = useQuery({\r\n    queryKey: ['monthly-earnings', user?.id],\r\n    queryFn: async () => {\r\n      const now = new Date();\r\n      const { data, error } = await supabase\r\n        .from('driver_payroll')\r\n        .select('*')\r\n        .eq('driver_id', user?.id)\r\n        .eq('mes', now.getMonth() + 1)\r\n        .eq('ano', now.getFullYear())\r\n        .maybeSingle();\r\n      \r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n    enabled: !!user?.id\r\n  });\r\n\r\n  const calculateDailyAllowance = (session: any) => {\r\n    if (!session.data_inicio || !session.data_fim) return 0;\r\n    \r\n    const start = new Date(session.data_inicio);\r\n    const end = new Date(session.data_fim);\r\n    const daysAway = differenceInDays(end, start);\r\n    \r\n    // R$ 80 por dia fora (exemplo)\r\n    return daysAway * 80;\r\n  };\r\n\r\n  const handleRequestAllowanceApproval = async (sessionId: string) => {\r\n    try {\r\n      // Aqui você pode criar uma notificação ou registro de solicitação\r\n      const { error } = await supabase\r\n        .from('notifications')\r\n        .insert({\r\n          user_id: user?.id,\r\n          title: 'Solicitação de Diária',\r\n          message: `Motorista solicitou aprovação de diária da viagem ${sessionId}`,\r\n          type: 'info',\r\n          module: 'driver'\r\n        });\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success('Solicitação enviada!', {\r\n        description: 'Seu pedido de diária foi enviado para aprovação'\r\n      });\r\n      \r\n      refetchAllowances();\r\n    } catch (error) {\r\n      console.error('Erro ao solicitar aprovação:', error);\r\n      toast.error('Erro ao enviar solicitação');\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('pt-BR', {\r\n      style: 'currency',\r\n      currency: 'BRL'\r\n    }).format(value);\r\n  };\r\n\r\n  if (loadingSession || loadingAllowances || loadingEarnings) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"flex items-center justify-center h-96\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  const totalPendingAllowances = dailyAllowances\r\n    ?.filter((s: any) => !s.allowance_approved)\r\n    .reduce((sum: number, s: any) => sum + calculateDailyAllowance(s), 0) || 0;\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"space-y-6 max-w-7xl mx-auto\">\r\n        {/* Header Mobile-friendly */}\r\n        <div className=\"space-y-2\">\n          <h1 className=\"text-2xl md:text-3xl font-bold\">🚚 Meu App</h1>\n          <p className=\"text-sm md:text-base text-muted-foreground\">\n            Gestão completa da sua jornada\n          </p>\n          <LiveLocationToggle />\n        </div>\n\r\n        {/* KPIs Mobile-friendly */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4\">\r\n          <StatCard\r\n            title=\"Status\"\r\n            value={activeSession ? \"Em Viagem\" : \"Parado\"}\r\n            icon={Truck}\r\n            className=\"text-sm\"\r\n          />\r\n          <StatCard\r\n            title=\"Mês Atual\"\r\n            value={formatCurrency(monthlyEarnings?.total_liquido || 0)}\r\n            icon={Wallet}\r\n            className=\"text-sm\"\r\n          />\r\n          <StatCard\r\n            title=\"Diárias Pendentes\"\r\n            value={dailyAllowances?.filter((s: any) => !s.allowance_approved).length || 0}\r\n            icon={Calendar}\r\n            className=\"text-sm\"\r\n          />\r\n          <StatCard\r\n            title=\"Diárias R$\"\r\n            value={formatCurrency(totalPendingAllowances)}\r\n            icon={DollarSign}\r\n            className=\"text-sm\"\r\n          />\r\n        </div>\r\n\r\n        {/* Tabs Mobile-optimized */}\r\n        <Tabs defaultValue=\"jornada\" className=\"w-full\">\r\n          <TabsList className=\"grid w-full grid-cols-3 sm:grid-cols-4 lg:grid-cols-9 h-auto gap-1\">\r\n            <TabsTrigger value=\"jornada\" className=\"text-xs py-2\">\r\n              <Clock className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Jornada</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"gratificacao\" className=\"text-xs py-2\">\r\n              <Wallet className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Gratificação</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"desempenho\" className=\"text-xs py-2\">\r\n              <Clock className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Desempenho</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"historico\" className=\"text-xs py-2\">\r\n              <Receipt className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Histórico</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"rotas\" className=\"text-xs py-2\">\r\n              <MapPin className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Rotas</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"diarias\" className=\"text-xs py-2\">\r\n              <Calendar className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Diárias</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"despesas\" className=\"text-xs py-2\">\r\n              <Fuel className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Despesas</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"checklist\" className=\"text-xs py-2\">\r\n              <ClipboardCheck className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Checklist</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"viagens\" className=\"text-xs py-2\">\r\n              <Bell className=\"w-4 h-4 mr-1\" />\r\n              <span className=\"hidden sm:inline\">Viagens</span>\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          {/* Aba Jornada */}\r\n          <TabsContent value=\"jornada\" className=\"space-y-4 mt-4\">\r\n            {activeSession && <DriverJourneyStatus />}\r\n            <WorkSessionPanel />\r\n          </TabsContent>\r\n\r\n          {/* Aba Gratificação */}\r\n          <TabsContent value=\"gratificacao\" className=\"space-y-4 mt-4\">\r\n            <DriverEarnings />\r\n          </TabsContent>\r\n\r\n          {/* Aba Desempenho */}\r\n          <TabsContent value=\"desempenho\" className=\"space-y-4 mt-4\">\r\n            <DriverPerformance />\r\n          </TabsContent>\r\n\r\n          {/* Aba Histórico */}\r\n          <TabsContent value=\"historico\" className=\"space-y-4 mt-4\">\r\n            <DriverPayrollHistory />\r\n          </TabsContent>\r\n\r\n          {/* Aba Rotas */}\r\n          <TabsContent value=\"rotas\" className=\"space-y-4 mt-4\">\r\n            <Tabs defaultValue=\"planejamento\" className=\"w-full\">\r\n              <TabsList className=\"grid w-full grid-cols-2\">\r\n                <TabsTrigger value=\"planejamento\">Planejar Rota</TabsTrigger>\r\n                <TabsTrigger value=\"financeiro\">Financeiro</TabsTrigger>\r\n              </TabsList>\r\n              <TabsContent value=\"planejamento\" className=\"mt-4\">\r\n                <DeliveryRouting />\r\n              </TabsContent>\r\n              <TabsContent value=\"financeiro\" className=\"mt-4\">\r\n                <DriverRouteFinancial />\r\n              </TabsContent>\r\n            </Tabs>\r\n          </TabsContent>\r\n\r\n          {/* Aba Diárias */}\r\n          <TabsContent value=\"diarias\" className=\"space-y-4 mt-4\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2 text-lg md:text-xl\">\r\n                  <Calendar className=\"w-5 h-5\" />\r\n                  Minhas Diárias\r\n                </CardTitle>\r\n                <p className=\"text-xs md:text-sm text-muted-foreground\">\r\n                  Diárias automáticas baseadas em dias fora da garagem\r\n                </p>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                {dailyAllowances && dailyAllowances.length > 0 ? (\r\n                  dailyAllowances.map((session: any) => {\r\n                    const daysAway = session.data_fim \r\n                      ? differenceInDays(new Date(session.data_fim), new Date(session.data_inicio))\r\n                      : 0;\r\n                    const allowanceValue = calculateDailyAllowance(session);\r\n\r\n                    return (\r\n                      <Card key={session.id} className=\"border-l-4 border-l-primary/20\">\r\n                        <CardContent className=\"p-4 space-y-3\">\r\n                          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\">\r\n                            <div className=\"space-y-1\">\r\n                              <div className=\"flex items-center gap-2 flex-wrap\">\r\n                                <Badge variant=\"outline\" className=\"text-xs\">\r\n                                  {session.vehicle_plate}\r\n                                </Badge>\r\n                                <span className=\"text-xs text-muted-foreground\">\r\n                                  {format(new Date(session.data_inicio), 'dd/MM/yyyy', { locale: ptBR })}\r\n                                  {' → '}\r\n                                  {session.data_fim && format(new Date(session.data_fim), 'dd/MM/yyyy', { locale: ptBR })}\r\n                                </span>\r\n                              </div>\r\n                              <p className=\"text-sm font-medium\">\r\n                                {daysAway} {daysAway === 1 ? 'dia' : 'dias'} fora\r\n                              </p>\r\n                            </div>\r\n                            \r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"text-right\">\r\n                                <p className=\"text-lg font-bold text-green-600\">\r\n                                  {formatCurrency(allowanceValue)}\r\n                                </p>\r\n                                <Badge \r\n                                  variant={session.allowance_approved ? \"default\" : \"secondary\"}\r\n                                  className=\"text-xs\"\r\n                                >\r\n                                  {session.allowance_approved ? (\r\n                                    <>\r\n                                      <CheckCircle className=\"w-3 h-3 mr-1\" />\r\n                                      Aprovado\r\n                                    </>\r\n                                  ) : (\r\n                                    'Pendente'\r\n                                  )}\r\n                                </Badge>\r\n                              </div>\r\n                              \r\n                              {!session.allowance_approved && (\r\n                                <Button\r\n                                  size=\"sm\"\r\n                                  onClick={() => handleRequestAllowanceApproval(session.id)}\r\n                                  className=\"text-xs\"\r\n                                >\r\n                                  Solicitar\r\n                                </Button>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n\r\n                          {session.localizacao_inicio && (\r\n                            <div className=\"flex items-start gap-2 text-xs text-muted-foreground pt-2 border-t\">\r\n                              <MapPin className=\"w-3 h-3 mt-0.5 flex-shrink-0\" />\r\n                              <span className=\"line-clamp-1\">\r\n                                {session.localizacao_inicio.city}, {session.localizacao_inicio.state}\r\n                                {session.localizacao_fim && ` → ${session.localizacao_fim.city}, ${session.localizacao_fim.state}`}\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n                        </CardContent>\r\n                      </Card>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <div className=\"text-center py-8 text-muted-foreground\">\r\n                    <Calendar className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\r\n                    <p className=\"text-sm\">Nenhuma diária registrada</p>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Aba Despesas */}\r\n          <TabsContent value=\"despesas\" className=\"space-y-4 mt-4\">\r\n            <div className=\"grid gap-4\">\r\n              <FuelExpenseDialog />\r\n              <TripExpenseDialog />\r\n            </div>\r\n          </TabsContent>\r\n\r\n          {/* Aba Checklist */}\r\n          <TabsContent value=\"checklist\" className=\"space-y-4 mt-4\">\r\n            <DriverChecklist />\r\n          </TabsContent>\r\n\r\n          {/* Aba Viagens */}\r\n          <TabsContent value=\"viagens\" className=\"space-y-4 mt-4\">\r\n            <TripAlerts />\r\n          </TabsContent>\r\n        </Tabs>\r\n\r\n        {/* Chatbot flutuante */}\r\n        <div className=\"fixed bottom-4 right-4 z-50\">\r\n          <GaelChatbot />\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":["__iconNode","Route","createLucideIcon","Square","Trophy","Utensils","differenceInDays","dateLeft","dateRight","_dateLeft","toDate","_dateRight","sign","compareLocalAsc","difference","differenceInCalendarDays","isLastDayNotFull","result","diff","VehicleChangeDialog","open","onOpenChange","currentSessionId","currentVehicle","onVehicleChanged","loading","setLoading","useState","vehicles","setVehicles","carretas","setCarretas","selectedVehicle","setSelectedVehicle","selectedCarreta","setSelectedCarreta","motivo","setMotivo","useEffect","loadVehicles","data","cavaloData","error","cavaloError","supabase","from","select","eq","in","console","mappedCavalos","map","v","placa","plate","modelo","model","tipo","filter","sort","a","b","localeCompare","carretaData","carretaError","mappedCarretas","handleSubmit","e","preventDefault","toast","sessionError","update","vehicle_plate","updated_at","Date","toISOString","eventError","insert","session_id","driver_id","_a","auth","getUser","user","id","tipo_atividade","data_hora_inicio","observacoes","automatico","success","Dialog","jsxs","DialogContent","DialogHeader","DialogTitle","jsx","Truck","DialogDescription","Label","Badge","Select","SelectTrigger","SelectValue","SelectContent","vehicle","SelectItem","carreta","Textarea","target","value","AlertCircle","Button","ATIVIDADES","label","icon","Play","color","Coffee","Clock","CheckCircle","WorkSessionPanel","useAuth","currentSession","setCurrentSession","currentEvent","setCurrentEvent","setObservacoes","vehicleChangeDialogOpen","setVehicleChangeDialogOpen","loadActiveSession","session","order","ascending","limit","maybeSingle","event","is","showVehicleSelect","setShowVehicleSelect","availableVehicles","setAvailableVehicles","handleIniciarJornadaClick","mapped","ano","year","log","iniciarJornadaComViagem","trip","trip_id","data_inicio","status","single","iniciarJornadaSemViagem","finalizarJornada","finalizarEvento","data_fim","functions","invoke","body","sessionId","iniciarAtividade","tipoAtividade","find","agora","inicio","duracaoMinutos","Math","round","getTime","data_hora_fim","duracao_minutos","updateData","total_direcao_minutos","total_trabalho_minutos","total_espera_minutos","total_descanso_minutos","formatarTempo","minutos","horas","floor","mins","toString","padStart","Card","horas_extras_minutos","atividade","Icon","isAtual","AlertTriangle","length","FuelExpenseDialog","setOpen","recent","setRecent","formData","setFormData","km","liters","total_value","litersNum","parseFloat","totalNum","kmNum","parseInt","pricePerLiter","canSubmit","loadRecent","cost_per_km","max","price_per_liter","DialogTrigger","Fuel","VehicleSelect","Input","toFixed","r","Number","TripExpenseDialog","descricao","valor","fornecedor","data_vencimento","categoria","created_by","user_id","title","message","type","module","Receipt","checklistItems","DriverChecklist","checked","setChecked","vehiclePlate","setVehiclePlate","every","item","items","timestamp","checklist_type","mechanic_id","completed_at","CardHeader","CardTitle","ClipboardCheck","CardContent","Checkbox","TripAlerts","trips","refetch","useQuery","queryKey","queryFn","enabled","handleAcceptTrip","tripId","Bell","format","created_at","locale","ptBR","cte","MapPin","remetente_cidade","remetente_uf","Navigation","destinatario_cidade","destinatario_uf","departure_date","DriverPerformance","stats","setStats","onTimeDeliveries","totalTrips","averageRating","totalKm","violations","achievements","setAchievements","loadPerformance","sessions","refuelings","violationsCount","onTimeRate","newAchievements","push","description","achieved","currentMonth","toLocaleDateString","month","onTimePercentage","TrendingUp","Target","Star","Zap","achievement","Award","DriverPayrollHistory","history","setHistory","loadHistory","formatCurrency","Intl","NumberFormat","style","currency","getMonthName","date","getStatusBadge","variants","variant","config","History","FileText","ScrollArea","payroll","Calendar","mes","Separator","salario_base","valor_horas_normais","valor_horas_extras","valor_horas_espera","total_valor_ctes","total_combustivel","base_calculo_gratificacao","valor_gratificacao","DollarSign","total_liquido","DriverRouteFinancial","routes","setRoutes","loadRouteFinancials","not","routeFinancials","ctes","gte","lte","totalRevenue","reduce","sum","valor_total","totalFuel","ref","netValue","getRouteOriginDestination","origin","destination","firstCte","lastCte","route","index","Package","numero_cte","DeliveryRouting","geocode","calculateRoute","useTomTom","setOrigin","address","deliveries","setDeliveries","routeInfo","setRouteInfo","isCalculating","setIsCalculating","addDelivery","removeDelivery","_","i","updateDeliveryAddress","updated","handleCalculateRoute","trim","validDeliveries","d","info","originResult","originCoords","lat","position","lng","lon","freeformAddress","prev","deliveryCoords","warning","originalIndex","indexOf","updatedDeliveries","forEach","coord","allPoints","segments","totalDistance","totalDuration","segment","distance","duration","to","Plus","delivery","Trash2","Fragment","Loader2","LiveLocationToggle","setEnabled","watchId","useRef","current","geolocation","clearWatch","start","navigator","watchPosition","pos","latitude","longitude","coords","speed_kmh","recorded_at","enableHighAccuracy","maximumAge","timeout","stop","DriverApp","activeSession","isLoading","loadingSession","code","dailyAllowances","loadingAllowances","refetchAllowances","monthlyEarnings","loadingEarnings","now","getMonth","getFullYear","calculateDailyAllowance","end","handleRequestAllowanceApproval","Layout","totalPendingAllowances","s","allowance_approved","StatCard","Wallet","Tabs","TabsList","TabsTrigger","TabsContent","DriverJourneyStatus","DriverEarnings","daysAway","allowanceValue","localizacao_inicio","city","state","localizacao_fim","GaelChatbot"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}