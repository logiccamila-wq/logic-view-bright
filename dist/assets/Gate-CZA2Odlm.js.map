{"version":3,"file":"Gate-CZA2Odlm.js","sources":["../../src/pages/Gate.tsx"],"sourcesContent":["import { Layout } from \"@/components/Layout\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { VehicleSelect } from \"@/components/VehicleSelect\";\nimport { useState } from \"react\";\n\nexport default function Gate() {\n  const [plate, setPlate] = useState(\"\");\n  const [driver, setDriver] = useState(\"\");\n  const [kind, setKind] = useState<\"entry\"|\"exit\">(\"entry\");\n  const [message, setMessage] = useState(\"\");\n\n  const submit = async () => {\n    setMessage(\"\");\n    try {\n      const r = await fetch(\"/api/gate-event\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ plate, driver, kind }),\n      });\n      const js = await r.json();\n      if (!r.ok) throw new Error(js?.error || \"Falha no registro\");\n      setMessage(\"Evento registrado com sucesso\");\n      setPlate(\"\"); setDriver(\"\"); setKind(\"entry\");\n    } catch (e: any) {\n      setMessage(e?.message || \"Erro ao registrar\");\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"space-y-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">Portaria</h1>\n          <p className=\"text-muted-foreground\">Entrada/Saída de veículos e custo operacional</p>\n        </div>\n        <Card>\n          <CardHeader>\n            <CardTitle>Registro de Evento</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n              <div>\n                <VehicleSelect \n                  value={plate} \n                  onChange={setPlate}\n                  placeholder=\"Selecione a placa\"\n                />\n              </div>\n              <Input placeholder=\"Motorista\" value={driver} onChange={(e)=>setDriver(e.target.value)} />\n              <select className=\"border rounded px-3 py-2\" value={kind} onChange={(e)=>setKind(e.target.value as any)}>\n                <option value=\"entry\">Entrada</option>\n                <option value=\"exit\">Saída</option>\n              </select>\n            </div>\n            <Button onClick={submit}>Registrar</Button>\n            {message && <div className=\"text-sm text-muted-foreground\">{message}</div>}\n          </CardContent>\n        </Card>\n      </div>\n    </Layout>\n  );\n}\n"],"names":["Gate","plate","setPlate","useState","driver","setDriver","kind","setKind","message","setMessage","submit","r","fetch","method","headers","body","JSON","stringify","js","json","ok","Error","error","e","Layout","jsxs","jsx","Card","CardHeader","CardTitle","CardContent","VehicleSelect","Input","target","value","Button"],"mappings":"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"}