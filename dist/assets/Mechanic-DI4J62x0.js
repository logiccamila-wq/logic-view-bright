import{c as J,a as z,r as m,s as D,j as e,B as f,d as v,W as ne,a2 as Ne,P as ee,a3 as _e,$ as Be}from"./index-BiNiRHKa.js";import{P as V,f as ue,C as ie,p as ge,b as Se,T as Te,d as Ue,M as Y,L as ye}from"./Layout-Dp_kOeVO.js";import{T as Ae,a as fe,b as P,c as M}from"./tabs-D0EqSZrJ.js";import{C as y,a as W,b as $,d as F}from"./card-TfuIT_5Q.js";import{I as T}from"./input-CbZeJBr9.js";import{T as ce}from"./textarea-DY8BSV4k.js";import{S as I,a as O,b as q,c as R,d as S}from"./select-QQKt8PR4.js";import{B as k}from"./badge-DNXvGi58.js";import{D as G,f as te,a as K,b as H,c as Q,e as ke,d as Ee}from"./dialog-Cg8eQnwj.js";import{L as j}from"./label-UYjdQhGu.js";import{d as Pe,a as Me}from"./demoStore-BIsfGJR8.js";import{u as oe,V as re}from"./VehicleSelect-By-7KCVO.js";import{C as X}from"./warehouse-DuizGI0Y.js";import{C as Z}from"./circle-check-big-SjvrQ4v6.js";import{G as De}from"./gauge-n41ks_MX.js";import{T as se}from"./triangle-alert-DWEkvv_3.js";import{S as Ie}from"./search-DMtVIRGP.js";import{C as Oe}from"./checkbox-DFwEB-hm.js";import{C as de}from"./clipboard-check-7ZVhhWHc.js";import{C as he}from"./circle-VURLCliM.js";import{C as je}from"./calendar-B64dnvJa.js";import{u as qe}from"./useQuery-CFkLnJnT.js";import{u as Re}from"./useMutation-B5QQ2ld7.js";import{S as Fe}from"./switch-kUc4mnC_.js";import{u as ze}from"./useTomTom-DA6LhlUd.js";import{N as xe}from"./navigation-CKYRs-6Q.js";import{L as ve}from"./loader-circle-B3QIm2JW.js";import{C as Ve}from"./circle-x-B59uFOSb.js";import"./index-DIpBNjZJ.js";import"./index-CwEJSXtc.js";import"./index-CDnZEIrr.js";import"./user-DUMs6VdZ.js";import"./check-CRXfG46A.js";import"./trending-up-DqnRdfA9.js";import"./settings-ADCDQZ7C.js";import"./sparkles-Dn6_ZUdd.js";import"./index-BjTUNxlL.js";import"./chevron-down-CMfBZ8DZ.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Ce=J("arrow-right-left",We);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],ae=J("droplet",$e);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Ge=J("list-checks",Je);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],He=J("map",Ke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],Xe=J("package-plus",Qe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Ye=J("test-tube",Ze);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]],tt=J("thermometer-sun",et);function rt(){const{user:d}=z(),[B,A]=m.useState([]),{vehicles:N}=oe(),[_,u]=m.useState(!0),[g,x]=m.useState(!1),[w,L]=m.useState(null),[p,l]=m.useState({vehicle_plate:"",vehicle_model:"",odometer:"",issue_description:"",priority:"media"}),s=async()=>{try{const{data:r,error:a}=await D.from("service_orders").select("*").order("created_at",{ascending:!1});if(a)throw a;A(r||[])}catch(r){console.error("Erro ao buscar ordens:",r);const a=Pe("service_orders");A(a)}finally{u(!1)}};m.useEffect(()=>{s();const r=D.channel("service_orders_changes").on("postgres_changes",{event:"*",schema:"public",table:"service_orders"},()=>{s()}).subscribe();return()=>{D.removeChannel(r)}},[]);const n=async r=>{r.preventDefault();try{const{error:a}=await D.from("service_orders").insert({...p,odometer:parseInt(p.odometer),created_by:d==null?void 0:d.id});if(a)throw a;v.success("Ordem de serviço criada com sucesso"),x(!1),l({vehicle_plate:"",vehicle_model:"",odometer:"",issue_description:"",priority:"media"})}catch(a){console.error("Erro ao criar ordem:",a);const t=Me("service_orders",{...p,odometer:parseInt(p.odometer),status:"pendente",created_by:d==null?void 0:d.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});A(h=>[t,...h]),v.success("Ordem criada localmente"),x(!1)}},C=async(r,a)=>{try{const t={status:a};a==="em_andamento"&&!(w!=null&&w.mechanic_id)&&(t.mechanic_id=d==null?void 0:d.id),a==="concluida"&&(t.completed_at=new Date().toISOString());const{error:h}=await D.from("service_orders").update(t).eq("id",r);if(h)throw h;v.success("Status atualizado")}catch(t){console.error("Erro ao atualizar status:",t),A(h=>h.map(U=>U.id===r?{...U,status:a,mechanic_id:a==="em_andamento"?U.mechanic_id||(d==null?void 0:d.id):U.mechanic_id,completed_at:a==="concluida"?new Date().toISOString():U.completed_at,updated_at:new Date().toISOString()}:U)),v.success("Status atualizado localmente")}},c=r=>{switch(r){case"urgente":return"destructive";case"alta":return"destructive";case"media":return"secondary";default:return"outline"}},o=r=>{switch(r){case"concluida":return e.jsx(Z,{className:"h-5 w-5 text-green-600"});case"em_andamento":return e.jsx(X,{className:"h-5 w-5 text-blue-600"});case"aguardando_pecas":return e.jsx(ie,{className:"h-5 w-5 text-yellow-600"});default:return e.jsx(ne,{className:"h-5 w-5 text-muted-foreground"})}};return _?e.jsx("div",{"trae-inspector-start-line":"164","trae-inspector-start-column":"11","trae-inspector-end-line":"164","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22164%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22164%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"168","trae-inspector-start-column":"4","trae-inspector-end-line":"323","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"169","trae-inspector-start-column":"6","trae-inspector-end-line":"262","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"170","trae-inspector-start-column":"8","trae-inspector-end-line":"173","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"171","trae-inspector-start-column":"10","trae-inspector-end-line":"171","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ordens%20de%20Servi%C3%A7o%22%2C%22textStartLine%22%3A%22171%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22171%22%2C%22textEndColumn%22%3A%2262%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Ordens de Serviço"}),e.jsx("p",{"trae-inspector-start-line":"172","trae-inspector-start-column":"10","trae-inspector-end-line":"172","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gerencie%20as%20manuten%C3%A7%C3%B5es%20e%20reparos%20da%20frota%22%2C%22textStartLine%22%3A%22172%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22172%22%2C%22textEndColumn%22%3A%2289%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Gerencie as manutenções e reparos da frota"})]}),e.jsxs(G,{open:g,onOpenChange:x,children:[e.jsx(te,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Nova Ordem"]})}),e.jsxs(K,{className:"max-w-2xl",children:[e.jsx(H,{children:e.jsx(Q,{children:"Criar Ordem de Serviço"})}),e.jsxs("form",{"trae-inspector-start-line":"186","trae-inspector-start-column":"12","trae-inspector-end-line":"259","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"14","trae-inspector-end-line":"213","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"188","trae-inspector-start-column":"16","trae-inspector-end-line":"202","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"vehicle_plate",children:"Placa do Veículo"}),e.jsx(re,{value:p.vehicle_plate,onChange:r=>{const a=N.find(t=>t.plate===r);l({...p,vehicle_plate:r,vehicle_model:(a==null?void 0:a.model)||""})},placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"203","trae-inspector-start-column":"16","trae-inspector-end-line":"212","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"vehicle_model",children:"Modelo"}),e.jsx(T,{id:"vehicle_model",value:p.vehicle_model,readOnly:!0,disabled:!0,className:"bg-muted"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"215","trae-inspector-start-column":"14","trae-inspector-end-line":"240","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"216","trae-inspector-start-column":"16","trae-inspector-end-line":"225","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"odometer",children:"KM Atual"}),e.jsx(T,{id:"odometer",type:"number",value:p.odometer,onChange:r=>l({...p,odometer:r.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"226","trae-inspector-start-column":"16","trae-inspector-end-line":"239","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"priority",children:"Prioridade"}),e.jsxs(I,{value:p.priority,onValueChange:r=>l({...p,priority:r}),children:[e.jsx(O,{children:e.jsx(q,{})}),e.jsxs(R,{children:[e.jsx(S,{value:"baixa",children:"Baixa"}),e.jsx(S,{value:"media",children:"Média"}),e.jsx(S,{value:"alta",children:"Alta"}),e.jsx(S,{value:"urgente",children:"Urgente"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"242","trae-inspector-start-column":"14","trae-inspector-end-line":"251","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"issue_description",children:"Descrição do Problema"}),e.jsx(ce,{id:"issue_description",value:p.issue_description,onChange:r=>l({...p,issue_description:r.target.value}),rows:4,required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"253","trae-inspector-start-column":"14","trae-inspector-end-line":"258","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(f,{type:"submit",children:"Criar Ordem"})]})]})]})]})]}),e.jsx("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"6","trae-inspector-end-line":"322","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:B.map(r=>e.jsxs(y,{className:"p-6",children:[e.jsxs("div",{"trae-inspector-start-line":"267","trae-inspector-start-column":"12","trae-inspector-end-line":"288","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{"trae-inspector-start-line":"268","trae-inspector-start-column":"14","trae-inspector-end-line":"278","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[o(r.status),e.jsxs("div",{"trae-inspector-start-line":"270","trae-inspector-start-column":"16","trae-inspector-end-line":"277","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h3",{"trae-inspector-start-line":"271","trae-inspector-start-column":"18","trae-inspector-end-line":"273","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold text-lg",children:[r.vehicle_model," - ",r.vehicle_plate]}),e.jsxs("p",{"trae-inspector-start-line":"274","trae-inspector-start-column":"18","trae-inspector-end-line":"276","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[r.odometer.toLocaleString("pt-BR")," km"]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"280","trae-inspector-start-column":"14","trae-inspector-end-line":"287","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(k,{variant:c(r.priority),children:r.priority}),e.jsx(k,{variant:"outline",children:r.status.replace("_"," ")})]})]}),e.jsx("p",{"trae-inspector-start-line":"290","trae-inspector-start-column":"12","trae-inspector-end-line":"290","trae-inspector-end-column":"69","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm mb-4",children:r.issue_description}),e.jsxs("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"12","trae-inspector-end-line":"319","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("span",{"trae-inspector-start-line":"293","trae-inspector-start-column":"14","trae-inspector-end-line":"295","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["Criada ",ue(new Date(r.created_at),{addSuffix:!0,locale:ge})]}),e.jsxs("div",{"trae-inspector-start-line":"297","trae-inspector-start-column":"14","trae-inspector-end-line":"318","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\ServiceOrdersTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[r.status==="pendente"&&e.jsx(f,{size:"sm",onClick:()=>C(r.id,"em_andamento"),children:"Iniciar"}),r.status==="em_andamento"&&e.jsxs(e.Fragment,{children:[e.jsx(f,{size:"sm",variant:"outline",onClick:()=>C(r.id,"aguardando_pecas"),children:"Aguardar Peças"}),e.jsx(f,{size:"sm",onClick:()=>C(r.id,"concluida"),children:"Concluir"})]}),r.status==="aguardando_pecas"&&e.jsx(f,{size:"sm",onClick:()=>C(r.id,"em_andamento"),children:"Retomar"})]})]})]},r.id))})]})}function at(){const{user:d}=z(),[B,A]=m.useState([]),[N,_]=m.useState(!0),[u,g]=m.useState(!1),[x,w]=m.useState({vehicle_plate:"",tire_position:"",pressure_psi:"",temperature_celsius:"",tire_brand:"",tire_model:"",tread_depth_mm:"",notes:""}),L=["DE","DD","TED","TDD","TTD","TTE"],p=async()=>{try{const{data:c,error:o}=await D.from("tpms_readings").select("*").order("created_at",{ascending:!1}).limit(50);if(o)throw o;A(c||[])}catch(c){console.error("Erro ao buscar leituras:",c),v.error("Erro ao carregar leituras TPMS")}finally{_(!1)}};m.useEffect(()=>{p()},[]);const l=(c,o)=>c<80||o&&o<3?"vermelho":c<100||o&&o<5?"amarelo":"verde",s=async c=>{c.preventDefault();const o=parseFloat(x.pressure_psi),r=x.tread_depth_mm?parseFloat(x.tread_depth_mm):void 0;try{const{error:a}=await D.from("tpms_readings").insert({vehicle_plate:x.vehicle_plate,tire_position:x.tire_position,pressure_psi:o,temperature_celsius:x.temperature_celsius?parseFloat(x.temperature_celsius):null,tire_brand:x.tire_brand||null,tire_model:x.tire_model||null,tread_depth_mm:r||null,alert_level:l(o,r),notes:x.notes||null,recorded_by:d==null?void 0:d.id,last_calibration:new Date().toISOString()});if(a)throw a;v.success("Leitura TPMS registrada com sucesso"),g(!1),w({vehicle_plate:"",tire_position:"",pressure_psi:"",temperature_celsius:"",tire_brand:"",tire_model:"",tread_depth_mm:"",notes:""}),p()}catch(a){console.error("Erro ao criar leitura:",a),v.error("Erro ao registrar leitura")}},n=c=>{switch(c){case"vermelho":return"destructive";case"amarelo":return"secondary";default:return"outline"}},C=B.reduce((c,o)=>(c[o.vehicle_plate]||(c[o.vehicle_plate]=[]),c[o.vehicle_plate].push(o),c),{});return N?e.jsx("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"11","trae-inspector-end-line":"134","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22134%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22134%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"4","trae-inspector-end-line":"303","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"139","trae-inspector-start-column":"6","trae-inspector-end-line":"254","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"140","trae-inspector-start-column":"8","trae-inspector-end-line":"143","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"141","trae-inspector-start-column":"10","trae-inspector-end-line":"141","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Monitoramento%20TPMS%22%2C%22textStartLine%22%3A%22141%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22141%22%2C%22textEndColumn%22%3A%2263%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Monitoramento TPMS"}),e.jsx("p",{"trae-inspector-start-line":"142","trae-inspector-start-column":"10","trae-inspector-end-line":"142","trae-inspector-end-column":"109","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sistema%20de%20monitoramento%20de%20press%C3%A3o%20e%20temperatura%20de%20pneus%22%2C%22textStartLine%22%3A%22142%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22142%22%2C%22textEndColumn%22%3A%22105%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Sistema de monitoramento de pressão e temperatura de pneus"})]}),e.jsxs(G,{open:u,onOpenChange:g,children:[e.jsx(te,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Nova Leitura"]})}),e.jsxs(K,{className:"max-w-2xl",children:[e.jsx(H,{children:e.jsx(Q,{children:"Registrar Leitura TPMS"})}),e.jsxs("form",{"trae-inspector-start-line":"156","trae-inspector-start-column":"12","trae-inspector-end-line":"251","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:s,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"14","trae-inspector-end-line":"181","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"158","trae-inspector-start-column":"16","trae-inspector-end-line":"165","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{children:"Placa do Veículo"}),e.jsx(re,{value:x.vehicle_plate,onChange:c=>w({...x,vehicle_plate:c}),placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"16","trae-inspector-end-line":"180","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"tire_position",children:"Posição do Pneu"}),e.jsxs("select",{"trae-inspector-start-line":"168","trae-inspector-start-column":"18","trae-inspector-end-line":"179","trae-inspector-end-column":"27","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",id:"tire_position",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:x.tire_position,onChange:c=>w({...x,tire_position:c.target.value}),required:!0,children:[e.jsx("option",{"trae-inspector-start-line":"175","trae-inspector-start-column":"20","trae-inspector-end-line":"175","trae-inspector-end-column":"58","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Selecione...%22%2C%22textStartLine%22%3A%22175%22%2C%22textStartColumn%22%3A%2237%22%2C%22textEndLine%22%3A%22175%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",value:"",children:"Selecione..."}),L.map(c=>e.jsx("option",{"trae-inspector-start-line":"177","trae-inspector-start-column":"22","trae-inspector-end-line":"177","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",value:c,children:c},c))]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"183","trae-inspector-start-column":"14","trae-inspector-end-line":"215","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"184","trae-inspector-start-column":"16","trae-inspector-end-line":"194","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"pressure_psi",children:"Pressão (PSI)"}),e.jsx(T,{id:"pressure_psi",type:"number",step:"0.1",value:x.pressure_psi,onChange:c=>w({...x,pressure_psi:c.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"195","trae-inspector-start-column":"16","trae-inspector-end-line":"204","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"temperature_celsius",children:"Temperatura (°C)"}),e.jsx(T,{id:"temperature_celsius",type:"number",step:"0.1",value:x.temperature_celsius,onChange:c=>w({...x,temperature_celsius:c.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"205","trae-inspector-start-column":"16","trae-inspector-end-line":"214","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"tread_depth_mm",children:"Sulco (mm)"}),e.jsx(T,{id:"tread_depth_mm",type:"number",step:"0.1",value:x.tread_depth_mm,onChange:c=>w({...x,tread_depth_mm:c.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"14","trae-inspector-end-line":"234","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"218","trae-inspector-start-column":"16","trae-inspector-end-line":"225","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"tire_brand",children:"Marca do Pneu"}),e.jsx(T,{id:"tire_brand",value:x.tire_brand,onChange:c=>w({...x,tire_brand:c.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"226","trae-inspector-start-column":"16","trae-inspector-end-line":"233","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"tire_model",children:"Modelo"}),e.jsx(T,{id:"tire_model",value:x.tire_model,onChange:c=>w({...x,tire_model:c.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"236","trae-inspector-start-column":"14","trae-inspector-end-line":"243","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(j,{htmlFor:"notes",children:"Observações"}),e.jsx(T,{id:"notes",value:x.notes,onChange:c=>w({...x,notes:c.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"14","trae-inspector-end-line":"250","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),e.jsx(f,{type:"submit",children:"Registrar"})]})]})]})]})]}),e.jsx("div",{"trae-inspector-start-line":"256","trae-inspector-start-column":"6","trae-inspector-end-line":"302","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-6",children:Object.entries(C).map(([c,o])=>e.jsxs(y,{className:"p-6",children:[e.jsxs("h3",{"trae-inspector-start-line":"259","trae-inspector-start-column":"12","trae-inspector-end-line":"259","trae-inspector-end-column":"72","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold text-xl mb-4",children:["Veículo: ",c]}),e.jsx("div",{"trae-inspector-start-line":"261","trae-inspector-start-column":"12","trae-inspector-end-line":"299","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:o.slice(0,6).map(r=>e.jsxs("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"16","trae-inspector-end-line":"297","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"18","trae-inspector-end-line":"269","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx("span",{"trae-inspector-start-line":"265","trae-inspector-start-column":"20","trae-inspector-end-line":"265","trae-inspector-end-column":"82","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:r.tire_position}),e.jsx(k,{variant:n(r.alert_level),children:r.alert_level})]}),e.jsxs("div",{"trae-inspector-start-line":"271","trae-inspector-start-column":"18","trae-inspector-end-line":"290","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"272","trae-inspector-start-column":"20","trae-inspector-end-line":"275","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{"trae-inspector-start-line":"274","trae-inspector-start-column":"22","trae-inspector-end-line":"274","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[r.pressure_psi," PSI"]})]}),r.temperature_celsius&&e.jsxs("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"22","trae-inspector-end-line":"281","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(tt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{"trae-inspector-start-line":"280","trae-inspector-start-column":"24","trae-inspector-end-line":"280","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[r.temperature_celsius,"°C"]})]}),r.tread_depth_mm&&e.jsxs("div",{"trae-inspector-start-line":"285","trae-inspector-start-column":"22","trae-inspector-end-line":"288","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{"trae-inspector-start-line":"287","trae-inspector-start-column":"24","trae-inspector-end-line":"287","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[r.tread_depth_mm,"mm"]})]})]}),r.tire_brand&&e.jsxs("p",{"trae-inspector-start-line":"293","trae-inspector-start-column":"20","trae-inspector-end-line":"295","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TPMSTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground truncate",children:[r.tire_brand," ",r.tire_model]})]},r.id))})]},c))})]})}function it(){const[d,B]=m.useState([]),[A,N]=m.useState([]),[_,u]=m.useState(!0),[g,x]=m.useState(""),w=async()=>{try{const{data:s,error:n}=await D.from("workshop_inventory").select("*").order("part_name");if(n)throw n;B(s||[]),N(s||[])}catch(s){console.error("Erro ao buscar inventário:",s),v.error("Erro ao carregar inventário")}finally{u(!1)}};m.useEffect(()=>{w()},[]),m.useEffect(()=>{if(g){const s=d.filter(n=>n.part_name.toLowerCase().includes(g.toLowerCase())||n.part_code.toLowerCase().includes(g.toLowerCase())||n.category.toLowerCase().includes(g.toLowerCase()));N(s)}else N(d)},[g,d]);const L=d.filter(s=>s.quantity<=s.minimum_stock),p=d.reduce((s,n)=>s+n.quantity,0),l=d.reduce((s,n)=>s+n.quantity*(n.unit_price||0),0);return _?e.jsx("div",{"trae-inspector-start-line":"67","trae-inspector-start-column":"11","trae-inspector-end-line":"67","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%2267%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%2267%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"71","trae-inspector-start-column":"4","trae-inspector-end-line":"203","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"72","trae-inspector-start-column":"6","trae-inspector-end-line":"75","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"73","trae-inspector-start-column":"8","trae-inspector-end-line":"73","trae-inspector-end-column":"69","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Invent%C3%A1rio%20da%20Oficina%22%2C%22textStartLine%22%3A%2273%22%2C%22textStartColumn%22%3A%2243%22%2C%22textEndLine%22%3A%2273%22%2C%22textEndColumn%22%3A%2264%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Inventário da Oficina"}),e.jsx("p",{"trae-inspector-start-line":"74","trae-inspector-start-column":"8","trae-inspector-end-line":"74","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Controle%20de%20pe%C3%A7as%20e%20materiais%22%2C%22textStartLine%22%3A%2274%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%2274%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Controle de peças e materiais"})]}),e.jsxs("div",{"trae-inspector-start-line":"77","trae-inspector-start-column":"6","trae-inspector-end-line":"115","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(y,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"10","trae-inspector-end-line":"87","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"80","trae-inspector-start-column":"12","trae-inspector-end-line":"82","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-3 bg-primary/10 rounded-lg",children:e.jsx(ee,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"12","trae-inspector-end-line":"86","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"84","trae-inspector-start-column":"14","trae-inspector-end-line":"84","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Total%20de%20Itens%22%2C%22textStartLine%22%3A%2284%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%2284%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Total de Itens"}),e.jsx("p",{"trae-inspector-start-line":"85","trae-inspector-start-column":"14","trae-inspector-end-line":"85","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:p})]})]})}),e.jsx(y,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"10","trae-inspector-end-line":"99","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"92","trae-inspector-start-column":"12","trae-inspector-end-line":"94","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-3 bg-yellow-500/10 rounded-lg",children:e.jsx(se,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{"trae-inspector-start-line":"95","trae-inspector-start-column":"12","trae-inspector-end-line":"98","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"96","trae-inspector-start-column":"14","trae-inspector-end-line":"96","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Estoque%20Baixo%22%2C%22textStartLine%22%3A%2296%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%2296%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Estoque Baixo"}),e.jsx("p",{"trae-inspector-start-line":"97","trae-inspector-start-column":"14","trae-inspector-end-line":"97","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:L.length})]})]})}),e.jsx(y,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"103","trae-inspector-start-column":"10","trae-inspector-end-line":"113","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"12","trae-inspector-end-line":"106","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"p-3 bg-green-500/10 rounded-lg",children:e.jsx(ee,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"12","trae-inspector-end-line":"112","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"108","trae-inspector-start-column":"14","trae-inspector-end-line":"108","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Valor%20Total%22%2C%22textStartLine%22%3A%22108%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22108%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Valor Total"}),e.jsxs("p",{"trae-inspector-start-line":"109","trae-inspector-start-column":"14","trae-inspector-end-line":"111","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:["R$ ",l.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})]}),e.jsxs("div",{"trae-inspector-start-line":"117","trae-inspector-start-column":"6","trae-inspector-end-line":"125","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"relative",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(T,{placeholder:"Buscar por nome, código ou categoria...",value:g,onChange:s=>x(s.target.value),className:"pl-10"})]}),L.length>0&&e.jsxs(y,{className:"p-4 bg-yellow-50 border-yellow-200",children:[e.jsxs("div",{"trae-inspector-start-line":"129","trae-inspector-start-column":"10","trae-inspector-end-line":"132","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-2",children:[e.jsx(se,{className:"h-5 w-5 text-yellow-600"}),e.jsx("h3",{"trae-inspector-start-line":"131","trae-inspector-start-column":"12","trae-inspector-end-line":"131","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Itens%20com%20Estoque%20Baixo%22%2C%22textStartLine%22%3A%22131%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%22131%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold text-yellow-900",children:"Itens com Estoque Baixo"})]}),e.jsx("div",{"trae-inspector-start-line":"133","trae-inspector-start-column":"10","trae-inspector-end-line":"139","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:L.map(s=>e.jsxs("div",{"trae-inspector-start-line":"135","trae-inspector-start-column":"14","trae-inspector-end-line":"137","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-yellow-800",children:[s.part_name," - Estoque: ",s.quantity," (Mínimo: ",s.minimum_stock,")"]},s.id))})]}),e.jsx("div",{"trae-inspector-start-line":"143","trae-inspector-start-column":"6","trae-inspector-end-line":"193","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:A.map(s=>e.jsx(y,{className:"p-6",children:e.jsx("div",{"trae-inspector-start-line":"146","trae-inspector-start-column":"12","trae-inspector-end-line":"190","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between",children:e.jsxs("div",{"trae-inspector-start-line":"147","trae-inspector-start-column":"14","trae-inspector-end-line":"189","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"148","trae-inspector-start-column":"16","trae-inspector-end-line":"154","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{"trae-inspector-start-line":"149","trae-inspector-start-column":"18","trae-inspector-end-line":"149","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold text-lg",children:s.part_name}),e.jsx(k,{variant:"outline",children:s.category}),s.quantity<=s.minimum_stock&&e.jsx(k,{variant:"destructive",children:"Estoque Baixo"})]}),e.jsxs("div",{"trae-inspector-start-line":"156","trae-inspector-start-column":"16","trae-inspector-end-line":"182","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"18","trae-inspector-end-line":"160","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"158","trae-inspector-start-column":"20","trae-inspector-end-line":"158","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22C%C3%B3digo%22%2C%22textStartLine%22%3A%22158%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22158%22%2C%22textEndColumn%22%3A%2263%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Código"}),e.jsx("p",{"trae-inspector-start-line":"159","trae-inspector-start-column":"20","trae-inspector-end-line":"159","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:s.part_code})]}),e.jsxs("div",{"trae-inspector-start-line":"162","trae-inspector-start-column":"18","trae-inspector-end-line":"165","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"163","trae-inspector-start-column":"20","trae-inspector-end-line":"163","trae-inspector-end-column":"71","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Quantidade%22%2C%22textStartLine%22%3A%22163%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22163%22%2C%22textEndColumn%22%3A%2267%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Quantidade"}),e.jsxs("p",{"trae-inspector-start-line":"164","trae-inspector-start-column":"20","trae-inspector-end-line":"164","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:[s.quantity," unidades"]})]}),s.unit_price&&e.jsxs("div",{"trae-inspector-start-line":"168","trae-inspector-start-column":"20","trae-inspector-end-line":"173","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"169","trae-inspector-start-column":"22","trae-inspector-end-line":"169","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pre%C3%A7o%20Unit%C3%A1rio%22%2C%22textStartLine%22%3A%22169%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22169%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Preço Unitário"}),e.jsxs("p",{"trae-inspector-start-line":"170","trae-inspector-start-column":"22","trae-inspector-end-line":"172","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:["R$ ",s.unit_price.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),s.location&&e.jsxs("div",{"trae-inspector-start-line":"177","trae-inspector-start-column":"20","trae-inspector-end-line":"180","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"178","trae-inspector-start-column":"22","trae-inspector-end-line":"178","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Localiza%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22178%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22178%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Localização"}),e.jsx("p",{"trae-inspector-start-line":"179","trae-inspector-start-column":"22","trae-inspector-end-line":"179","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:s.location})]})]}),s.supplier&&e.jsxs("p",{"trae-inspector-start-line":"185","trae-inspector-start-column":"18","trae-inspector-end-line":"187","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mt-2",children:["Fornecedor: ",s.supplier]})]})})},s.id))}),A.length===0&&e.jsxs(y,{className:"p-12 text-center",children:[e.jsx(ee,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{"trae-inspector-start-line":"198","trae-inspector-start-column":"10","trae-inspector-end-line":"200","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\WorkshopTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:g?"Nenhum item encontrado com os critérios de busca":"Nenhum item no inventário"})]})]})}const st=[{name:"Nível de óleo do motor",checked:!1},{name:"Nível de líquido de arrefecimento",checked:!1},{name:"Nível de fluido de freio",checked:!1},{name:"Estado das correias",checked:!1},{name:"Pressão dos pneus",checked:!1},{name:"Estado dos pneus (desgaste)",checked:!1},{name:"Funcionamento das luzes",checked:!1},{name:"Estado das palhetas do limpador",checked:!1},{name:"Freios (pastilhas e discos)",checked:!1},{name:"Suspensão",checked:!1},{name:"Bateria",checked:!1},{name:"Filtro de ar",checked:!1}],nt=[{name:"Identificação do problema",checked:!1},{name:"Testes diagnósticos realizados",checked:!1},{name:"Peças substituídas documentadas",checked:!1},{name:"Sistema testado após reparo",checked:!1},{name:"Verificação de problemas relacionados",checked:!1},{name:"Limpeza da área de trabalho",checked:!1}];function ct(){const{user:d}=z(),[B,A]=m.useState([]),[N,_]=m.useState(!0),[u,g]=m.useState(null),[x,w]=m.useState(!1),[L,p]=m.useState("preventiva"),[l,s]=m.useState(""),{vehicles:n}=oe(),C=t=>t.map((h,U)=>({id:globalThis.crypto&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`item-${U}-${Date.now()}`,name:h.name,checked:!1})),c=async()=>{try{const{data:t,error:h}=await D.from("maintenance_checklists").select("*").order("created_at",{ascending:!1});if(h)throw h;A(t||[])}catch(t){console.error("Erro ao buscar checklists:",t),v.error("Erro ao carregar checklists")}finally{_(!1)}};m.useEffect(()=>{c()},[]);const o=async()=>{if(!l){v.error("Informe a placa do veículo");return}const h=C(L==="preventiva"?st:nt);try{const{data:U,error:i}=await D.from("maintenance_checklists").insert({vehicle_plate:l.toUpperCase(),checklist_type:L,items:h,mechanic_id:d==null?void 0:d.id,status:"em_andamento"}).select().single();if(i)throw i;v.success("Checklist criado com sucesso"),g(U),w(!1),s(""),c()}catch(U){console.error("Erro ao criar checklist:",U),v.error("Erro ao criar checklist")}},r=async(t,h,U)=>{const i=B.find(E=>E.id===t);if(!i)return;const b=i.items.map(E=>E.id===h?{...E,checked:U}:E);try{const{error:E}=await D.from("maintenance_checklists").update({items:b}).eq("id",t);if(E)throw E;A(Le=>Le.map(le=>le.id===t?{...le,items:b}:le)),(u==null?void 0:u.id)===t&&g({...u,items:b})}catch(E){console.error("Erro ao atualizar item:",E),v.error("Erro ao atualizar item")}},a=async t=>{try{const{error:h}=await D.from("maintenance_checklists").update({status:"concluida",completed_at:new Date().toISOString()}).eq("id",t);if(h)throw h;v.success("Checklist concluído"),g(null),c()}catch(h){console.error("Erro ao concluir checklist:",h),v.error("Erro ao concluir checklist")}};return N?e.jsx("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"11","trae-inspector-end-line":"187","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22187%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22187%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"191","trae-inspector-start-column":"4","trae-inspector-end-line":"338","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"192","trae-inspector-start-column":"6","trae-inspector-end-line":"208","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"8","trae-inspector-end-line":"196","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"194","trae-inspector-start-column":"10","trae-inspector-end-line":"194","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Checklists%20de%20Manuten%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22194%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22194%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Checklists de Manutenção"}),e.jsx("p",{"trae-inspector-start-line":"195","trae-inspector-start-column":"10","trae-inspector-end-line":"195","trae-inspector-end-column":"95","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gest%C3%A3o%20de%20inspe%C3%A7%C3%B5es%20preventivas%20e%20corretivas%22%2C%22textStartLine%22%3A%22195%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22195%22%2C%22textEndColumn%22%3A%2291%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Gestão de inspeções preventivas e corretivas"})]}),e.jsxs("div",{"trae-inspector-start-line":"198","trae-inspector-start-column":"8","trae-inspector-end-line":"207","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs(f,{onClick:()=>{p("preventiva"),w(!0)},children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Manutenção Preventiva"]}),e.jsxs(f,{variant:"outline",onClick:()=>{p("corretiva"),w(!0)},children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Manutenção Corretiva"]})]})]}),e.jsx(G,{open:x,onOpenChange:w,children:e.jsxs(K,{children:[e.jsxs(H,{children:[e.jsx(Q,{children:"Novo Checklist de Manutenção"}),e.jsx(ke,{children:"Informe a placa do veículo e confirme a criação."})]}),e.jsxs("div",{"trae-inspector-start-line":"218","trae-inspector-start-column":"10","trae-inspector-end-line":"240","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4 py-2",children:[e.jsxs("div",{"trae-inspector-start-line":"219","trae-inspector-start-column":"12","trae-inspector-end-line":"233","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-2",children:[e.jsx(j,{htmlFor:"vehicle_plate",children:"Placa do veículo"}),e.jsxs(I,{value:l,onValueChange:t=>s(t),children:[e.jsx(O,{children:e.jsx(q,{placeholder:"Selecione a placa"})}),e.jsx(R,{children:n.map(t=>e.jsxs(S,{value:t.plate,children:[t.plate," - ",t.model]},t.plate))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"234","trae-inspector-start-column":"12","trae-inspector-end-line":"239","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-2",children:[e.jsx(j,{children:"Tipo"}),e.jsx("div",{"trae-inspector-start-line":"236","trae-inspector-start-column":"14","trae-inspector-end-line":"238","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:L==="preventiva"?"Manutenção Preventiva":"Manutenção Corretiva"})]})]}),e.jsxs(Ee,{children:[e.jsx(f,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsx(f,{onClick:o,children:"Criar Checklist"})]})]})}),u&&e.jsxs(y,{className:"p-6 border-2 border-primary",children:[e.jsxs("div",{"trae-inspector-start-line":"250","trae-inspector-start-column":"10","trae-inspector-end-line":"262","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{"trae-inspector-start-line":"251","trae-inspector-start-column":"12","trae-inspector-end-line":"258","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h3",{"trae-inspector-start-line":"252","trae-inspector-start-column":"14","trae-inspector-end-line":"254","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xl font-bold",children:["Checklist Ativo - ",u.vehicle_plate]}),e.jsx(k,{variant:"secondary",className:"mt-2",children:u.checklist_type})]}),e.jsx(f,{onClick:()=>a(u.id),children:"Concluir Checklist"})]}),e.jsx("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"10","trae-inspector-end-line":"278","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:u.items.map(t=>e.jsxs("div",{"trae-inspector-start-line":"266","trae-inspector-start-column":"14","trae-inspector-end-line":"276","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center space-x-3 p-3 bg-muted/50 rounded-lg",children:[e.jsx(Oe,{checked:t.checked,onCheckedChange:h=>r(u.id,t.id,h)}),e.jsx("span",{"trae-inspector-start-line":"273","trae-inspector-start-column":"16","trae-inspector-end-line":"275","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:t.checked?"line-through text-muted-foreground":"",children:t.name})]},t.id))}),e.jsx("div",{"trae-inspector-start-line":"280","trae-inspector-start-column":"10","trae-inspector-end-line":"284","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-4 pt-4 border-t",children:e.jsxs("p",{"trae-inspector-start-line":"281","trae-inspector-start-column":"12","trae-inspector-end-line":"283","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:["Progresso: ",u.items.filter(t=>t.checked).length," / ",u.items.length," itens concluídos"]})})]}),e.jsx("div",{"trae-inspector-start-line":"288","trae-inspector-start-column":"6","trae-inspector-end-line":"313","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:B.filter(t=>t.status==="em_andamento"&&t.id!==(u==null?void 0:u.id)).map(t=>e.jsx(y,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"291","trae-inspector-start-column":"12","trae-inspector-end-line":"310","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"14","trae-inspector-end-line":"300","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsx(de,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{"trae-inspector-start-line":"294","trae-inspector-start-column":"16","trae-inspector-end-line":"299","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h3",{"trae-inspector-start-line":"295","trae-inspector-start-column":"18","trae-inspector-end-line":"295","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold",children:["Veículo: ",t.vehicle_plate]}),e.jsx(k,{variant:"outline",className:"mt-1",children:t.checklist_type})]})]}),e.jsxs("div",{"trae-inspector-start-line":"302","trae-inspector-start-column":"14","trae-inspector-end-line":"309","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex flex-col items-end gap-2",children:[e.jsxs("p",{"trae-inspector-start-line":"303","trae-inspector-start-column":"16","trae-inspector-end-line":"305","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[t.items.filter(h=>h.checked).length," / ",t.items.length," concluídos"]}),e.jsx(f,{size:"sm",onClick:()=>g(t),children:"Continuar"})]})]})},t.id))}),B.filter(t=>t.status==="concluida").length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{"trae-inspector-start-line":"317","trae-inspector-start-column":"10","trae-inspector-end-line":"317","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Checklists%20Conclu%C3%ADdos%22%2C%22textStartLine%22%3A%22317%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22317%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mt-8",children:"Checklists Concluídos"}),e.jsx("div",{"trae-inspector-start-line":"318","trae-inspector-start-column":"10","trae-inspector-end-line":"335","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:B.filter(t=>t.status==="concluida").map(t=>e.jsx(y,{className:"p-6 opacity-70",children:e.jsxs("div",{"trae-inspector-start-line":"321","trae-inspector-start-column":"16","trae-inspector-end-line":"332","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsx(de,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{"trae-inspector-start-line":"323","trae-inspector-start-column":"18","trae-inspector-end-line":"331","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h3",{"trae-inspector-start-line":"324","trae-inspector-start-column":"20","trae-inspector-end-line":"324","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-bold",children:["Veículo: ",t.vehicle_plate]}),e.jsxs("div",{"trae-inspector-start-line":"325","trae-inspector-start-column":"20","trae-inspector-end-line":"330","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceChecklistTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 mt-1",children:[e.jsx(k,{variant:"outline",children:t.checklist_type}),e.jsx(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Concluído"})]})]})]})},t.id))})]})]})}const pe=[{value:"simples",label:"Simples",color:"bg-blue-500"},{value:"completa",label:"Completa",color:"bg-purple-500"},{value:"interna",label:"Interna",color:"bg-green-500"},{value:"externa",label:"Externa",color:"bg-yellow-500"},{value:"pesado",label:"Pesado",color:"bg-orange-500"},{value:"especial",label:"Especial",color:"bg-red-500"}];function ot(){const{user:d}=z(),{vehicles:B}=oe(),[A,N]=m.useState([]),[_,u]=m.useState(!0),[g,x]=m.useState(!1),[w,L]=m.useState(null),[p,l]=m.useState({vehicle_plate:"",tipo_lavagem:"simples",km:"",observacoes:"",valor:"",data_agendada:""}),s=async()=>{try{const{data:a,error:t}=await D.from("lavagens").select("*").order("created_at",{ascending:!1});if(t)throw t;N(a||[])}catch(a){console.error("Erro ao buscar lavagens:",a),v.error("Erro ao carregar lavagens")}finally{u(!1)}};m.useEffect(()=>{s();const a=D.channel("lavagens_changes").on("postgres_changes",{event:"*",schema:"public",table:"lavagens"},()=>{s()}).subscribe();return()=>{D.removeChannel(a)}},[]);const n=async a=>{a.preventDefault();try{const{error:t}=await D.from("lavagens").insert({...p,km:parseInt(p.km),valor:p.valor?parseFloat(p.valor):null,responsavel_id:d==null?void 0:d.id});if(t)throw t;v.success("Ordem de lavagem criada com sucesso"),x(!1),l({vehicle_plate:"",tipo_lavagem:"simples",km:"",observacoes:"",valor:"",data_agendada:""})}catch(t){console.error("Erro ao criar lavagem:",t),v.error("Erro ao criar ordem de lavagem")}},C=async(a,t)=>{try{const h={status:t};t==="em_andamento"&&(h.data_inicio=new Date().toISOString()),t==="concluida"&&(h.data_conclusao=new Date().toISOString());const{error:U}=await D.from("lavagens").update(h).eq("id",a);if(U)throw U;v.success("Status atualizado com sucesso")}catch(h){console.error("Erro ao atualizar status:",h),v.error("Erro ao atualizar status")}},c=a=>({agendada:"default",em_andamento:"secondary",concluida:"default",cancelada:"destructive"})[a]||"default",o=a=>a==="concluida"?Z:a==="em_andamento"?ae:X,r=a=>{var t;return((t=pe.find(h=>h.value===a))==null?void 0:t.color)||"bg-gray-500"};return _?e.jsx("div",{"trae-inspector-start-line":"171","trae-inspector-start-column":"11","trae-inspector-end-line":"171","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22171%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22171%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"175","trae-inspector-start-column":"4","trae-inspector-end-line":"363","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"176","trae-inspector-start-column":"6","trae-inspector-end-line":"284","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"177","trae-inspector-start-column":"8","trae-inspector-end-line":"180","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"178","trae-inspector-start-column":"10","trae-inspector-end-line":"178","trae-inspector-end-column":"59","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Lava-Jato%22%2C%22textStartLine%22%3A%22178%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22178%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Lava-Jato"}),e.jsx("p",{"trae-inspector-start-line":"179","trae-inspector-start-column":"10","trae-inspector-end-line":"179","trae-inspector-end-column":"87","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gerenciar%20ordens%20de%20lavagem%20da%20frota%22%2C%22textStartLine%22%3A%22179%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22179%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Gerenciar ordens de lavagem da frota"})]}),e.jsxs(G,{open:g,onOpenChange:x,children:[e.jsx(te,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Nova Lavagem"]})}),e.jsxs(K,{className:"max-w-2xl",children:[e.jsx(H,{children:e.jsx(Q,{children:"Nova Ordem de Lavagem"})}),e.jsxs("form",{"trae-inspector-start-line":"192","trae-inspector-start-column":"12","trae-inspector-end-line":"281","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"193","trae-inspector-start-column":"14","trae-inspector-end-line":"228","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"16","trae-inspector-end-line":"209","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"vehicle_plate",children:"Placa do Veículo *"}),e.jsx(re,{required:!0,value:p.vehicle_plate,onChange:a=>{const t=B.find(h=>h.plate===a);l({...p,vehicle_plate:a,km:t!=null&&t.mileage?String(t.mileage):p.km})},placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"210","trae-inspector-start-column":"16","trae-inspector-end-line":"227","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"tipo_lavagem",children:"Tipo de Lavagem"}),e.jsxs(I,{value:p.tipo_lavagem,onValueChange:a=>l({...p,tipo_lavagem:a}),children:[e.jsx(O,{children:e.jsx(q,{})}),e.jsx(R,{children:pe.map(a=>e.jsx(S,{value:a.value,children:a.label},a.value))})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"230","trae-inspector-start-column":"14","trae-inspector-end-line":"262","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"231","trae-inspector-start-column":"16","trae-inspector-end-line":"241","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"km",children:"Kilometragem"}),e.jsx(T,{id:"km",type:"number",value:p.km,onChange:a=>l({...p,km:a.target.value}),placeholder:"120000",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"242","trae-inspector-start-column":"16","trae-inspector-end-line":"252","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"valor",children:"Valor (R$)"}),e.jsx(T,{id:"valor",type:"number",step:"0.01",value:p.valor,onChange:a=>l({...p,valor:a.target.value}),placeholder:"150.00"})]}),e.jsxs("div",{"trae-inspector-start-line":"253","trae-inspector-start-column":"16","trae-inspector-end-line":"261","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"data_agendada",children:"Data Agendada"}),e.jsx(T,{id:"data_agendada",type:"datetime-local",value:p.data_agendada,onChange:a=>l({...p,data_agendada:a.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"14","trae-inspector-end-line":"273","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"observacoes",children:"Observações"}),e.jsx(ce,{id:"observacoes",value:p.observacoes,onChange:a=>l({...p,observacoes:a.target.value}),placeholder:"Observações adicionais...",rows:3})]}),e.jsxs("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"14","trae-inspector-end-line":"280","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),e.jsx(f,{type:"submit",children:"Criar Ordem"})]})]})]})]})]}),e.jsx("div",{"trae-inspector-start-line":"286","trae-inspector-start-column":"6","trae-inspector-end-line":"362","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:A.length===0?e.jsxs(y,{className:"p-8 text-center",children:[e.jsx(ae,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{"trae-inspector-start-line":"290","trae-inspector-start-column":"12","trae-inspector-end-line":"290","trae-inspector-end-column":"86","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20lavagem%20registrada%22%2C%22textStartLine%22%3A%22290%22%2C%22textStartColumn%22%3A%2255%22%2C%22textEndLine%22%3A%22290%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mb-2",children:"Nenhuma lavagem registrada"}),e.jsx("p",{"trae-inspector-start-line":"291","trae-inspector-start-column":"12","trae-inspector-end-line":"291","trae-inspector-end-column":"99","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Crie%20a%20primeira%20ordem%20de%20lavagem%20para%20come%C3%A7ar.%22%2C%22textStartLine%22%3A%22291%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22291%22%2C%22textEndColumn%22%3A%2295%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Crie a primeira ordem de lavagem para começar."})]}):A.map(a=>{var h;const t=o(a.status);return e.jsxs(y,{className:"p-6",children:[e.jsxs("div",{"trae-inspector-start-line":"298","trae-inspector-start-column":"16","trae-inspector-end-line":"314","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{"trae-inspector-start-line":"299","trae-inspector-start-column":"18","trae-inspector-end-line":"309","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"300","trae-inspector-start-column":"20","trae-inspector-end-line":"302","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`w-12 h-12 rounded-full ${r(a.tipo_lavagem)} flex items-center justify-center`,children:e.jsx(ae,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{"trae-inspector-start-line":"303","trae-inspector-start-column":"20","trae-inspector-end-line":"308","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h3",{"trae-inspector-start-line":"304","trae-inspector-start-column":"22","trae-inspector-end-line":"304","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xl font-bold",children:a.vehicle_plate}),e.jsxs("p",{"trae-inspector-start-line":"305","trae-inspector-start-column":"22","trae-inspector-end-line":"307","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[(h=pe.find(U=>U.value===a.tipo_lavagem))==null?void 0:h.label," • ",a.km.toLocaleString()," km"]})]})]}),e.jsxs(k,{variant:c(a.status),children:[e.jsx(t,{className:"mr-1 h-3 w-3"}),a.status.replace("_"," ")]})]}),a.observacoes&&e.jsx("p",{"trae-inspector-start-line":"317","trae-inspector-start-column":"18","trae-inspector-end-line":"317","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mb-4",children:a.observacoes}),e.jsxs("div",{"trae-inspector-start-line":"320","trae-inspector-start-column":"16","trae-inspector-end-line":"327","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{"trae-inspector-start-line":"321","trae-inspector-start-column":"18","trae-inspector-end-line":"323","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:["Criado ",ue(new Date(a.created_at),{addSuffix:!0,locale:ge})]}),a.valor&&e.jsxs("span",{"trae-inspector-start-line":"325","trae-inspector-start-column":"20","trae-inspector-end-line":"325","trae-inspector-end-column":"88","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:["R$ ",a.valor.toFixed(2)]})]}),e.jsxs("div",{"trae-inspector-start-line":"329","trae-inspector-start-column":"16","trae-inspector-end-line":"357","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\LavaJatoTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2 mt-4",children:[a.status==="agendada"&&e.jsx(f,{variant:"outline",size:"sm",onClick:()=>C(a.id,"em_andamento"),children:"Iniciar"}),a.status==="em_andamento"&&e.jsx(f,{variant:"outline",size:"sm",onClick:()=>C(a.id,"concluida"),children:"Concluir"}),a.status!=="cancelada"&&a.status!=="concluida"&&e.jsx(f,{variant:"destructive",size:"sm",onClick:()=>C(a.id,"cancelada"),children:"Cancelar"})]})]},a.id)})})]})}const lt=[{name:"Eixo Dianteiro",positions:["dianteiro_esquerdo","dianteiro_direito"]},{name:"Eixo Traseiro 1",positions:["traseiro_esquerdo_externo","traseiro_esquerdo_interno","traseiro_direito_externo","traseiro_direito_interno"]}];function Ct(){const[d,B]=m.useState(""),[A,N]=m.useState([]),[_,u]=m.useState(null),g=m.useMemo(()=>A.filter(l=>l.vehicle_plate===d),[A,d]),x=m.useMemo(()=>A.filter(l=>!l.vehicle_plate&&l.status==="estoque"),[A]),w=async()=>{const{data:l,error:s}=await D.from("pneus").select("id,codigo,marca,modelo,medida,status,vehicle_plate,posicao");if(s){console.error(s),v.error("Falha ao carregar pneus");return}N(l||[])};m.useEffect(()=>{w()},[]);const L=async l=>{if(!(!_||!d))try{const{error:s}=await D.from("pneus").update({status:"em_uso",vehicle_plate:d,posicao:l}).eq("id",_.id);if(s)throw s;v.success(`Pneu ${_.codigo} instalado em ${l}`),u(null),w()}catch(s){console.error(s),v.error("Não foi possível instalar o pneu")}},p=async l=>{try{const{error:s}=await D.from("pneus").update({status:"estoque",vehicle_plate:null,posicao:null}).eq("id",l.id);if(s)throw s;v.success(`Pneu ${l.codigo} removido`),w()}catch(s){console.error(s),v.error("Falha ao remover pneu")}};return e.jsxs("div",{"trae-inspector-start-line":"73","trae-inspector-start-column":"4","trae-inspector-end-line":"152","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"74","trae-inspector-start-column":"6","trae-inspector-end-line":"88","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsxs(I,{value:d,onValueChange:B,children:[e.jsx(O,{className:"w-64",children:e.jsx(q,{placeholder:"Selecione a placa"})}),e.jsx(R,{children:[...new Set(A.filter(l=>l.vehicle_plate).map(l=>l.vehicle_plate))].filter(Boolean).map(l=>e.jsx(S,{value:l,children:l},l))})]}),e.jsx(f,{variant:"modern",onClick:w,children:"Atualizar"})]}),e.jsx(y,{className:"p-4",children:e.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"8","trae-inspector-end-line":"150","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{"trae-inspector-start-line":"92","trae-inspector-start-column":"10","trae-inspector-end-line":"113","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:[e.jsx("h3",{"trae-inspector-start-line":"93","trae-inspector-start-column":"12","trae-inspector-end-line":"93","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Estoque%22%2C%22textStartLine%22%3A%2293%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%2293%22%2C%22textEndColumn%22%3A%2257%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:"Estoque"}),e.jsx("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"12","trae-inspector-end-line":"112","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-2",children:x.map(l=>e.jsx("div",{"trae-inspector-start-line":"96","trae-inspector-start-column":"16","trae-inspector-end-line":"110","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",draggable:!0,onDragStart:()=>u(l),className:"p-2 rounded-md border cursor-grab bg-background hover:bg-accent",title:`${l.codigo} • ${l.marca} ${l.modelo}`,children:e.jsxs("div",{"trae-inspector-start-line":"103","trae-inspector-start-column":"18","trae-inspector-end-line":"109","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"20","trae-inspector-end-line":"104","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-6 h-6 rounded-full bg-primary/20 border border-primary"}),e.jsxs("div",{"trae-inspector-start-line":"105","trae-inspector-start-column":"20","trae-inspector-end-line":"108","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs",children:[e.jsx("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"22","trae-inspector-end-line":"106","trae-inspector-end-column":"69","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:l.codigo}),e.jsx("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"22","trae-inspector-end-line":"107","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:l.medida})]})]})},l.id))})]}),e.jsxs("div",{"trae-inspector-start-line":"115","trae-inspector-start-column":"10","trae-inspector-end-line":"149","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"md:col-span-2 space-y-6",children:[e.jsx("h3",{"trae-inspector-start-line":"116","trae-inspector-start-column":"12","trae-inspector-end-line":"116","trae-inspector-end-column":"70","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Mapa%20do%20Ve%C3%ADculo%22%2C%22textStartLine%22%3A%22116%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%22116%22%2C%22textEndColumn%22%3A%2265%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-semibold",children:"Mapa do Veículo"}),lt.map(l=>e.jsxs("div",{"trae-inspector-start-line":"118","trae-inspector-start-column":"14","trae-inspector-end-line":"147","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("div",{"trae-inspector-start-line":"119","trae-inspector-start-column":"16","trae-inspector-end-line":"119","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:l.name}),e.jsx("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"16","trae-inspector-end-line":"146","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:l.positions.map(s=>{const n=g.find(C=>C.posicao===s);return e.jsx("div",{"trae-inspector-start-line":"124","trae-inspector-start-column":"22","trae-inspector-end-line":"143","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onDragOver:C=>C.preventDefault(),onDrop:()=>L(s),className:"relative h-20 rounded-md border bg-muted/20 flex items-center justify-center",title:s.replace(/_/g," "),children:n?e.jsxs("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"26","trae-inspector-end-line":"141","trae-inspector-end-column":"32","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx("div",{"trae-inspector-start-line":"135","trae-inspector-start-column":"28","trae-inspector-end-line":"135","trae-inspector-end-column":"104","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-6 h-6 rounded-full bg-primary/20 border border-primary"}),e.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"28","trae-inspector-end-line":"139","trae-inspector-end-column":"34","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs",children:[e.jsx("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"30","trae-inspector-end-line":"137","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:n.codigo}),e.jsx("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"30","trae-inspector-end-line":"138","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:n.medida})]}),e.jsx(f,{size:"sm",variant:"outline",onClick:()=>p(n),children:"Remover"})]}):e.jsx("div",{"trae-inspector-start-line":"132","trae-inspector-start-column":"26","trae-inspector-end-line":"132","trae-inspector-end-column":"90","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\TirePlanner.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Soltar%20aqui%22%2C%22textStartLine%22%3A%22132%22%2C%22textStartColumn%22%3A%2273%22%2C%22textEndLine%22%3A%22132%22%2C%22textEndColumn%22%3A%2284%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:"Soltar aqui"})},s)})})]},l.name))]})]})})]})}const pt=[{value:"dianteiro_esquerdo",label:"Dianteiro Esquerdo"},{value:"dianteiro_direito",label:"Dianteiro Direito"},{value:"traseiro_esquerdo_externo",label:"Traseiro Esq. Externo"},{value:"traseiro_esquerdo_interno",label:"Traseiro Esq. Interno"},{value:"traseiro_direito_externo",label:"Traseiro Dir. Externo"},{value:"traseiro_direito_interno",label:"Traseiro Dir. Interno"},{value:"step",label:"Step"},{value:"estepe",label:"Estepe"}];function mt(){const{user:d}=z(),[B,A]=m.useState([]),[N,_]=m.useState([]),[u,g]=m.useState(!0),[x,w]=m.useState(!1),[L,p]=m.useState(!1),{vehicles:l}=oe(),[s,n]=m.useState({codigo:"",marca:"",modelo:"",medida:"",tipo:"novo",pressao_recomendada:"",fornecedor:"",valor_compra:""}),[C,c]=m.useState({pneu_id:"",tipo_movimentacao:"instalacao",vehicle_plate_destino:"",posicao_destino:"",km_veiculo:"",motivo:"",observacoes:""}),o=async()=>{try{const{data:i,error:b}=await D.from("pneus").select("*").order("created_at",{ascending:!1});if(b)throw b;A(i||[])}catch(i){console.error("Erro ao buscar pneus:",i),v.error("Erro ao carregar pneus")}finally{g(!1)}},r=async()=>{try{const{data:i,error:b}=await D.from("movimentacao_pneus").select("*").order("created_at",{ascending:!1}).limit(50);if(b)throw b;_(i||[])}catch(i){console.error("Erro ao buscar movimentações:",i)}};m.useEffect(()=>{o(),r();const i=D.channel("pneus_changes").on("postgres_changes",{event:"*",schema:"public",table:"pneus"},()=>{o()}).subscribe(),b=D.channel("movimentacao_changes").on("postgres_changes",{event:"*",schema:"public",table:"movimentacao_pneus"},()=>{r()}).subscribe();return()=>{D.removeChannel(i),D.removeChannel(b)}},[]);const a=async i=>{i.preventDefault();try{const{error:b}=await D.from("pneus").insert({...s,pressao_recomendada:s.pressao_recomendada?parseFloat(s.pressao_recomendada):null,valor_compra:s.valor_compra?parseFloat(s.valor_compra):null,data_compra:new Date().toISOString()});if(b)throw b;v.success("Pneu cadastrado com sucesso"),w(!1),n({codigo:"",marca:"",modelo:"",medida:"",tipo:"novo",pressao_recomendada:"",fornecedor:"",valor_compra:""})}catch(b){console.error("Erro ao cadastrar pneu:",b),v.error("Erro ao cadastrar pneu")}},t=async i=>{i.preventDefault();try{const{error:b}=await D.from("movimentacao_pneus").insert({...C,km_veiculo:C.km_veiculo?parseInt(C.km_veiculo):null,responsavel_id:d==null?void 0:d.id});if(b)throw b;C.tipo_movimentacao==="instalacao"&&await D.from("pneus").update({status:"em_uso",vehicle_plate:C.vehicle_plate_destino,posicao:C.posicao_destino,km_instalacao:parseInt(C.km_veiculo)}).eq("id",C.pneu_id),v.success("Movimentação registrada com sucesso"),p(!1),c({pneu_id:"",tipo_movimentacao:"instalacao",vehicle_plate_destino:"",posicao_destino:"",km_veiculo:"",motivo:"",observacoes:""})}catch(b){console.error("Erro ao registrar movimentação:",b),v.error("Erro ao registrar movimentação")}},h=i=>({estoque:"default",em_uso:"secondary",manutencao:"secondary",descarte:"destructive",recapagem:"default"})[i]||"default",U=i=>{const b=B.find(E=>E.id===i);return b?`${b.codigo} - ${b.marca}`:"Desconhecido"};return u?e.jsx("div",{"trae-inspector-start-line":"239","trae-inspector-start-column":"11","trae-inspector-end-line":"239","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22239%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22239%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando..."}):e.jsxs("div",{"trae-inspector-start-line":"243","trae-inspector-start-column":"4","trae-inspector-end-line":"624","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"244","trae-inspector-start-column":"6","trae-inspector-end-line":"498","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-center",children:[e.jsxs("div",{"trae-inspector-start-line":"245","trae-inspector-start-column":"8","trae-inspector-end-line":"248","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"246","trae-inspector-start-column":"10","trae-inspector-end-line":"246","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Borracharia%22%2C%22textStartLine%22%3A%22246%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22246%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Borracharia"}),e.jsx("p",{"trae-inspector-start-line":"247","trae-inspector-start-column":"10","trae-inspector-end-line":"247","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gest%C3%A3o%20completa%20de%20pneus%20da%20frota%22%2C%22textStartLine%22%3A%22247%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22247%22%2C%22textEndColumn%22%3A%2280%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Gestão completa de pneus da frota"})]}),e.jsxs("div",{"trae-inspector-start-line":"249","trae-inspector-start-column":"8","trae-inspector-end-line":"497","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsxs(G,{open:x,onOpenChange:w,children:[e.jsx(te,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Novo Pneu"]})}),e.jsxs(K,{className:"max-w-2xl",children:[e.jsx(H,{children:e.jsx(Q,{children:"Cadastrar Novo Pneu"})}),e.jsxs("form",{"trae-inspector-start-line":"261","trae-inspector-start-column":"14","trae-inspector-end-line":"364","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"262","trae-inspector-start-column":"16","trae-inspector-end-line":"289","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"18","trae-inspector-end-line":"272","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"codigo",children:"Código/Número"}),e.jsx(T,{id:"codigo",value:s.codigo,onChange:i=>n({...s,codigo:i.target.value}),placeholder:"PN-001",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"273","trae-inspector-start-column":"18","trae-inspector-end-line":"288","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"tipo",children:"Tipo"}),e.jsxs(I,{value:s.tipo,onValueChange:i=>n({...s,tipo:i}),children:[e.jsx(O,{children:e.jsx(q,{})}),e.jsxs(R,{children:[e.jsx(S,{value:"novo",children:"Novo"}),e.jsx(S,{value:"recapado",children:"Recapado"}),e.jsx(S,{value:"usado",children:"Usado"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"291","trae-inspector-start-column":"16","trae-inspector-end-line":"322","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"292","trae-inspector-start-column":"18","trae-inspector-end-line":"301","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"marca",children:"Marca"}),e.jsx(T,{id:"marca",value:s.marca,onChange:i=>n({...s,marca:i.target.value}),placeholder:"Pirelli",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"302","trae-inspector-start-column":"18","trae-inspector-end-line":"311","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"modelo",children:"Modelo"}),e.jsx(T,{id:"modelo",value:s.modelo,onChange:i=>n({...s,modelo:i.target.value}),placeholder:"FH01",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"312","trae-inspector-start-column":"18","trae-inspector-end-line":"321","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"medida",children:"Medida"}),e.jsx(T,{id:"medida",value:s.medida,onChange:i=>n({...s,medida:i.target.value}),placeholder:"295/80R22.5",required:!0})]})]}),e.jsxs("div",{"trae-inspector-start-line":"324","trae-inspector-start-column":"16","trae-inspector-end-line":"356","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"325","trae-inspector-start-column":"18","trae-inspector-end-line":"335","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"pressao_recomendada",children:"Pressão (PSI)"}),e.jsx(T,{id:"pressao_recomendada",type:"number",step:"0.1",value:s.pressao_recomendada,onChange:i=>n({...s,pressao_recomendada:i.target.value}),placeholder:"120"})]}),e.jsxs("div",{"trae-inspector-start-line":"336","trae-inspector-start-column":"18","trae-inspector-end-line":"344","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"fornecedor",children:"Fornecedor"}),e.jsx(T,{id:"fornecedor",value:s.fornecedor,onChange:i=>n({...s,fornecedor:i.target.value}),placeholder:"Loja ABC"})]}),e.jsxs("div",{"trae-inspector-start-line":"345","trae-inspector-start-column":"18","trae-inspector-end-line":"355","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"valor_compra",children:"Valor (R$)"}),e.jsx(T,{id:"valor_compra",type:"number",step:"0.01",value:s.valor_compra,onChange:i=>n({...s,valor_compra:i.target.value}),placeholder:"1500.00"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"358","trae-inspector-start-column":"16","trae-inspector-end-line":"363","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),e.jsx(f,{type:"submit",children:"Cadastrar"})]})]})]})]}),e.jsxs(G,{open:L,onOpenChange:p,children:[e.jsx(te,{asChild:!0,children:e.jsxs(f,{variant:"outline",children:[e.jsx(Ce,{className:"mr-2 h-4 w-4"}),"Movimentar"]})}),e.jsxs(K,{className:"max-w-2xl",children:[e.jsx(H,{children:e.jsx(Q,{children:"Registrar Movimentação de Pneu"})}),e.jsxs("form",{"trae-inspector-start-line":"379","trae-inspector-start-column":"14","trae-inspector-end-line":"494","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:t,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"380","trae-inspector-start-column":"16","trae-inspector-end-line":"418","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"381","trae-inspector-start-column":"18","trae-inspector-end-line":"398","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"pneu_id",children:"Pneu"}),e.jsxs(I,{value:C.pneu_id,onValueChange:i=>c({...C,pneu_id:i}),children:[e.jsx(O,{children:e.jsx(q,{placeholder:"Selecione um pneu"})}),e.jsx(R,{children:B.filter(i=>i.status==="estoque").map(i=>e.jsxs(S,{value:i.id,children:[i.codigo," - ",i.marca," ",i.modelo]},i.id))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"399","trae-inspector-start-column":"18","trae-inspector-end-line":"417","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"tipo_movimentacao",children:"Tipo"}),e.jsxs(I,{value:C.tipo_movimentacao,onValueChange:i=>c({...C,tipo_movimentacao:i}),children:[e.jsx(O,{children:e.jsx(q,{})}),e.jsxs(R,{children:[e.jsx(S,{value:"instalacao",children:"Instalação"}),e.jsx(S,{value:"remocao",children:"Remoção"}),e.jsx(S,{value:"rodizio",children:"Rodízio"}),e.jsx(S,{value:"recapagem",children:"Recapagem"}),e.jsx(S,{value:"conserto",children:"Conserto"}),e.jsx(S,{value:"descarte",children:"Descarte"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"420","trae-inspector-start-column":"16","trae-inspector-end-line":"464","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"421","trae-inspector-start-column":"18","trae-inspector-end-line":"435","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"vehicle_plate_destino",children:"Placa Veículo"}),e.jsx(re,{value:C.vehicle_plate_destino,onChange:i=>{const b=l.find(E=>E.plate===i);c({...C,vehicle_plate_destino:i,km_veiculo:b!=null&&b.mileage?String(b.mileage):C.km_veiculo})},placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"436","trae-inspector-start-column":"18","trae-inspector-end-line":"453","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"posicao_destino",children:"Posição"}),e.jsxs(I,{value:C.posicao_destino,onValueChange:i=>c({...C,posicao_destino:i}),children:[e.jsx(O,{children:e.jsx(q,{placeholder:"Selecione"})}),e.jsx(R,{children:pt.map(i=>e.jsx(S,{value:i.value,children:i.label},i.value))})]})]}),e.jsxs("div",{"trae-inspector-start-line":"454","trae-inspector-start-column":"18","trae-inspector-end-line":"463","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"km_veiculo",children:"KM Veículo"}),e.jsx(T,{id:"km_veiculo",type:"number",value:C.km_veiculo,onChange:i=>c({...C,km_veiculo:i.target.value}),placeholder:"120000"})]})]}),e.jsxs("div",{"trae-inspector-start-line":"466","trae-inspector-start-column":"16","trae-inspector-end-line":"475","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"motivo",children:"Motivo"}),e.jsx(T,{id:"motivo",value:C.motivo,onChange:i=>c({...C,motivo:i.target.value}),placeholder:"Desgaste, furo, manutenção preventiva...",required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"477","trae-inspector-start-column":"16","trae-inspector-end-line":"486","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{htmlFor:"observacoes",children:"Observações"}),e.jsx(ce,{id:"observacoes",value:C.observacoes,onChange:i=>c({...C,observacoes:i.target.value}),placeholder:"Informações adicionais...",rows:3})]}),e.jsxs("div",{"trae-inspector-start-line":"488","trae-inspector-start-column":"16","trae-inspector-end-line":"493","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(f,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),e.jsx(f,{type:"submit",children:"Registrar"})]})]})]})]})]})]}),e.jsxs(Ae,{defaultValue:"pneus",className:"space-y-6",children:[e.jsxs(fe,{children:[e.jsx(P,{value:"pneus",children:"Pneus"}),e.jsx(P,{value:"movimentacoes",children:"Movimentações"}),e.jsxs(P,{value:"planner",className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"})," Mapa de Pneus"]})]}),e.jsx(M,{value:"pneus",className:"space-y-4",children:B.length===0?e.jsxs(y,{className:"p-8 text-center",children:[e.jsx(he,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{"trae-inspector-start-line":"511","trae-inspector-start-column":"14","trae-inspector-end-line":"511","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20pneu%20cadastrado%22%2C%22textStartLine%22%3A%22511%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22511%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mb-2",children:"Nenhum pneu cadastrado"}),e.jsx("p",{"trae-inspector-start-line":"512","trae-inspector-start-column":"14","trae-inspector-end-line":"512","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cadastre%20o%20primeiro%20pneu%20para%20come%C3%A7ar.%22%2C%22textStartLine%22%3A%22512%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22512%22%2C%22textEndColumn%22%3A%2289%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Cadastre o primeiro pneu para começar."})]}):e.jsx("div",{"trae-inspector-start-line":"515","trae-inspector-start-column":"12","trae-inspector-end-line":"578","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:B.map(i=>{var b;return e.jsxs(y,{className:"p-6",children:[e.jsxs("div",{"trae-inspector-start-line":"518","trae-inspector-start-column":"18","trae-inspector-end-line":"533","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{"trae-inspector-start-line":"519","trae-inspector-start-column":"20","trae-inspector-end-line":"529","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"520","trae-inspector-start-column":"22","trae-inspector-end-line":"522","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(he,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{"trae-inspector-start-line":"523","trae-inspector-start-column":"22","trae-inspector-end-line":"528","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h3",{"trae-inspector-start-line":"524","trae-inspector-start-column":"24","trae-inspector-end-line":"524","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xl font-bold",children:i.codigo}),e.jsxs("p",{"trae-inspector-start-line":"525","trae-inspector-start-column":"24","trae-inspector-end-line":"527","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[i.marca," ",i.modelo," • ",i.medida]})]})]}),e.jsx(k,{variant:h(i.status),children:i.status.replace("_"," ")})]}),e.jsxs("div",{"trae-inspector-start-line":"535","trae-inspector-start-column":"18","trae-inspector-end-line":"558","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{"trae-inspector-start-line":"536","trae-inspector-start-column":"20","trae-inspector-end-line":"539","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"537","trae-inspector-start-column":"22","trae-inspector-end-line":"537","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tipo%3A%22%2C%22textStartLine%22%3A%22537%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22537%22%2C%22textEndColumn%22%3A%2267%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Tipo:"}),e.jsx("p",{"trae-inspector-start-line":"538","trae-inspector-start-column":"22","trae-inspector-end-line":"538","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:i.tipo})]}),i.vehicle_plate&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{"trae-inspector-start-line":"542","trae-inspector-start-column":"24","trae-inspector-end-line":"545","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"543","trae-inspector-start-column":"26","trae-inspector-end-line":"543","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%3A%22%2C%22textStartLine%22%3A%22543%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22543%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Veículo:"}),e.jsx("p",{"trae-inspector-start-line":"544","trae-inspector-start-column":"26","trae-inspector-end-line":"544","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:i.vehicle_plate})]}),e.jsxs("div",{"trae-inspector-start-line":"546","trae-inspector-start-column":"24","trae-inspector-end-line":"549","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"547","trae-inspector-start-column":"26","trae-inspector-end-line":"547","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Posi%C3%A7%C3%A3o%3A%22%2C%22textStartLine%22%3A%22547%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22547%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Posição:"}),e.jsx("p",{"trae-inspector-start-line":"548","trae-inspector-start-column":"26","trae-inspector-end-line":"548","trae-inspector-end-column":"92","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:(b=i.posicao)==null?void 0:b.replace("_"," ")})]})]}),i.km_atual&&e.jsxs("div",{"trae-inspector-start-line":"553","trae-inspector-start-column":"22","trae-inspector-end-line":"556","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("span",{"trae-inspector-start-line":"554","trae-inspector-start-column":"24","trae-inspector-end-line":"554","trae-inspector-end-column":"81","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22KM%20Rodado%3A%22%2C%22textStartLine%22%3A%22554%22%2C%22textStartColumn%22%3A%2264%22%2C%22textEndLine%22%3A%22554%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"KM Rodado:"}),e.jsxs("p",{"trae-inspector-start-line":"555","trae-inspector-start-column":"24","trae-inspector-end-line":"555","trae-inspector-end-column":"124","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:[(i.km_atual-(i.km_instalacao||0)).toLocaleString()," km"]})]})]}),i.km_atual&&i.vida_util_km&&e.jsxs("div",{"trae-inspector-start-line":"561","trae-inspector-start-column":"20","trae-inspector-end-line":"574","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-4",children:[e.jsxs("div",{"trae-inspector-start-line":"562","trae-inspector-start-column":"22","trae-inspector-end-line":"565","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{"trae-inspector-start-line":"563","trae-inspector-start-column":"24","trae-inspector-end-line":"563","trae-inspector-end-column":"46","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Vida%20%C3%BAtil%22%2C%22textStartLine%22%3A%22563%22%2C%22textStartColumn%22%3A%2230%22%2C%22textEndLine%22%3A%22563%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Vida útil"}),e.jsxs("span",{"trae-inspector-start-line":"564","trae-inspector-start-column":"24","trae-inspector-end-line":"564","trae-inspector-end-column":"123","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[Math.round((i.km_atual-(i.km_instalacao||0))/i.vida_util_km*100),"%"]})]}),e.jsx("div",{"trae-inspector-start-line":"566","trae-inspector-start-column":"22","trae-inspector-end-line":"573","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-full bg-secondary h-2 rounded-full overflow-hidden",children:e.jsx("div",{"trae-inspector-start-line":"567","trae-inspector-start-column":"24","trae-inspector-end-line":"572","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"bg-primary h-full transition-all",style:{width:`${Math.min((i.km_atual-(i.km_instalacao||0))/i.vida_util_km*100,100)}%`}})})]})]},i.id)})})}),e.jsx(M,{value:"movimentacoes",className:"space-y-4",children:N.length===0?e.jsxs(y,{className:"p-8 text-center",children:[e.jsx(Ce,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{"trae-inspector-start-line":"586","trae-inspector-start-column":"14","trae-inspector-end-line":"586","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhuma%20movimenta%C3%A7%C3%A3o%20registrada%22%2C%22textStartLine%22%3A%22586%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22586%22%2C%22textEndColumn%22%3A%2288%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold mb-2",children:"Nenhuma movimentação registrada"}),e.jsx("p",{"trae-inspector-start-line":"587","trae-inspector-start-column":"14","trae-inspector-end-line":"587","trae-inspector-end-column":"96","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Registre%20a%20primeira%20movimenta%C3%A7%C3%A3o%20de%20pneu.%22%2C%22textStartLine%22%3A%22587%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22587%22%2C%22textEndColumn%22%3A%2292%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Registre a primeira movimentação de pneu."})]}):N.map(i=>{var b;return e.jsx(y,{className:"p-4",children:e.jsxs("div",{"trae-inspector-start-line":"592","trae-inspector-start-column":"16","trae-inspector-end-line":"614","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start gap-4",children:[e.jsx("div",{"trae-inspector-start-line":"593","trae-inspector-start-column":"18","trae-inspector-end-line":"595","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:e.jsx(Ce,{className:"h-5 w-5"})}),e.jsxs("div",{"trae-inspector-start-line":"596","trae-inspector-start-column":"18","trae-inspector-end-line":"613","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"597","trae-inspector-start-column":"20","trae-inspector-end-line":"607","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{"trae-inspector-start-line":"598","trae-inspector-start-column":"22","trae-inspector-end-line":"603","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h4",{"trae-inspector-start-line":"599","trae-inspector-start-column":"24","trae-inspector-end-line":"599","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:U(i.pneu_id)}),e.jsxs("p",{"trae-inspector-start-line":"600","trae-inspector-start-column":"24","trae-inspector-end-line":"602","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[i.tipo_movimentacao.replace("_"," ")," • ",i.motivo]})]}),e.jsx("span",{"trae-inspector-start-line":"604","trae-inspector-start-column":"22","trae-inspector-end-line":"606","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:ue(new Date(i.created_at),{addSuffix:!0,locale:ge})})]}),i.vehicle_plate_destino&&e.jsxs("p",{"trae-inspector-start-line":"609","trae-inspector-start-column":"22","trae-inspector-end-line":"611","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:[e.jsx("strong",{"trae-inspector-start-line":"610","trae-inspector-start-column":"24","trae-inspector-end-line":"610","trae-inspector-end-column":"49","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ve%C3%ADculo%3A%22%2C%22textStartLine%22%3A%22610%22%2C%22textStartColumn%22%3A%2232%22%2C%22textEndLine%22%3A%22610%22%2C%22textEndColumn%22%3A%2240%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Veículo:"})," ",i.vehicle_plate_destino," • ",e.jsx("strong",{"trae-inspector-start-line":"610","trae-inspector-start-column":"80","trae-inspector-end-line":"610","trae-inspector-end-column":"105","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\BorachariaTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Posi%C3%A7%C3%A3o%3A%22%2C%22textStartLine%22%3A%22610%22%2C%22textStartColumn%22%3A%2288%22%2C%22textEndLine%22%3A%22610%22%2C%22textEndColumn%22%3A%2296%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Posição:"})," ",(b=i.posicao_destino)==null?void 0:b.replace("_"," ")]})]})]})},i.id)})}),e.jsx(M,{value:"planner",className:"space-y-4",children:e.jsx(Ct,{})})]})]})}const dt=()=>{const[d,B]=m.useState([]),[A,N]=m.useState(!0),[_,u]=m.useState(""),{user:g}=z();m.useEffect(()=>{x()},[]);const x=async()=>{try{N(!0);const{data:n,error:C}=await D.from("service_orders").select("*").order("created_at",{ascending:!1});if(C)throw C;const c=new Map;n==null||n.forEach(r=>{const a=c.get(r.vehicle_plate)||[];c.set(r.vehicle_plate,[...a,r])});const o=[];for(const[r,a]of c.entries()){const t=Math.max(...a.map(b=>b.odometer)),h=Se(a.map(b=>({id:b.id,status:b.status,created_at:b.created_at||new Date().toISOString(),completed_at:b.completed_at,vehicle_plate:b.vehicle_plate,odometer:b.odometer,labor_hours:b.labor_hours||0,vehiclePlate:b.vehicle_plate,completedAt:b.completed_at,serviceType:b.status==="concluida"?"preventiva":"corretiva"})),t);let U="ok";const i=h.predictedKm-t;i<0?U="overdue":i<1e3||h.predictedDays<7?U="soon":(i<3e3||h.predictedDays<30)&&(U="scheduled"),o.push({plate:r,currentOdometer:t,predictedKm:h.predictedKm,predictedDays:h.predictedDays,confidence:h.confidence,maintenanceType:h.maintenanceType,status:U})}o.sort((r,a)=>{const t={overdue:0,soon:1,scheduled:2,ok:3};return t[r.status]-t[a.status]}),B(o)}catch(n){console.error("Erro ao carregar agendamentos:",n),v.error("Erro ao carregar agendamentos de manutenção")}finally{N(!1)}},w=async n=>{try{const{error:C}=await D.from("service_orders").insert({vehicle_plate:n.plate,vehicle_model:"N/A",odometer:n.currentOdometer,issue_description:`Manutenção preventiva agendada: ${n.maintenanceType}`,priority:n.status==="overdue"?"alta":n.status==="soon"?"media":"baixa",status:"pendente",estimated_completion:new Date(Date.now()+n.predictedDays*24*60*60*1e3).toISOString()});if(C)throw C;v.success("Ordem de serviço preventiva criada com sucesso!"),x()}catch(C){console.error("Erro ao criar OS:",C),v.error("Erro ao criar ordem de serviço")}},L=async n=>{var C;try{if(!g){v.error("Usuário não autenticado");return}const{error:c}=await D.from("parts_requests").insert({mechanic_id:g.id,mechanic_name:((C=g==null?void 0:g.user_metadata)==null?void 0:C.full_name)||g.email||"Mecânico",vehicle_plate:n.plate,parts_list:[],urgency:n.status==="overdue"?"alta":n.status==="soon"?"media":"normal",notes:`Pedido para preventiva: ${n.maintenanceType}. Definir itens com checklist/planos.`});if(c)throw c;v.success("Pedido de peças criado com sucesso!")}catch(c){console.error("Erro ao criar pedido de peças:",c),v.error("Erro ao criar pedido de peças")}},p=async n=>{var C;try{if(!g){v.error("Usuário não autenticado");return}const{error:c}=await D.from("parts_requests").insert({mechanic_id:g.id,mechanic_name:((C=g==null?void 0:g.user_metadata)==null?void 0:C.full_name)||g.email||"Mecânico",vehicle_plate:n.plate,parts_list:[],urgency:"normal",status:"cotacao",notes:`Cotação para preventiva: ${n.maintenanceType}. Solicitar preços e prazos.`});if(c)throw c;v.success("Solicitação de cotação criada!")}catch(c){console.error("Erro ao criar cotação:",c),v.error("Erro ao criar cotação")}},l=n=>{const c={overdue:{variant:"destructive",icon:se,label:"Atrasada"},soon:{variant:"default",icon:X,label:"Urgente"},scheduled:{variant:"secondary",icon:je,label:"Próxima"},ok:{variant:"outline",icon:Z,label:"Em dia"}}[n],o=c.icon;return e.jsxs(k,{variant:c.variant,className:"flex items-center gap-1",children:[e.jsx(o,{className:"h-3 w-3"}),c.label]})},s=d.filter(n=>n.plate.toLowerCase().includes(_.toLowerCase()));return A?e.jsx("div",{"trae-inspector-start-line":"207","trae-inspector-start-column":"11","trae-inspector-end-line":"207","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20agendamentos...%22%2C%22textStartLine%22%3A%22207%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22207%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center py-8",children:"Carregando agendamentos..."}):e.jsxs("div",{"trae-inspector-start-line":"211","trae-inspector-start-column":"4","trae-inspector-end-line":"313","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"212","trae-inspector-start-column":"6","trae-inspector-end-line":"222","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"213","trae-inspector-start-column":"8","trae-inspector-end-line":"218","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h2",{"trae-inspector-start-line":"214","trae-inspector-start-column":"10","trae-inspector-end-line":"214","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Agendamento%20Inteligente%22%2C%22textStartLine%22%3A%22214%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22214%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:"Agendamento Inteligente"}),e.jsx("p",{"trae-inspector-start-line":"215","trae-inspector-start-column":"10","trae-inspector-end-line":"217","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Previs%C3%B5es%20autom%C3%A1ticas%20baseadas%20em%20KM%20e%20hist%C3%B3rico%20de%20manuten%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22215%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22217%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Previsões automáticas baseadas em KM e histórico de manutenções"})]}),e.jsx(f,{onClick:x,children:"Atualizar Previsões"})]}),e.jsx(T,{placeholder:"Buscar por placa...",value:_,onChange:n=>u(n.target.value),className:"max-w-sm"}),e.jsxs("div",{"trae-inspector-start-line":"231","trae-inspector-start-column":"6","trae-inspector-end-line":"312","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:[s.map(n=>{const C=n.predictedKm-n.currentOdometer;return e.jsxs(y,{children:[e.jsx(W,{children:e.jsxs("div",{"trae-inspector-start-line":"238","trae-inspector-start-column":"16","trae-inspector-end-line":"244","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),n.plate]}),l(n.status)]})}),e.jsxs(F,{children:[e.jsxs("div",{"trae-inspector-start-line":"247","trae-inspector-start-column":"16","trae-inspector-end-line":"281","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"248","trae-inspector-start-column":"18","trae-inspector-end-line":"253","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"249","trae-inspector-start-column":"20","trae-inspector-end-line":"249","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22KM%20Atual%22%2C%22textStartLine%22%3A%22249%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22249%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"KM Atual"}),e.jsxs("p",{"trae-inspector-start-line":"250","trae-inspector-start-column":"20","trae-inspector-end-line":"252","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:[n.currentOdometer.toLocaleString("pt-BR")," km"]})]}),e.jsxs("div",{"trae-inspector-start-line":"255","trae-inspector-start-column":"18","trae-inspector-end-line":"263","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"256","trae-inspector-start-column":"20","trae-inspector-end-line":"256","trae-inspector-end-column":"87","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pr%C3%B3xima%20Manuten%C3%A7%C3%A3o%22%2C%22textStartLine%22%3A%22256%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22256%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Próxima Manutenção"}),e.jsxs("p",{"trae-inspector-start-line":"257","trae-inspector-start-column":"20","trae-inspector-end-line":"259","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:[n.predictedKm.toLocaleString("pt-BR")," km"]}),e.jsx("p",{"trae-inspector-start-line":"260","trae-inspector-start-column":"20","trae-inspector-end-line":"262","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:C>0?`Faltam ${C.toLocaleString("pt-BR")} km`:`Atrasada em ${Math.abs(C).toLocaleString("pt-BR")} km`})]}),e.jsxs("div",{"trae-inspector-start-line":"265","trae-inspector-start-column":"18","trae-inspector-end-line":"273","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"266","trae-inspector-start-column":"20","trae-inspector-end-line":"266","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Previs%C3%A3o%20em%20Dias%22%2C%22textStartLine%22%3A%22266%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22266%22%2C%22textEndColumn%22%3A%2281%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Previsão em Dias"}),e.jsxs("p",{"trae-inspector-start-line":"267","trae-inspector-start-column":"20","trae-inspector-end-line":"269","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:[n.predictedDays," dias"]}),e.jsxs("p",{"trae-inspector-start-line":"270","trae-inspector-start-column":"20","trae-inspector-end-line":"272","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:["Confiança: ",(n.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{"trae-inspector-start-line":"275","trae-inspector-start-column":"18","trae-inspector-end-line":"280","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"276","trae-inspector-start-column":"20","trae-inspector-end-line":"276","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tipo%22%2C%22textStartLine%22%3A%22276%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22276%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Tipo"}),e.jsx("p",{"trae-inspector-start-line":"277","trae-inspector-start-column":"20","trae-inspector-end-line":"279","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold capitalize",children:n.maintenanceType})]})]}),(n.status==="overdue"||n.status==="soon")&&e.jsx("div",{"trae-inspector-start-line":"284","trae-inspector-start-column":"18","trae-inspector-end-line":"296","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-4 pt-4 border-t",children:e.jsxs("div",{"trae-inspector-start-line":"285","trae-inspector-start-column":"20","trae-inspector-end-line":"295","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsx(f,{onClick:()=>w(n),children:"Criar OS Preventiva"}),e.jsx(f,{variant:"outline",onClick:()=>L(n),children:"Gerar Pedido de Peças"}),e.jsx(f,{variant:"secondary",onClick:()=>p(n),children:"Abrir Cotação"})]})})]})]},n.plate)}),s.length===0&&e.jsx(y,{children:e.jsx(F,{className:"text-center py-8",children:e.jsx("p",{"trae-inspector-start-line":"306","trae-inspector-start-column":"14","trae-inspector-end-line":"308","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenanceScheduler.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20ve%C3%ADculo%20encontrado.%20Certifique-se%20de%20que%20existem%20ordens%20de%20servi%C3%A7o%20cadastradas.%22%2C%22textStartLine%22%3A%22306%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22308%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Nenhum veículo encontrado. Certifique-se de que existem ordens de serviço cadastradas."})})})]})]})};function ht(){const{user:d}=z(),B=_e(),[A,N]=m.useState([]),[_,u]=m.useState({name:"",quantity:1,unit:"unidade"}),[g,x]=m.useState(""),[w,L]=m.useState("normal"),[p,l]=m.useState(""),{data:s=[],isLoading:n}=qe({queryKey:["parts-requests"],queryFn:async()=>{const{data:t,error:h}=await D.from("parts_requests").select("*").order("created_at",{ascending:!1});if(h)throw h;return t}}),C=Re({mutationFn:async()=>{if(!d)throw new Error("Usuário não autenticado");if(A.length===0)throw new Error("Adicione pelo menos uma peça");const{data:t}=await D.from("profiles").select("full_name").eq("id",d.id).single(),{data:h,error:U}=await D.from("parts_requests").insert([{mechanic_id:d.id,mechanic_name:(t==null?void 0:t.full_name)||d.email||"Mecânico",vehicle_plate:g||null,parts_list:A,urgency:w,notes:p||null,status:"pendente"}]).select().single();if(U)throw U;const{data:i}=await D.from("user_roles").select("user_id").in("role",["admin","logistics_manager","maintenance_manager"]);if(i){const b=i.map(E=>({user_id:E.user_id,title:"Novo Pedido de Peças",message:`${(t==null?void 0:t.full_name)||"Mecânico"} solicitou ${A.length} peça(s)${g?` para ${g}`:""}. Urgência: ${w==="urgent"?"URGENTE":"Normal"}`,type:w==="urgent"?"warning":"info",module:"maintenance"}));await D.from("notifications").insert(b)}return h},onSuccess:()=>{v.success("Pedido enviado com sucesso!"),N([]),x(""),L("normal"),l(""),B.invalidateQueries({queryKey:["parts-requests"]})},onError:t=>{v.error(t.message)}}),c=()=>{if(!_.name.trim()){v.error("Digite o nome da peça");return}N([...A,{id:crypto.randomUUID(),..._}]),u({name:"",quantity:1,unit:"unidade"})},o=t=>{N(A.filter(h=>h.id!==t))},r=t=>{switch(t){case"pendente":return e.jsxs(k,{variant:"outline",className:"gap-1",children:[e.jsx(X,{className:"w-3 h-3"}),"Pendente"]});case"aprovado":return e.jsxs(k,{className:"gap-1 bg-green-500",children:[e.jsx(Z,{className:"w-3 h-3"}),"Aprovado"]});case"rejeitado":return e.jsxs(k,{variant:"destructive",className:"gap-1",children:[e.jsx(ie,{className:"w-3 h-3"}),"Rejeitado"]});default:return e.jsx(k,{variant:"secondary",children:t})}},a=t=>t==="urgent"?e.jsxs(k,{variant:"destructive",className:"gap-1",children:[e.jsx(ie,{className:"w-3 h-3"}),"Urgente"]}):e.jsx(k,{variant:"outline",children:"Normal"});return e.jsxs("div",{"trae-inspector-start-line":"149","trae-inspector-start-column":"4","trae-inspector-end-line":"319","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs(y,{children:[e.jsx(W,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5"}),"Novo Pedido de Peças"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"158","trae-inspector-start-column":"10","trae-inspector-end-line":"180","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"159","trae-inspector-start-column":"12","trae-inspector-end-line":"166","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{children:"Placa do Veículo (opcional)"}),e.jsx(re,{value:g,onChange:x,placeholder:"Selecione a placa"})]}),e.jsxs("div",{"trae-inspector-start-line":"168","trae-inspector-start-column":"12","trae-inspector-end-line":"179","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{children:"Urgência"}),e.jsxs(I,{value:w,onValueChange:L,children:[e.jsx(O,{children:e.jsx(q,{})}),e.jsxs(R,{children:[e.jsx(S,{value:"normal",children:"Normal"}),e.jsx(S,{value:"urgent",children:"Urgente"})]})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"182","trae-inspector-start-column":"10","trae-inspector-end-line":"242","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:[e.jsx(j,{children:"Adicionar Peças"}),e.jsxs("div",{"trae-inspector-start-line":"184","trae-inspector-start-column":"12","trae-inspector-end-line":"218","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-12 gap-2",children:[e.jsx(T,{placeholder:"Nome da peça",className:"col-span-6",value:_.name,onChange:t=>u({..._,name:t.target.value}),onKeyPress:t=>t.key==="Enter"&&c()}),e.jsx(T,{type:"number",min:"1",placeholder:"Qtd",className:"col-span-2",value:_.quantity,onChange:t=>u({..._,quantity:parseInt(t.target.value)||1})}),e.jsxs(I,{value:_.unit,onValueChange:t=>u({..._,unit:t}),children:[e.jsx(O,{className:"col-span-3",children:e.jsx(q,{})}),e.jsxs(R,{children:[e.jsx(S,{value:"unidade",children:"Unidade"}),e.jsx(S,{value:"litro",children:"Litro"}),e.jsx(S,{value:"kg",children:"Kg"}),e.jsx(S,{value:"metro",children:"Metro"}),e.jsx(S,{value:"jogo",children:"Jogo"})]})]}),e.jsx(f,{onClick:c,size:"icon",className:"col-span-1",children:e.jsx(V,{className:"w-4 h-4"})})]}),A.length>0&&e.jsx("div",{"trae-inspector-start-line":"221","trae-inspector-start-column":"14","trae-inspector-end-line":"240","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2 p-3 bg-muted rounded-lg",children:A.map(t=>e.jsxs("div",{"trae-inspector-start-line":"223","trae-inspector-start-column":"18","trae-inspector-end-line":"238","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between bg-background p-2 rounded",children:[e.jsx("span",{"trae-inspector-start-line":"224","trae-inspector-start-column":"20","trae-inspector-end-line":"224","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium",children:t.name}),e.jsxs("div",{"trae-inspector-start-line":"225","trae-inspector-start-column":"20","trae-inspector-end-line":"237","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsxs("span",{"trae-inspector-start-line":"226","trae-inspector-start-column":"22","trae-inspector-end-line":"228","trae-inspector-end-column":"29","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:[t.quantity," ",t.unit]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>o(t.id),className:"h-7 w-7",children:e.jsx(Te,{className:"w-3 h-3"})})]})]},t.id))})]}),e.jsxs("div",{"trae-inspector-start-line":"244","trae-inspector-start-column":"10","trae-inspector-end-line":"252","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(j,{children:"Observações"}),e.jsx(ce,{placeholder:"Informações adicionais sobre o pedido...",value:p,onChange:t=>l(t.target.value),rows:3})]}),e.jsx(f,{onClick:()=>C.mutate(),disabled:A.length===0||C.isPending,className:"w-full",children:C.isPending?"Enviando...":"Enviar Pedido para Gestor"})]})]}),e.jsxs(y,{children:[e.jsx(W,{children:e.jsx($,{children:"Meus Pedidos"})}),e.jsx(F,{children:n?e.jsx("p",{"trae-inspector-start-line":"270","trae-inspector-start-column":"12","trae-inspector-end-line":"270","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20pedidos...%22%2C%22textStartLine%22%3A%22270%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22270%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Carregando pedidos..."}):s.length===0?e.jsx("p",{"trae-inspector-start-line":"272","trae-inspector-start-column":"12","trae-inspector-end-line":"272","trae-inspector-end-column":"83","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nenhum%20pedido%20realizado%20ainda.%22%2C%22textStartLine%22%3A%22272%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22272%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Nenhum pedido realizado ainda."}):e.jsx("div",{"trae-inspector-start-line":"274","trae-inspector-start-column":"12","trae-inspector-end-line":"315","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-3",children:s.map(t=>e.jsx(y,{children:e.jsxs(F,{className:"pt-4",children:[e.jsxs("div",{"trae-inspector-start-line":"278","trae-inspector-start-column":"20","trae-inspector-end-line":"291","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{"trae-inspector-start-line":"279","trae-inspector-start-column":"22","trae-inspector-end-line":"287","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1",children:[e.jsxs("div",{"trae-inspector-start-line":"280","trae-inspector-start-column":"24","trae-inspector-end-line":"283","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[r(t.status),a(t.urgency)]}),e.jsx("p",{"trae-inspector-start-line":"284","trae-inspector-start-column":"24","trae-inspector-end-line":"286","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:new Date(t.created_at).toLocaleString("pt-BR")})]}),t.vehicle_plate&&e.jsx(k,{variant:"outline",children:t.vehicle_plate})]}),e.jsxs("div",{"trae-inspector-start-line":"293","trae-inspector-start-column":"20","trae-inspector-end-line":"305","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("p",{"trae-inspector-start-line":"294","trae-inspector-start-column":"22","trae-inspector-end-line":"294","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pe%C3%A7as%20Solicitadas%3A%22%2C%22textStartLine%22%3A%22294%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22294%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:"Peças Solicitadas:"}),e.jsx("ul",{"trae-inspector-start-line":"295","trae-inspector-start-column":"22","trae-inspector-end-line":"304","trae-inspector-end-column":"27","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-1 text-sm",children:t.parts_list.map((h,U)=>e.jsxs("li",{"trae-inspector-start-line":"297","trae-inspector-start-column":"26","trae-inspector-end-line":"302","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-between",children:[e.jsx("span",{"trae-inspector-start-line":"298","trae-inspector-start-column":"28","trae-inspector-end-line":"298","trae-inspector-end-column":"52","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:h.name}),e.jsxs("span",{"trae-inspector-start-line":"299","trae-inspector-start-column":"28","trae-inspector-end-line":"301","trae-inspector-end-column":"35","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:[h.quantity," ",h.unit]})]},U))})]}),t.notes&&e.jsx("div",{"trae-inspector-start-line":"308","trae-inspector-start-column":"22","trae-inspector-end-line":"310","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mt-3 pt-3 border-t",children:e.jsx("p",{"trae-inspector-start-line":"309","trae-inspector-start-column":"24","trae-inspector-end-line":"309","trae-inspector-end-column":"88","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\PartsRequestTab.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:t.notes})})]})},t.id))})})]})]})}function ut(){const[d,B]=m.useState([]),[A,N]=m.useState(!0),[_,u]=m.useState(!1),[g,x]=m.useState("all"),[w,L]=m.useState({vehicle_type:"cavalo",plan_item:"",interval_km:"",tolerance_km:"500",notes:""});m.useEffect(()=>{p()},[]);const p=async()=>{try{N(!0);const{data:o,error:r}=await D.from("maintenance_plans").select("*").order("vehicle_type",{ascending:!0}).order("plan_item",{ascending:!0});if(r)if((r==null?void 0:r.code)==="PGRST205"||String((r==null?void 0:r.message)||"").includes("maintenance_plans"))u(!0),B([]);else throw r;else u(!1),B(o||[])}catch(o){console.error("Erro ao carregar planos:",o),v.error("Erro ao carregar planos de manutenção")}finally{N(!1)}},l=m.useMemo(()=>g==="all"?d:d.filter(o=>o.vehicle_type===g),[d,g]),s=async o=>{var r;o.preventDefault();try{const a={vehicle_type:w.vehicle_type,plan_item:w.plan_item.trim(),interval_km:parseInt(w.interval_km||"0",10),tolerance_km:parseInt(w.tolerance_km||"0",10),notes:((r=w.notes)==null?void 0:r.trim())||null,is_active:!0};if(!a.plan_item||!a.interval_km){v.error("Informe item e intervalo (km)");return}const{error:t}=await D.from("maintenance_plans").insert([a]);if(t)throw t;v.success("Plano cadastrado"),L({vehicle_type:"cavalo",plan_item:"",interval_km:"",tolerance_km:"500",notes:""}),p()}catch(a){console.error("Erro ao criar plano:",a),v.error("Erro ao criar plano")}},n=async o=>{try{const{error:r}=await D.from("maintenance_plans").update({is_active:!o.is_active}).eq("id",o.id);if(r)throw r;p()}catch(r){console.error("Erro ao atualizar plano:",r),v.error("Erro ao atualizar plano")}},C=async(o,r,a)=>{try{const{error:t}=await D.from("maintenance_plans").update({interval_km:r,tolerance_km:a}).eq("id",o.id);if(t)throw t;v.success("Intervalo atualizado"),p()}catch(t){console.error("Erro ao atualizar intervalo:",t),v.error("Erro ao atualizar intervalo")}},c=async()=>{try{N(!0);const o=[{vehicle_type:"cavalo",plan_item:"Troca de óleo do motor",interval_km:15e3,tolerance_km:1e3,notes:"Óleo e filtro conforme fabricante"},{vehicle_type:"cavalo",plan_item:"Filtro de óleo",interval_km:15e3,tolerance_km:1e3,notes:"Substituir junto ao óleo"},{vehicle_type:"cavalo",plan_item:"Filtro de ar",interval_km:2e4,tolerance_km:1e3,notes:"Inspecionar a cada 10.000km"},{vehicle_type:"cavalo",plan_item:"Filtro de combustível",interval_km:3e4,tolerance_km:1e3,notes:"Troca preventiva"},{vehicle_type:"cavalo",plan_item:"Revisão de freios",interval_km:2e4,tolerance_km:1e3,notes:"Pastilhas, lonas e discos"},{vehicle_type:"cavalo",plan_item:"Suspensão e buchas",interval_km:3e4,tolerance_km:1500,notes:"Inspeção geral e torque"},{vehicle_type:"cavalo",plan_item:"Alinhamento e balanceamento",interval_km:2e4,tolerance_km:1e3,notes:"Rotação de pneus"},{vehicle_type:"cavalo",plan_item:"Lubrificação do chassi",interval_km:1e4,tolerance_km:500,notes:"Pontos de graxa"},{vehicle_type:"carreta",plan_item:"Revisão de freios (carreta)",interval_km:2e4,tolerance_km:1e3,notes:"Sistema pneumático e lonas"},{vehicle_type:"carreta",plan_item:"Suspensão e eixos",interval_km:3e4,tolerance_km:1500,notes:"Inspeção e torque"},{vehicle_type:"carreta",plan_item:"Pinos e engates (quinto roda)",interval_km:15e3,tolerance_km:1e3,notes:"Lubrificação e inspeção"},{vehicle_type:"carreta",plan_item:"Iluminação e elétrica",interval_km:15e3,tolerance_km:1e3,notes:"Chicotes e conectores"},{vehicle_type:"carreta",plan_item:"Rodízio e balanceamento de pneus",interval_km:2e4,tolerance_km:1e3,notes:"Conforme desgaste"},{vehicle_type:"truck",plan_item:"Troca de óleo do motor",interval_km:1e4,tolerance_km:800,notes:""},{vehicle_type:"truck",plan_item:"Filtros (óleo/ar/combustível)",interval_km:15e3,tolerance_km:1e3,notes:""},{vehicle_type:"truck",plan_item:"Revisão de freios",interval_km:15e3,tolerance_km:1e3,notes:""},{vehicle_type:"truck",plan_item:"Suspensão",interval_km:25e3,tolerance_km:1500,notes:""},{vehicle_type:"truck",plan_item:"Alinhamento e balanceamento",interval_km:15e3,tolerance_km:1e3,notes:""}],{error:r}=await D.from("maintenance_plans").insert(o);if(r)throw r;v.success("Planos padrão carregados"),p()}catch(o){console.error("Erro ao carregar padrões:",o),v.error("Erro ao carregar padrões")}finally{N(!1)}};return A?e.jsx("div",{"trae-inspector-start-line":"178","trae-inspector-start-column":"11","trae-inspector-end-line":"178","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando%20planos...%22%2C%22textStartLine%22%3A%22178%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22178%22%2C%22textEndColumn%22%3A%2285%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center p-8",children:"Carregando planos..."}):e.jsxs("div",{"trae-inspector-start-line":"182","trae-inspector-start-column":"4","trae-inspector-end-line":"304","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[_&&e.jsx(y,{className:"border-amber-300 bg-amber-50",children:e.jsxs(F,{className:"py-4 flex items-center gap-3",children:[e.jsx(se,{className:"h-5 w-5 text-amber-600"}),e.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"12","trae-inspector-end-line":"190","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"188","trae-inspector-start-column":"14","trae-inspector-end-line":"188","trae-inspector-end-column":"113","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Planos%20preventivos%20indispon%C3%ADveis%20(migration%20pendente)%22%2C%22textStartLine%22%3A%22188%22%2C%22textStartColumn%22%3A%2256%22%2C%22textEndLine%22%3A%22188%22%2C%22textEndColumn%22%3A%22109%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-medium text-amber-800",children:"Planos preventivos indisponíveis (migration pendente)"}),e.jsx("p",{"trae-inspector-start-line":"189","trae-inspector-start-column":"14","trae-inspector-end-line":"189","trae-inspector-end-column":"180","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22A%20tabela%20%60maintenance_plans%60%20n%C3%A3o%20foi%20encontrada.%20Aplique%20a%20migration%20para%20habilitar%20o%20CRUD%20e%20os%20alertas%20por%20tipo%20de%20ve%C3%ADculo.%22%2C%22textStartLine%22%3A%22189%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22189%22%2C%22textEndColumn%22%3A%22176%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-amber-700",children:"A tabela `maintenance_plans` não foi encontrada. Aplique a migration para habilitar o CRUD e os alertas por tipo de veículo."})]})]})}),e.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"6","trae-inspector-end-line":"203","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"195","trae-inspector-start-column":"8","trae-inspector-end-line":"198","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsxs("h2",{"trae-inspector-start-line":"196","trae-inspector-start-column":"10","trae-inspector-end-line":"196","trae-inspector-end-column":"132","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5"})," Planos de Manutenção"]}),e.jsx("p",{"trae-inspector-start-line":"197","trae-inspector-start-column":"10","trae-inspector-end-line":"197","trae-inspector-end-column":"120","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Defina%20ciclos%20de%20km%20e%20preventivas%20por%20modelo%20(cavalo%2C%20carreta%2C%20truck)%22%2C%22textStartLine%22%3A%22197%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22197%22%2C%22textEndColumn%22%3A%22116%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Defina ciclos de km e preventivas por modelo (cavalo, carreta, truck)"})]}),e.jsxs("div",{"trae-inspector-start-line":"199","trae-inspector-start-column":"8","trae-inspector-end-line":"202","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(f,{variant:"outline",onClick:p,children:"Atualizar"}),e.jsxs(f,{onClick:c,children:[e.jsx(ne,{className:"h-4 w-4 mr-2"})," Carregar Padrões"]})]})]}),e.jsxs(y,{children:[e.jsx(W,{children:e.jsx($,{children:"Novo Plano"})}),e.jsxs(F,{className:"grid gap-3 md:grid-cols-5",children:[e.jsxs("div",{"trae-inspector-start-line":"210","trae-inspector-start-column":"10","trae-inspector-end-line":"220","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"211","trae-inspector-start-column":"12","trae-inspector-end-line":"211","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Modelo%22%2C%22textStartLine%22%3A%22211%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22211%22%2C%22textEndColumn%22%3A%2245%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Modelo"}),e.jsxs(I,{value:w.vehicle_type,onValueChange:o=>L(r=>({...r,vehicle_type:o})),children:[e.jsx(O,{className:"mt-1",children:e.jsx(q,{placeholder:"Selecione"})}),e.jsxs(R,{children:[e.jsx(S,{value:"cavalo",children:"Cavalo"}),e.jsx(S,{value:"carreta",children:"Carreta"}),e.jsx(S,{value:"truck",children:"Truck"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"221","trae-inspector-start-column":"10","trae-inspector-end-line":"224","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"md:col-span-2",children:[e.jsx("label",{"trae-inspector-start-line":"222","trae-inspector-start-column":"12","trae-inspector-end-line":"222","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Item%20Preventivo%22%2C%22textStartLine%22%3A%22222%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22222%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Item Preventivo"}),e.jsx(T,{className:"mt-1",placeholder:"Ex: Troca de óleo",value:w.plan_item,onChange:o=>L(r=>({...r,plan_item:o.target.value}))})]}),e.jsxs("div",{"trae-inspector-start-line":"225","trae-inspector-start-column":"10","trae-inspector-end-line":"228","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"226","trae-inspector-start-column":"12","trae-inspector-end-line":"226","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Intervalo%20(km)%22%2C%22textStartLine%22%3A%22226%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22226%22%2C%22textEndColumn%22%3A%2253%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Intervalo (km)"}),e.jsx(T,{className:"mt-1",type:"number",min:1e3,step:500,value:w.interval_km,onChange:o=>L(r=>({...r,interval_km:o.target.value}))})]}),e.jsxs("div",{"trae-inspector-start-line":"229","trae-inspector-start-column":"10","trae-inspector-end-line":"232","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("label",{"trae-inspector-start-line":"230","trae-inspector-start-column":"12","trae-inspector-end-line":"230","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Toler%C3%A2ncia%20(km)%22%2C%22textStartLine%22%3A%22230%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22230%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Tolerância (km)"}),e.jsx(T,{className:"mt-1",type:"number",min:0,step:100,value:w.tolerance_km,onChange:o=>L(r=>({...r,tolerance_km:o.target.value}))})]}),e.jsxs("div",{"trae-inspector-start-line":"233","trae-inspector-start-column":"10","trae-inspector-end-line":"236","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"md:col-span-5",children:[e.jsx("label",{"trae-inspector-start-line":"234","trae-inspector-start-column":"12","trae-inspector-end-line":"234","trae-inspector-end-column":"58","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Observa%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22234%22%2C%22textStartColumn%22%3A%2239%22%2C%22textEndLine%22%3A%22234%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:"Observações"}),e.jsx(T,{className:"mt-1",placeholder:"Notas",value:w.notes,onChange:o=>L(r=>({...r,notes:o.target.value}))})]}),e.jsx("div",{"trae-inspector-start-line":"237","trae-inspector-start-column":"10","trae-inspector-end-line":"239","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"md:col-span-5",children:e.jsx(f,{onClick:s,children:"Adicionar Plano"})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"243","trae-inspector-start-column":"6","trae-inspector-end-line":"254","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(k,{variant:"secondary",children:"Filtros"}),e.jsxs(I,{value:g,onValueChange:o=>x(o),children:[e.jsx(O,{className:"w-[220px]",children:e.jsx(q,{placeholder:"Filtrar por modelo"})}),e.jsxs(R,{children:[e.jsx(S,{value:"all",children:"Todos"}),e.jsx(S,{value:"cavalo",children:"Cavalo"}),e.jsx(S,{value:"carreta",children:"Carreta"}),e.jsx(S,{value:"truck",children:"Truck"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"256","trae-inspector-start-column":"6","trae-inspector-end-line":"303","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:[l.map(o=>e.jsxs(y,{children:[e.jsx(W,{children:e.jsxs($,{className:"flex items-center justify-between",children:[e.jsxs("span",{"trae-inspector-start-line":"261","trae-inspector-start-column":"16","trae-inspector-end-line":"264","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2",children:[e.jsx(k,{children:o.vehicle_type}),o.plan_item]}),e.jsxs("div",{"trae-inspector-start-line":"265","trae-inspector-start-column":"16","trae-inspector-end-line":"268","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3",children:[e.jsx("span",{"trae-inspector-start-line":"266","trae-inspector-start-column":"18","trae-inspector-end-line":"266","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ativo%22%2C%22textStartLine%22%3A%22266%22%2C%22textStartColumn%22%3A%2266%22%2C%22textEndLine%22%3A%22266%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Ativo"}),e.jsx(Fe,{checked:o.is_active,onCheckedChange:()=>n(o)})]})]})}),e.jsx(F,{children:e.jsxs("div",{"trae-inspector-start-line":"272","trae-inspector-start-column":"14","trae-inspector-end-line":"296","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"273","trae-inspector-start-column":"16","trae-inspector-end-line":"276","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"274","trae-inspector-start-column":"18","trae-inspector-end-line":"274","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Intervalo%22%2C%22textStartLine%22%3A%22274%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22274%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Intervalo"}),e.jsx(T,{type:"number",defaultValue:o.interval_km,onBlur:r=>C(o,parseInt(r.target.value||"0",10),o.tolerance_km)})]}),e.jsxs("div",{"trae-inspector-start-line":"277","trae-inspector-start-column":"16","trae-inspector-end-line":"280","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"278","trae-inspector-start-column":"18","trae-inspector-end-line":"278","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Toler%C3%A2ncia%22%2C%22textStartLine%22%3A%22278%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22278%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Tolerância"}),e.jsx(T,{type:"number",defaultValue:o.tolerance_km,onBlur:r=>C(o,o.interval_km,parseInt(r.target.value||"0",10))})]}),e.jsxs("div",{"trae-inspector-start-line":"281","trae-inspector-start-column":"16","trae-inspector-end-line":"295","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("p",{"trae-inspector-start-line":"282","trae-inspector-start-column":"18","trae-inspector-end-line":"282","trae-inspector-end-column":"78","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MaintenancePlansConfig.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Observa%C3%A7%C3%B5es%22%2C%22textStartLine%22%3A%22282%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22282%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:"Observações"}),e.jsx(T,{defaultValue:o.notes||"",onBlur:async r=>{try{const{error:a}=await D.from("maintenance_plans").update({notes:r.target.value}).eq("id",o.id);if(a)throw a}catch(a){console.error(a),v.error("Erro ao atualizar observações")}}})]})]})})]},o.id)),l.length===0&&e.jsx(y,{children:e.jsx(F,{className:"py-6",children:'Nenhum plano encontrado. Use "Carregar Padrões" ou adicione manualmente.'})})]})]})}function gt(){const{geocode:d,calculateRoute:B,loading:A}=ze(),[N,_]=m.useState("Distrito Industrial Diper, Cabo de Santo Agostinho, PE"),[u,g]=m.useState(null),x=async()=>{g(null);const L=await d(N);L?(g({type:"geocode",success:!0,data:L}),v.success("✅ Geocoding funcionando!")):(g({type:"geocode",success:!1}),v.error("❌ Erro no geocoding"))},w=async()=>{g(null);const l=await B({lat:-8.0476,lng:-34.877},{lat:-8.2722,lng:-35.028},"truck");l?(g({type:"route",success:!0,data:l}),v.success("✅ Roteirização funcionando!")):(g({type:"route",success:!1}),v.error("❌ Erro na roteirização"))};return e.jsxs(y,{children:[e.jsx(W,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5"}),"Teste TomTom APIs"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"69","trae-inspector-start-column":"8","trae-inspector-end-line":"82","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("label",{"trae-inspector-start-line":"70","trae-inspector-start-column":"10","trae-inspector-end-line":"70","trae-inspector-end-column":"97","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Teste%20Geocoding%20(Endere%C3%A7o%20%E2%86%92%20Coordenadas)%22%2C%22textStartLine%22%3A%2270%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2270%22%2C%22textEndColumn%22%3A%2289%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-medium",children:"Teste Geocoding (Endereço → Coordenadas)"}),e.jsxs("div",{"trae-inspector-start-line":"71","trae-inspector-start-column":"10","trae-inspector-end-line":"81","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(T,{value:N,onChange:L=>_(L.target.value),placeholder:"Digite um endereço..."}),e.jsxs(f,{onClick:x,disabled:A,children:[A?e.jsx(ve,{className:"w-4 h-4 animate-spin"}):e.jsx(Y,{className:"w-4 h-4"}),"Testar"]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"85","trae-inspector-start-column":"8","trae-inspector-end-line":"91","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx("label",{"trae-inspector-start-line":"86","trae-inspector-start-column":"10","trae-inspector-end-line":"86","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Teste%20Roteiriza%C3%A7%C3%A3o%20(Recife%20%E2%86%92%20Cabo)%22%2C%22textStartLine%22%3A%2286%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2286%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm font-medium",children:"Teste Roteirização (Recife → Cabo)"}),e.jsxs(f,{onClick:w,disabled:A,className:"w-full",children:[A?e.jsx(ve,{className:"w-4 h-4 animate-spin"}):e.jsx(xe,{className:"w-4 h-4"}),"Calcular Rota de Teste"]})]}),u&&e.jsxs("div",{"trae-inspector-start-line":"95","trae-inspector-start-column":"10","trae-inspector-end-line":"126","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`p-4 rounded-lg border ${u.success?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:[e.jsxs("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"12","trae-inspector-end-line":"109","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-2 mb-2",children:[u.success?e.jsx(Z,{className:"w-5 h-5 text-green-500"}):e.jsx(ie,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{"trae-inspector-start-line":"106","trae-inspector-start-column":"14","trae-inspector-end-line":"108","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"font-semibold",children:u.success?"Sucesso!":"Falhou"})]}),u.success&&u.type==="geocode"&&e.jsxs("div",{"trae-inspector-start-line":"112","trae-inspector-start-column":"14","trae-inspector-end-line":"116","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm space-y-1",children:[e.jsxs("p",{"trae-inspector-start-line":"113","trae-inspector-start-column":"16","trae-inspector-end-line":"113","trae-inspector-end-column":"91","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"113","trae-inspector-start-column":"19","trae-inspector-end-line":"113","trae-inspector-end-column":"45","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Endere%C3%A7o%3A%22%2C%22textStartLine%22%3A%22113%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22113%22%2C%22textEndColumn%22%3A%2236%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Endereço:"})," ",u.data.address.freeformAddress]}),e.jsxs("p",{"trae-inspector-start-line":"114","trae-inspector-start-column":"16","trae-inspector-end-line":"114","trae-inspector-end-column":"115","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"114","trae-inspector-start-column":"19","trae-inspector-end-line":"114","trae-inspector-end-column":"48","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Coordenadas%3A%22%2C%22textStartLine%22%3A%22114%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22114%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Coordenadas:"})," ",u.data.position.lat,", ",u.data.position.lon]}),e.jsxs("p",{"trae-inspector-start-line":"115","trae-inspector-start-column":"16","trae-inspector-end-line":"115","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"115","trae-inspector-start-column":"19","trae-inspector-end-line":"115","trae-inspector-end-column":"41","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pa%C3%ADs%3A%22%2C%22textStartLine%22%3A%22115%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22115%22%2C%22textEndColumn%22%3A%2232%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"País:"})," ",u.data.address.country]})]}),u.success&&u.type==="route"&&e.jsxs("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"14","trae-inspector-end-line":"124","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm space-y-1",children:[e.jsxs("p",{"trae-inspector-start-line":"121","trae-inspector-start-column":"16","trae-inspector-end-line":"121","trae-inspector-end-column":"100","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"121","trae-inspector-start-column":"19","trae-inspector-end-line":"121","trae-inspector-end-column":"46","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Dist%C3%A2ncia%3A%22%2C%22textStartLine%22%3A%22121%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22121%22%2C%22textEndColumn%22%3A%2237%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Distância:"})," ",(u.data.distance/1e3).toFixed(2)," km"]}),e.jsxs("p",{"trae-inspector-start-line":"122","trae-inspector-start-column":"16","trae-inspector-end-line":"122","trae-inspector-end-column":"98","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"122","trae-inspector-start-column":"19","trae-inspector-end-line":"122","trae-inspector-end-column":"42","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tempo%3A%22%2C%22textStartLine%22%3A%22122%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22122%22%2C%22textEndColumn%22%3A%2233%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Tempo:"})," ",Math.round(u.data.duration/60)," minutos"]}),e.jsxs("p",{"trae-inspector-start-line":"123","trae-inspector-start-column":"16","trae-inspector-end-line":"123","trae-inspector-end-column":"101","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("strong",{"trae-inspector-start-line":"123","trae-inspector-start-column":"19","trae-inspector-end-line":"123","trae-inspector-end-column":"51","trae-inspector-file-path":"src\\\\components\\\\maps\\\\MapTestPanel.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pontos%20na%20rota%3A%22%2C%22textStartLine%22%3A%22123%22%2C%22textStartColumn%22%3A%2227%22%2C%22textEndLine%22%3A%22123%22%2C%22textEndColumn%22%3A%2242%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"Pontos na rota:"})," ",u.data.geometry.coordinates.length]})]})]})]})]})}const we=-8.272213,be=-35.028048,me=120;function xt(){const[d,B]=m.useState(!1),[A,N]=m.useState(""),{toast:_}=Be(),{user:u}=z(),[g,x]=m.useState(null),w=(p,l,s,n)=>{const c=(s-p)*Math.PI/180,o=(n-l)*Math.PI/180,r=Math.sin(c/2)**2+Math.cos(p*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(o/2)**2;return 6371e3*2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))},L=async p=>{if(!u){_({title:"Erro",description:"Você precisa estar logado para bater o ponto.",variant:"destructive"});return}B(!0),N(`Obtendo localização para ${p}...`);try{if(!navigator.geolocation)throw new Error("Geolocalização não suportada pelo navegador");navigator.geolocation.getCurrentPosition(async l=>{const{latitude:s,longitude:n}=l.coords,C=w(s,n,we,be);if(C>me){N(`Você está ${C.toFixed(1)}m fora da área permitida.`),_({title:"Fora da área",description:`Você está ${C.toFixed(1)}m distante da oficina. É necessário estar dentro de ${me}m.`,variant:"destructive"}),B(!1);return}const{error:c}=await D.from("mechanic_clock_in").insert({mechanic_id:u.id,punch_type:p,latitude:s,longitude:n,distance:C,within_area:!0,timestamp:new Date().toISOString()});if(c)throw c;N("✅ Ponto registrado com sucesso!"),x(p),_({title:"Ponto registrado",description:`Tipo: ${p.toUpperCase()} • Distância: ${C.toFixed(1)}m da oficina`}),B(!1)},l=>{N("Erro ao obter localização. Permita o acesso ao GPS."),_({title:"Erro de localização",description:"Não foi possível obter sua localização. Verifique as permissões do navegador.",variant:"destructive"}),B(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}catch(l){console.error("Erro ao bater ponto:",l),N("Erro ao registrar ponto."),_({title:"Erro",description:"Não foi possível registrar o ponto. Tente novamente.",variant:"destructive"}),B(!1)}};return e.jsxs(y,{children:[e.jsx(W,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Controle de Ponto"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"128","trae-inspector-start-column":"8","trae-inspector-end-line":"141","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs(f,{onClick:()=>L("entrada"),disabled:d,size:"sm",variant:"default",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"})," Entrada"]}),e.jsxs(f,{onClick:()=>L("almoco_inicio"),disabled:d,size:"sm",variant:"secondary",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"})," Início Almoço"]}),e.jsxs(f,{onClick:()=>L("almoco_fim"),disabled:d,size:"sm",variant:"secondary",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"})," Fim Almoço"]}),e.jsxs(f,{onClick:()=>L("saida"),disabled:d,size:"sm",variant:"outline",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"})," Saída"]})]}),A&&e.jsxs("div",{"trae-inspector-start-line":"144","trae-inspector-start-column":"10","trae-inspector-end-line":"159","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:`flex items-center gap-2 p-3 rounded-lg ${A.includes("sucesso")?"bg-green-500/10 text-green-700 dark:text-green-400":A.includes("fora")?"bg-red-500/10 text-red-700 dark:text-red-400":"bg-blue-500/10 text-blue-700 dark:text-blue-400"}`,children:[A.includes("sucesso")?e.jsx(Z,{className:"h-4 w-4"}):A.includes("fora")?e.jsx(Ve,{className:"h-4 w-4"}):e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"158","trae-inspector-start-column":"12","trae-inspector-end-line":"158","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:A})]}),e.jsxs("div",{"trae-inspector-start-line":"162","trae-inspector-start-column":"8","trae-inspector-end-line":"166","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-xs text-muted-foreground",children:[e.jsxs("p",{"trae-inspector-start-line":"163","trae-inspector-start-column":"10","trae-inspector-end-line":"163","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["📍 Oficina: Lat ",we,", Lon ",be]}),e.jsxs("p",{"trae-inspector-start-line":"164","trae-inspector-start-column":"10","trae-inspector-end-line":"164","trae-inspector-end-column":"49","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["📏 Raio permitido: ",me," metros"]}),g&&e.jsxs("p",{"trae-inspector-start-line":"165","trae-inspector-start-column":"24","trae-inspector-end-line":"165","trae-inspector-end-column":"76","trae-inspector-file-path":"src\\\\components\\\\mechanic\\\\MechanicClockIn.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:["🕒 Última marcação: ",g.toUpperCase()]})]})]})]})}const rr=()=>e.jsx(ye,{children:e.jsxs("div",{"trae-inspector-start-line":"22","trae-inspector-start-column":"6","trae-inspector-end-line":"137","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"23","trae-inspector-start-column":"8","trae-inspector-end-line":"28","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"mb-8",children:[e.jsx("h1",{"trae-inspector-start-line":"24","trae-inspector-start-column":"10","trae-inspector-end-line":"24","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Portal%20do%20Mec%C3%A2nico%22%2C%22textStartLine%22%3A%2224%22%2C%22textStartColumn%22%3A%2250%22%2C%22textEndLine%22%3A%2224%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold mb-2",children:"Portal do Mecânico"}),e.jsx("p",{"trae-inspector-start-line":"25","trae-inspector-start-column":"10","trae-inspector-end-line":"27","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sistema%20completo%20de%20gest%C3%A3o%20de%20manuten%C3%A7%C3%A3o%2C%20ordens%20de%20servi%C3%A7o%20e%20monitoramento%20da%20frota%22%2C%22textStartLine%22%3A%2225%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%2227%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"Sistema completo de gestão de manutenção, ordens de serviço e monitoramento da frota"})]}),e.jsx(xt,{}),e.jsxs(Ae,{defaultValue:"orders",className:"space-y-6",children:[e.jsxs(fe,{className:"grid w-full grid-cols-3 sm:grid-cols-4 lg:grid-cols-10 gap-1",children:[e.jsxs(P,{value:"orders",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"37","trae-inspector-start-column":"14","trae-inspector-end-line":"37","trae-inspector-end-column":"73","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ordens%20de%20Servi%C3%A7o%22%2C%22textStartLine%22%3A%2237%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2237%22%2C%22textEndColumn%22%3A%2266%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Ordens de Serviço"}),e.jsx("span",{"trae-inspector-start-line":"38","trae-inspector-start-column":"14","trae-inspector-end-line":"38","trae-inspector-end-column":"51","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22OS%22%2C%22textStartLine%22%3A%2238%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2238%22%2C%22textEndColumn%22%3A%2244%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"OS"})]}),e.jsxs(P,{value:"lavajato",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"43","trae-inspector-start-column":"14","trae-inspector-end-line":"43","trae-inspector-end-column":"65","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Lava-Jato%22%2C%22textStartLine%22%3A%2243%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2243%22%2C%22textEndColumn%22%3A%2258%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Lava-Jato"}),e.jsx("span",{"trae-inspector-start-line":"44","trae-inspector-start-column":"14","trae-inspector-end-line":"44","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Lava%22%2C%22textStartLine%22%3A%2244%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2244%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"Lava"})]}),e.jsxs(P,{value:"borracharia",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"49","trae-inspector-start-column":"14","trae-inspector-end-line":"49","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Borracharia%22%2C%22textStartLine%22%3A%2249%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2249%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Borracharia"}),e.jsx("span",{"trae-inspector-start-line":"50","trae-inspector-start-column":"14","trae-inspector-end-line":"50","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pneu%22%2C%22textStartLine%22%3A%2250%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2250%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"Pneu"})]}),e.jsxs(P,{value:"tpms",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"55","trae-inspector-start-column":"14","trae-inspector-end-line":"55","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22TPMS%22%2C%22textStartLine%22%3A%2255%22%2C%22textStartColumn%22%3A%2220%22%2C%22textEndLine%22%3A%2255%22%2C%22textEndColumn%22%3A%2224%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:"TPMS"})]}),e.jsxs(P,{value:"workshop",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"60","trae-inspector-start-column":"14","trae-inspector-end-line":"60","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Oficina%22%2C%22textStartLine%22%3A%2260%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2260%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Oficina"}),e.jsx("span",{"trae-inspector-start-line":"61","trae-inspector-start-column":"14","trae-inspector-end-line":"61","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Ofic%22%2C%22textStartLine%22%3A%2261%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2261%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"Ofic"})]}),e.jsxs(P,{value:"checklist",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"66","trae-inspector-start-column":"14","trae-inspector-end-line":"66","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Checklists%22%2C%22textStartLine%22%3A%2266%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2266%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Checklists"}),e.jsx("span",{"trae-inspector-start-line":"67","trae-inspector-start-column":"14","trae-inspector-end-line":"67","trae-inspector-end-column":"54","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Check%22%2C%22textStartLine%22%3A%2267%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2267%22%2C%22textEndColumn%22%3A%2247%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"Check"})]}),e.jsxs(P,{value:"scheduler",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"72","trae-inspector-start-column":"14","trae-inspector-end-line":"72","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Agendamento%22%2C%22textStartLine%22%3A%2272%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2272%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Agendamento"}),e.jsx("span",{"trae-inspector-start-line":"73","trae-inspector-start-column":"14","trae-inspector-end-line":"73","trae-inspector-end-column":"54","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Agend%22%2C%22textStartLine%22%3A%2273%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2273%22%2C%22textEndColumn%22%3A%2247%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"Agend"})]}),e.jsxs(P,{value:"plans",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(Ge,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"78","trae-inspector-start-column":"14","trae-inspector-end-line":"78","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Planos%22%2C%22textStartLine%22%3A%2278%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2278%22%2C%22textEndColumn%22%3A%2255%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Planos"}),e.jsx("span",{"trae-inspector-start-line":"79","trae-inspector-start-column":"14","trae-inspector-end-line":"79","trae-inspector-end-column":"54","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Plano%22%2C%22textStartLine%22%3A%2279%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2279%22%2C%22textEndColumn%22%3A%2247%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"Plano"})]}),e.jsxs(P,{value:"parts",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"84","trae-inspector-start-column":"14","trae-inspector-end-line":"84","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pedido%20Pe%C3%A7as%22%2C%22textStartLine%22%3A%2284%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2284%22%2C%22textEndColumn%22%3A%2261%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Pedido Peças"}),e.jsx("span",{"trae-inspector-start-line":"85","trae-inspector-start-column":"14","trae-inspector-end-line":"85","trae-inspector-end-column":"54","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Pe%C3%A7as%22%2C%22textStartLine%22%3A%2285%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2285%22%2C%22textEndColumn%22%3A%2247%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"Peças"})]}),e.jsxs(P,{value:"test",className:"flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{"trae-inspector-start-line":"90","trae-inspector-start-column":"14","trae-inspector-end-line":"90","trae-inspector-end-column":"66","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Teste%20APIs%22%2C%22textStartLine%22%3A%2290%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2290%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"hidden sm:inline",children:"Teste APIs"}),e.jsx("span",{"trae-inspector-start-line":"91","trae-inspector-start-column":"14","trae-inspector-end-line":"91","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\pages\\\\Mechanic.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Test%22%2C%22textStartLine%22%3A%2291%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%2291%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"sm:hidden",children:"Test"})]})]}),e.jsx(M,{value:"orders",className:"space-y-6",children:e.jsx(rt,{})}),e.jsx(M,{value:"lavajato",className:"space-y-6",children:e.jsx(ot,{})}),e.jsx(M,{value:"borracharia",className:"space-y-6",children:e.jsx(mt,{})}),e.jsx(M,{value:"tpms",className:"space-y-6",children:e.jsx(at,{})}),e.jsx(M,{value:"workshop",className:"space-y-6",children:e.jsx(it,{})}),e.jsx(M,{value:"checklist",className:"space-y-6",children:e.jsx(ct,{})}),e.jsx(M,{value:"scheduler",className:"space-y-6",children:e.jsx(dt,{})}),e.jsx(M,{value:"plans",className:"space-y-6",children:e.jsx(ut,{})}),e.jsx(M,{value:"parts",className:"space-y-6",children:e.jsx(ht,{})}),e.jsx(M,{value:"test",className:"space-y-6",children:e.jsx(gt,{})})]})]})});export{rr as default};
