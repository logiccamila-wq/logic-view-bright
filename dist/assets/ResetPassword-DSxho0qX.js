import{u as h,r as n,d as r,j as e,B as u,s as w}from"./index-BiNiRHKa.js";import{I as p}from"./input-CbZeJBr9.js";import{L as C}from"./label-UYjdQhGu.js";import{C as x,a as f,b as v,c as b,d as j}from"./card-TfuIT_5Q.js";import{L as A}from"./lock-CyQbJQRV.js";const D="/assets/optilog-logo-C66nt7gk.png",L="/assets/ejg-logo-oqHRtMMg.png",B=()=>{const o=h(),[a,m]=n.useState(""),[c,d]=n.useState(""),[i,l]=n.useState(!1);n.useEffect(()=>{new URLSearchParams(window.location.hash.substring(1)).get("type")!=="recovery"&&(r.error("Link inválido ou expirado"),o("/login"))},[o]);const g=async s=>{if(s.preventDefault(),a!==c){r.error("As senhas não coincidem");return}if(a.length<6){r.error("A senha deve ter no mínimo 6 caracteres");return}l(!0);try{const{error:t}=await w.auth.updateUser({password:a});if(t)throw t;r.success("Senha redefinida com sucesso!"),o("/login")}catch(t){r.error(t.message||"Erro ao redefinir senha")}finally{l(!1)}};return e.jsx("div",{"trae-inspector-start-line":"62","trae-inspector-start-column":"4","trae-inspector-end-line":"113","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs(x,{className:"w-full max-w-md",children:[e.jsxs(f,{className:"text-center space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"65","trae-inspector-start-column":"10","trae-inspector-end-line":"69","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center gap-4 mb-4",children:[e.jsx("img",{"trae-inspector-start-line":"66","trae-inspector-start-column":"12","trae-inspector-end-line":"66","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",src:D,alt:"OptiLog",className:"h-12 w-auto"}),e.jsx("div",{"trae-inspector-start-line":"67","trae-inspector-start-column":"12","trae-inspector-end-line":"67","trae-inspector-end-column":"51","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"h-12 w-px bg-border"}),e.jsx("img",{"trae-inspector-start-line":"68","trae-inspector-start-column":"12","trae-inspector-end-line":"68","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",src:L,alt:"EJG Transportes",className:"h-12 w-12"})]}),e.jsx(v,{className:"text-2xl",children:"Nova Senha"}),e.jsx(b,{className:"text-muted-foreground",children:"Digite sua nova senha"})]}),e.jsx(j,{children:e.jsxs("form",{"trae-inspector-start-line":"76","trae-inspector-start-column":"10","trae-inspector-end-line":"110","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"77","trae-inspector-start-column":"12","trae-inspector-end-line":"89","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(C,{htmlFor:"password",children:"Nova Senha *"}),e.jsx(p,{id:"password",type:"password",placeholder:"••••••••",value:a,onChange:s=>m(s.target.value),required:!0,disabled:i,minLength:6})]}),e.jsxs("div",{"trae-inspector-start-line":"90","trae-inspector-start-column":"12","trae-inspector-end-line":"102","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-2",children:[e.jsx(C,{htmlFor:"confirmPassword",children:"Confirmar Senha *"}),e.jsx(p,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:c,onChange:s=>d(s.target.value),required:!0,disabled:i,minLength:6})]}),e.jsx(u,{type:"submit",className:"w-full",size:"lg",disabled:i,children:i?"Salvando...":"SALVAR NOVA SENHA"}),e.jsxs("p",{"trae-inspector-start-line":"106","trae-inspector-start-column":"12","trae-inspector-end-line":"109","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ResetPassword.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center text-xs text-muted-foreground flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-3 h-3"}),"Dados protegidos com criptografia"]})]})})]})})};export{B as default};
