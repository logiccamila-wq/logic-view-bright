import{r as i,j as e,B as l}from"./index-BiNiRHKa.js";import{L as h}from"./Layout-Dp_kOeVO.js";import{C as p,d as C,a as x,b as v}from"./card-TfuIT_5Q.js";import"./index-DIpBNjZJ.js";import"./index-CwEJSXtc.js";import"./index-CDnZEIrr.js";import"./badge-DNXvGi58.js";import"./select-QQKt8PR4.js";import"./index-BjTUNxlL.js";import"./chevron-down-CMfBZ8DZ.js";import"./check-CRXfG46A.js";import"./user-DUMs6VdZ.js";import"./triangle-alert-DWEkvv_3.js";import"./circle-check-big-SjvrQ4v6.js";import"./warehouse-DuizGI0Y.js";import"./trending-up-DqnRdfA9.js";import"./settings-ADCDQZ7C.js";import"./sparkles-Dn6_ZUdd.js";import"./input-CbZeJBr9.js";import"./tabs-D0EqSZrJ.js";function k(){const[m,d]=i.useState([]),[u,a]=i.useState(!1),[n,o]=i.useState(""),c=async()=>{a(!0),o("");try{const t=await(await fetch("/api/supergestor-insights")).json(),s=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),g=[{title:"Receita Total (12m)",value:s.format(t.receitaTotal||0)},{title:"ICMS Total (12m)",value:s.format(t.icmsTotal||0)},{title:"Veículos Ativos",value:t.vehiclesActive||0},{title:"Ordens Pendentes",value:t.ordersPending||0},{title:"NCs Críticas",value:t.criticalNC||0},{title:"Rotas em Andamento",value:t.tripsRunning||0},{title:"Custo/KM Médio",value:t.avgCostKm||"--"},{title:"Previsões Manutenção (30d)",value:t.predictedMaint||0}];d(g)}catch(r){const t=r instanceof Error?r.message:String(r);o(t||"Falha ao carregar insights")}finally{a(!1)}};return i.useEffect(()=>{c()},[]),e.jsx(h,{children:e.jsxs("div",{"trae-inspector-start-line":"47","trae-inspector-start-column":"6","trae-inspector-end-line":"86","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\SuperGestor.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"48","trae-inspector-start-column":"8","trae-inspector-end-line":"51","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\SuperGestor.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx("h1",{"trae-inspector-start-line":"49","trae-inspector-start-column":"10","trae-inspector-end-line":"49","trae-inspector-end-column":"61","trae-inspector-file-path":"src\\\\pages\\\\SuperGestor.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Supergestor%22%2C%22textStartLine%22%3A%2249%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%2249%22%2C%22textEndColumn%22%3A%2256%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold",children:"Supergestor"}),e.jsx("p",{"trae-inspector-start-line":"50","trae-inspector-start-column":"10","trae-inspector-end-line":"50","trae-inspector-end-column":"104","trae-inspector-file-path":"src\\\\pages\\\\SuperGestor.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22IA%20integrada%20para%20decis%C3%B5es%20operacionais%20e%20financeiras%22%2C%22textStartLine%22%3A%2250%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%2250%22%2C%22textEndColumn%22%3A%22100%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-muted-foreground",children:"IA integrada para decisões operacionais e financeiras"})]}),n&&e.jsx(p,{className:"border-destructive",children:e.jsx(C,{className:"p-4 text-destructive",children:n})}),e.jsx("div",{"trae-inspector-start-line":"59","trae-inspector-start-column":"8","trae-inspector-end-line":"71","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\SuperGestor.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:m.map((r,t)=>e.jsxs(p,{children:[e.jsx(x,{children:e.jsx(v,{children:r.title})}),e.jsxs(C,{children:[e.jsx("div",{"trae-inspector-start-line":"66","trae-inspector-start-column":"16","trae-inspector-end-line":"66","trae-inspector-end-column":"67","trae-inspector-file-path":"src\\\\pages\\\\SuperGestor.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-2xl font-bold",children:r.value}),r.detail&&e.jsx("p",{"trae-inspector-start-line":"67","trae-inspector-start-column":"29","trae-inspector-end-line":"67","trae-inspector-end-column":"93","trae-inspector-file-path":"src\\\\pages\\\\SuperGestor.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mt-1",children:r.detail})]})]},t))}),e.jsxs("div",{"trae-inspector-start-line":"73","trae-inspector-start-column":"8","trae-inspector-end-line":"85","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\SuperGestor.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[e.jsx(l,{onClick:c,disabled:u,children:"Atualizar Insights"}),e.jsx(l,{variant:"outline",onClick:async()=>{var r;try{const s=await(await fetch("/api/predict-maintenance")).json();alert(`Previstos: ${((r=s.predictions)==null?void 0:r.length)||0}`)}catch(t){const s=t instanceof Error?t.message:String(t);alert(`Falha ao rodar preditivo: ${s}`)}},children:"Rodar Preditivo"})]})]})})}export{k as default};
