import{c as Be,a3 as Oe,d as y,s as S,r as p,j as e,B as v,O as V,K as Te,Q as Fe,Y as A,aM as z}from"./index-BiNiRHKa.js";import{L as Ue,P as Re,w as Pe,T as Ie}from"./Layout-Dp_kOeVO.js";import{I as x}from"./input-CbZeJBr9.js";import{C as B,d as O}from"./card-TfuIT_5Q.js";import{B as k}from"./badge-DNXvGi58.js";import{S as _}from"./StatCard-D_xC6Z5I.js";import{u as Me}from"./useQuery-CFkLnJnT.js";import{u as T}from"./useMutation-B5QQ2ld7.js";import{D as G,a as H,b as Q,c as K}from"./dialog-Cg8eQnwj.js";import{L as g}from"./label-UYjdQhGu.js";import{S as F,a as U,b as R,c as P,d as u}from"./select-QQKt8PR4.js";import{S as q}from"./switch-kUc4mnC_.js";import{d as W,R as $e,P as ke,W as qe,a as Ve,c as ze,D as Ge,b as Y,O as He,T as Qe}from"./index-DIpBNjZJ.js";import{U as L}from"./user-DUMs6VdZ.js";import{S as Ke}from"./search-DMtVIRGP.js";import{S as We}from"./square-pen-BKtFd8mk.js";import{C as Ye}from"./chevron-right-DH1dJvo_.js";import"./index-CwEJSXtc.js";import"./check-CRXfG46A.js";import"./triangle-alert-DWEkvv_3.js";import"./circle-check-big-SjvrQ4v6.js";import"./warehouse-DuizGI0Y.js";import"./trending-up-DqnRdfA9.js";import"./settings-ADCDQZ7C.js";import"./sparkles-Dn6_ZUdd.js";import"./tabs-D0EqSZrJ.js";import"./index-CDnZEIrr.js";import"./index-BjTUNxlL.js";import"./chevron-down-CMfBZ8DZ.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xe=Be("chevron-left",Je);function Ze(r="",a=1,t=10){const n=Oe(),{data:l,isLoading:o,error:c}=Me({queryKey:["employees",r,a,t],queryFn:async()=>{let m=S.from("employees").select("*",{count:"exact"}).order("created_at",{ascending:!1});r&&(m=m.or(`nome.ilike.%${r}%,cpf.ilike.%${r}%,email.ilike.%${r}%`));const h=(a-1)*t,f=h+t-1;m=m.range(h,f);const{data:j,error:N,count:w}=await m;if(N)throw N;return{employees:j||[],totalCount:w||0,totalPages:Math.ceil((w||0)/t)}}}),C=T({mutationFn:async m=>{const{data:h,error:f}=await S.from("employees").insert([m]).select().single();if(f)throw f;return h},onSuccess:()=>{n.invalidateQueries({queryKey:["employees"]}),y.success("Funcionário cadastrado com sucesso!")},onError:m=>{y.error(`Erro ao cadastrar funcionário: ${m.message}`)}}),s=T({mutationFn:async({id:m,...h})=>{const{data:f,error:j}=await S.from("employees").update(h).eq("id",m).select().single();if(j)throw j;return f},onSuccess:()=>{n.invalidateQueries({queryKey:["employees"]}),y.success("Funcionário atualizado com sucesso!")},onError:m=>{y.error(`Erro ao atualizar funcionário: ${m.message}`)}}),d=T({mutationFn:async m=>{const{error:h}=await S.from("employees").delete().eq("id",m);if(h)throw h},onSuccess:()=>{n.invalidateQueries({queryKey:["employees"]}),y.success("Funcionário excluído com sucesso!")},onError:m=>{y.error(`Erro ao excluir funcionário: ${m.message}`)}});return{employees:(l==null?void 0:l.employees)||[],totalCount:(l==null?void 0:l.totalCount)||0,totalPages:(l==null?void 0:l.totalPages)||0,isLoading:o,error:c,createEmployee:C,updateEmployee:s,deleteEmployee:d}}function et({open:r,onOpenChange:a,employee:t,onSave:n,isSaving:l}){const[o,c]=p.useState({nome:"",cpf:"",rg:"",cargo:"",tipo_vinculo:"CLT",data_admissao:"",salario:0,telefone:"",email:"",cidade:"",endereco:""});p.useEffect(()=>{c(t||{nome:"",cpf:"",rg:"",cargo:"",tipo_vinculo:"CLT",data_admissao:"",salario:0,telefone:"",email:"",cidade:"",endereco:""})},[t,r]);const C=s=>{s.preventDefault(),n(o)};return e.jsx(G,{open:r,onOpenChange:a,children:e.jsxs(H,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Q,{children:e.jsx(K,{children:t?"Editar Funcionário":"Novo Funcionário"})}),e.jsxs("form",{"trae-inspector-start-line":"72","trae-inspector-start-column":"8","trae-inspector-end-line":"203","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"73","trae-inspector-start-column":"10","trae-inspector-end-line":"184","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"trae-inspector-start-line":"74","trae-inspector-start-column":"12","trae-inspector-end-line":"82","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"nome",children:"Nome Completo *"}),e.jsx(x,{id:"nome",value:o.nome,onChange:s=>c({...o,nome:s.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"84","trae-inspector-start-column":"12","trae-inspector-end-line":"92","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"cpf",children:"CPF *"}),e.jsx(x,{id:"cpf",value:o.cpf,onChange:s=>c({...o,cpf:s.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"12","trae-inspector-end-line":"101","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"rg",children:"RG"}),e.jsx(x,{id:"rg",value:o.rg||"",onChange:s=>c({...o,rg:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"103","trae-inspector-start-column":"12","trae-inspector-end-line":"111","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"cargo",children:"Cargo *"}),e.jsx(x,{id:"cargo",value:o.cargo,onChange:s=>c({...o,cargo:s.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"113","trae-inspector-start-column":"12","trae-inspector-end-line":"131","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"tipo_vinculo",children:"Tipo de Vínculo *"}),e.jsxs(F,{value:o.tipo_vinculo,onValueChange:s=>c({...o,tipo_vinculo:s}),children:[e.jsx(U,{children:e.jsx(R,{})}),e.jsxs(P,{children:[e.jsx(u,{value:"CLT",children:"CLT"}),e.jsx(u,{value:"SOCIO",children:"Sócio"}),e.jsx(u,{value:"CONSULTOR",children:"Consultor"}),e.jsx(u,{value:"PRESTADOR",children:"Prestador"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"133","trae-inspector-start-column":"12","trae-inspector-end-line":"142","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"data_admissao",children:"Data de Admissão *"}),e.jsx(x,{id:"data_admissao",type:"date",value:o.data_admissao,onChange:s=>c({...o,data_admissao:s.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"144","trae-inspector-start-column":"12","trae-inspector-end-line":"155","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"salario",children:"Salário"}),e.jsx(x,{id:"salario",type:"number",step:"0.01",value:o.salario||"",onChange:s=>c({...o,salario:parseFloat(s.target.value)})})]}),e.jsxs("div",{"trae-inspector-start-line":"157","trae-inspector-start-column":"12","trae-inspector-end-line":"164","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"telefone",children:"Telefone"}),e.jsx(x,{id:"telefone",value:o.telefone||"",onChange:s=>c({...o,telefone:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"12","trae-inspector-end-line":"174","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"email",children:"E-mail"}),e.jsx(x,{id:"email",type:"email",value:o.email||"",onChange:s=>c({...o,email:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"176","trae-inspector-start-column":"12","trae-inspector-end-line":"183","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"cidade",children:"Cidade"}),e.jsx(x,{id:"cidade",value:o.cidade||"",onChange:s=>c({...o,cidade:s.target.value})})]})]}),e.jsxs("div",{"trae-inspector-start-line":"186","trae-inspector-start-column":"10","trae-inspector-end-line":"193","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"endereco",children:"Endereço"}),e.jsx(x,{id:"endereco",value:o.endereco||"",onChange:s=>c({...o,endereco:s.target.value})})]}),e.jsxs("div",{"trae-inspector-start-line":"195","trae-inspector-start-column":"10","trae-inspector-end-line":"202","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\employees\\\\EmployeeDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),e.jsx(v,{type:"submit",disabled:l,children:l?"Salvando...":"Salvar"})]})]})]})})}function tt({open:r,onOpenChange:a,driver:t,employeeId:n,onSave:l,isSaving:o}){const[c,C]=p.useState({employee_id:n,categoria_cnh:"",validade_cnh:"",treinamento_mopp:!1,aptidao_medica:!1,status_operacional:"ATIVO"});p.useEffect(()=>{C(t||{employee_id:n,categoria_cnh:"",validade_cnh:"",treinamento_mopp:!1,aptidao_medica:!1,status_operacional:"ATIVO"})},[t,n,r]);const s=d=>{d.preventDefault(),l(c)};return e.jsx(G,{open:r,onOpenChange:a,children:e.jsxs(H,{children:[e.jsx(Q,{children:e.jsx(K,{children:t?"Editar Dados do Motorista":"Cadastrar como Motorista"})}),e.jsxs("form",{"trae-inspector-start-line":"65","trae-inspector-start-column":"8","trae-inspector-end-line":"153","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\drivers\\\\DriverDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",onSubmit:s,className:"space-y-4",children:[e.jsxs("div",{"trae-inspector-start-line":"66","trae-inspector-start-column":"10","trae-inspector-end-line":"89","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\drivers\\\\DriverDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"categoria_cnh",children:"Categoria CNH *"}),e.jsxs(F,{value:c.categoria_cnh,onValueChange:d=>C({...c,categoria_cnh:d}),children:[e.jsx(U,{children:e.jsx(R,{placeholder:"Selecione"})}),e.jsxs(P,{children:[e.jsx(u,{value:"A",children:"A"}),e.jsx(u,{value:"B",children:"B"}),e.jsx(u,{value:"C",children:"C"}),e.jsx(u,{value:"D",children:"D"}),e.jsx(u,{value:"E",children:"E"}),e.jsx(u,{value:"AB",children:"AB"}),e.jsx(u,{value:"AC",children:"AC"}),e.jsx(u,{value:"AD",children:"AD"}),e.jsx(u,{value:"AE",children:"AE"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"10","trae-inspector-end-line":"102","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\drivers\\\\DriverDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"validade_cnh",children:"Validade CNH *"}),e.jsx(x,{id:"validade_cnh",type:"date",value:c.validade_cnh,onChange:d=>C({...c,validade_cnh:d.target.value}),required:!0})]}),e.jsxs("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"10","trae-inspector-end-line":"121","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\drivers\\\\DriverDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",children:[e.jsx(g,{htmlFor:"status_operacional",children:"Status Operacional"}),e.jsxs(F,{value:c.status_operacional,onValueChange:d=>C({...c,status_operacional:d}),children:[e.jsx(U,{children:e.jsx(R,{})}),e.jsxs(P,{children:[e.jsx(u,{value:"ATIVO",children:"Ativo"}),e.jsx(u,{value:"FERIAS",children:"Férias"}),e.jsx(u,{value:"AFASTADO",children:"Afastado"})]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"123","trae-inspector-start-column":"10","trae-inspector-end-line":"132","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\drivers\\\\DriverDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx(g,{htmlFor:"treinamento_mopp",children:"Treinamento MOPP"}),e.jsx(q,{id:"treinamento_mopp",checked:c.treinamento_mopp,onCheckedChange:d=>C({...c,treinamento_mopp:d})})]}),e.jsxs("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"10","trae-inspector-end-line":"143","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\drivers\\\\DriverDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx(g,{htmlFor:"aptidao_medica",children:"Aptidão Médica"}),e.jsx(q,{id:"aptidao_medica",checked:c.aptidao_medica,onCheckedChange:d=>C({...c,aptidao_medica:d})})]}),e.jsxs("div",{"trae-inspector-start-line":"145","trae-inspector-start-column":"10","trae-inspector-end-line":"152","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\drivers\\\\DriverDialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex justify-end gap-2",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),e.jsx(v,{type:"submit",disabled:o,children:o?"Salvando...":"Salvar"})]})]})]})})}var rt=Symbol("radix.slottable");function at(r){const a=({children:t})=>e.jsx(e.Fragment,{children:t});return a.displayName=`${r}.Slottable`,a.__radixId=rt,a}var J="AlertDialog",[st]=Te(J,[W]),D=W(),X=r=>{const{__scopeAlertDialog:a,...t}=r,n=D(a);return e.jsx($e,{...n,...t,modal:!0})};X.displayName=J;var it="AlertDialogTrigger",ot=p.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...n}=r,l=D(t);return e.jsx(Qe,{...l,...n,ref:a})});ot.displayName=it;var nt="AlertDialogPortal",Z=r=>{const{__scopeAlertDialog:a,...t}=r,n=D(a);return e.jsx(ke,{...n,...t})};Z.displayName=nt;var ct="AlertDialogOverlay",ee=p.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...n}=r,l=D(t);return e.jsx(He,{...l,...n,ref:a})});ee.displayName=ct;var b="AlertDialogContent",[lt,pt]=st(b),dt=at("AlertDialogContent"),te=p.forwardRef((r,a)=>{const{__scopeAlertDialog:t,children:n,...l}=r,o=D(t),c=p.useRef(null),C=V(a,c),s=p.useRef(null);return e.jsx(qe,{contentName:b,titleName:re,docsSlug:"alert-dialog",children:e.jsx(lt,{scope:t,cancelRef:s,children:e.jsxs(Ve,{role:"alertdialog",...o,...l,ref:C,onOpenAutoFocus:Fe(l.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=s.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(dt,{children:n}),e.jsx(Ct,{contentRef:c})]})})})});te.displayName=b;var re="AlertDialogTitle",ae=p.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...n}=r,l=D(t);return e.jsx(ze,{...l,...n,ref:a})});ae.displayName=re;var se="AlertDialogDescription",ie=p.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...n}=r,l=D(t);return e.jsx(Ge,{...l,...n,ref:a})});ie.displayName=se;var mt="AlertDialogAction",oe=p.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...n}=r,l=D(t);return e.jsx(Y,{...l,...n,ref:a})});oe.displayName=mt;var ne="AlertDialogCancel",ce=p.forwardRef((r,a)=>{const{__scopeAlertDialog:t,...n}=r,{cancelRef:l}=pt(ne,t),o=D(t),c=V(a,l);return e.jsx(Y,{...o,...n,ref:c})});ce.displayName=ne;var Ct=({contentRef:r})=>{const a=`\`${b}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${b}\` by passing a \`${se}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${b}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=r.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(a)},[a,r]),null},ut=X,gt=Z,le=ee,pe=te,de=oe,me=ce,Ce=ae,ue=ie;const ht=ut,xt=gt,ge=p.forwardRef(({className:r,...a},t)=>e.jsx(le,{className:A("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:t}));ge.displayName=le.displayName;const he=p.forwardRef(({className:r,...a},t)=>e.jsxs(xt,{children:[e.jsx(ge,{}),e.jsx(pe,{ref:t,className:A("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...a})]}));he.displayName=pe.displayName;const xe=({className:r,...a})=>e.jsx("div",{"trae-inspector-start-line":"47","trae-inspector-start-column":"2","trae-inspector-end-line":"47","trae-inspector-end-column":"98","trae-inspector-file-path":"src\\\\components\\\\ui\\\\alert-dialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:A("flex flex-col space-y-2 text-center sm:text-left",r),...a});xe.displayName="AlertDialogHeader";const ve=({className:r,...a})=>e.jsx("div",{"trae-inspector-start-line":"52","trae-inspector-start-column":"2","trae-inspector-end-line":"52","trae-inspector-end-column":"111","trae-inspector-file-path":"src\\\\components\\\\ui\\\\alert-dialog.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:A("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...a});ve.displayName="AlertDialogFooter";const fe=p.forwardRef(({className:r,...a},t)=>e.jsx(Ce,{ref:t,className:A("text-lg font-semibold",r),...a}));fe.displayName=Ce.displayName;const De=p.forwardRef(({className:r,...a},t)=>e.jsx(ue,{ref:t,className:A("text-sm text-muted-foreground",r),...a}));De.displayName=ue.displayName;const Ae=p.forwardRef(({className:r,...a},t)=>e.jsx(de,{ref:t,className:A(z(),r),...a}));Ae.displayName=de.displayName;const je=p.forwardRef(({className:r,...a},t)=>e.jsx(me,{ref:t,className:A(z({variant:"outline"}),"mt-2 sm:mt-0",r),...a}));je.displayName=me.displayName;const Kt=()=>{const[r,a]=p.useState(""),[t,n]=p.useState(1),[l,o]=p.useState(!1),[c,C]=p.useState(!1),[s,d]=p.useState(null),[m,h]=p.useState(!1),[f,j]=p.useState(null),N=10,{employees:w,totalCount:we,totalPages:E,isLoading:ye,createEmployee:I,updateEmployee:M,deleteEmployee:be}=Ze(r,t,N),$=i=>{d(i||null),o(!0)},Ne=i=>{d(i),C(!0)},Ee=async i=>{s!=null&&s.id?await M.mutateAsync({id:s.id,...i}):await I.mutateAsync(i),o(!1),d(null)},Se=i=>{j(i),h(!0)},_e=async()=>{f&&(await be.mutateAsync(f),h(!1),j(null))},Le=i=>({CLT:"bg-blue-500/20 text-blue-600",SOCIO:"bg-purple-500/20 text-purple-600",CONSULTOR:"bg-green-500/20 text-green-600",PRESTADOR:"bg-orange-500/20 text-orange-600"})[i]||"bg-gray-500/20 text-gray-600";return e.jsx(Ue,{children:e.jsxs("div",{"trae-inspector-start-line":"90","trae-inspector-start-column":"6","trae-inspector-end-line":"262","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"space-y-6",children:[e.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"8","trae-inspector-end-line":"97","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsx("h1",{"trae-inspector-start-line":"92","trae-inspector-start-column":"10","trae-inspector-end-line":"92","trae-inspector-end-column":"72","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gest%C3%A3o%20de%20Funcion%C3%A1rios%22%2C%22textStartLine%22%3A%2292%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%2292%22%2C%22textEndColumn%22%3A%2267%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-3xl font-bold",children:"Gestão de Funcionários"}),e.jsxs(v,{className:"gap-2",onClick:()=>$(),children:[e.jsx(Re,{className:"w-4 h-4"}),"Adicionar Funcionário"]})]}),e.jsx(et,{open:l,onOpenChange:o,employee:s,onSave:Ee,isSaving:I.isPending||M.isPending}),e.jsx(tt,{open:c,onOpenChange:C,driver:null,employeeId:(s==null?void 0:s.id)||"",onSave:async i=>{C(!1)}}),e.jsx(ht,{open:m,onOpenChange:h,children:e.jsxs(he,{children:[e.jsxs(xe,{children:[e.jsx(fe,{children:"Confirmar Exclusão"}),e.jsx(De,{children:"Tem certeza que deseja excluir este funcionário? Esta ação não pode ser desfeita."})]}),e.jsxs(ve,{children:[e.jsx(je,{children:"Cancelar"}),e.jsx(Ae,{onClick:_e,children:"Excluir"})]})]})}),e.jsxs("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"8","trae-inspector-end-line":"151","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(_,{title:"Total de Funcionários",value:we.toString(),icon:L}),e.jsx(_,{title:"Motoristas",value:w.filter(i=>i.cargo==="MOTORISTA").length.toString(),icon:Pe}),e.jsx(_,{title:"CLT",value:w.filter(i=>i.tipo_vinculo==="CLT").length.toString(),icon:L}),e.jsx(_,{title:"Sócios",value:w.filter(i=>i.tipo_vinculo==="SOCIO").length.toString(),icon:L})]}),e.jsx(B,{children:e.jsx(O,{className:"p-4",children:e.jsxs("div",{"trae-inspector-start-line":"156","trae-inspector-start-column":"12","trae-inspector-end-line":"167","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(x,{placeholder:"Buscar por nome, CPF ou email...",className:"pl-10",value:r,onChange:i=>{a(i.target.value),n(1)}})]})})}),ye?e.jsx(B,{children:e.jsx(O,{className:"p-6",children:e.jsx("p",{"trae-inspector-start-line":"175","trae-inspector-start-column":"14","trae-inspector-end-line":"175","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Carregando...%22%2C%22textStartLine%22%3A%22175%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22175%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-center text-muted-foreground",children:"Carregando..."})})}):e.jsx("div",{"trae-inspector-start-line":"179","trae-inspector-start-column":"10","trae-inspector-end-line":"235","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"grid gap-4",children:w.map(i=>e.jsx(B,{children:e.jsx(O,{className:"p-6",children:e.jsxs("div",{"trae-inspector-start-line":"183","trae-inspector-start-column":"18","trae-inspector-end-line":"231","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-between",children:[e.jsxs("div",{"trae-inspector-start-line":"184","trae-inspector-start-column":"20","trae-inspector-end-line":"204","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{"trae-inspector-start-line":"185","trae-inspector-start-column":"22","trae-inspector-end-line":"187","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{"trae-inspector-start-line":"188","trae-inspector-start-column":"22","trae-inspector-end-line":"203","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex-1",children:[e.jsxs("div",{"trae-inspector-start-line":"189","trae-inspector-start-column":"24","trae-inspector-end-line":"195","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center gap-3 flex-wrap",children:[e.jsx("h3",{"trae-inspector-start-line":"190","trae-inspector-start-column":"26","trae-inspector-end-line":"190","trae-inspector-end-column":"84","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-lg font-semibold",children:i.nome}),e.jsx(k,{className:Le(i.tipo_vinculo),children:i.tipo_vinculo}),e.jsx(k,{variant:"outline",children:i.cargo})]}),e.jsxs("p",{"trae-inspector-start-line":"196","trae-inspector-start-column":"24","trae-inspector-end-line":"198","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground mt-1",children:["CPF: ",i.cpf," ",i.email&&`• ${i.email}`]}),e.jsxs("p",{"trae-inspector-start-line":"199","trae-inspector-start-column":"24","trae-inspector-end-line":"202","trae-inspector-end-column":"28","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm text-muted-foreground",children:["Admitido em: ",new Date(i.data_admissao).toLocaleDateString("pt-BR"),i.salario&&` • Salário: R$ ${i.salario.toFixed(2)}`]})]})]}),e.jsxs("div",{"trae-inspector-start-line":"205","trae-inspector-start-column":"20","trae-inspector-end-line":"230","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex gap-2",children:[i.cargo==="MOTORISTA"&&e.jsx(v,{variant:"outline",size:"sm",onClick:()=>Ne(i),children:"Dados de Motorista"}),e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>$(i),children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx(v,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>Se(i.id),children:e.jsx(Ie,{className:"w-4 h-4"})})]})]})})},i.id))}),E>1&&e.jsxs("div",{"trae-inspector-start-line":"240","trae-inspector-start-column":"10","trae-inspector-end-line":"260","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"flex items-center justify-center gap-2",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>n(i=>Math.max(1,i-1)),disabled:t===1,children:e.jsx(Xe,{className:"w-4 h-4"})}),e.jsxs("span",{"trae-inspector-start-line":"249","trae-inspector-start-column":"12","trae-inspector-end-line":"251","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\pages\\\\Employees.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5CCamila%20Lareste%5C%5CDocuments%5C%5Clogic-view-bright-main%5C%5Clogic-view-bright-main%22%7D",className:"text-sm",children:["Página ",t," de ",E]}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>n(i=>Math.min(E,i+1)),disabled:t===E,children:e.jsx(Ye,{className:"w-4 h-4"})})]})]})})};export{Kt as default};
