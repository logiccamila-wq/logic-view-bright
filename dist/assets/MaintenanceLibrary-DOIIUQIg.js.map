{"version":3,"file":"MaintenanceLibrary-DOIIUQIg.js","sources":["../../src/pages/MaintenanceLibrary.tsx"],"sourcesContent":["import { Layout } from \"@/components/Layout\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useState } from \"react\";\nimport { supabase } from \"@/integrations/supabase/client\";\n\nconst sample = {\n  maintenance_library: [\n    {\n      manufacturer: \"Scania\",\n      model_family: \"Series R\",\n      engine_type: \"DC13\",\n      application: \"Rodoviário Pesado\",\n      maintenance_plans: [\n        { plan_type: \"S\", description: \"Lubrificação e verificações\", intervals: { kilometers: 20000, months: 6 }, tasks: [{ code: \"ENG-01\", item: \"Óleo do Motor\", action: \"Trocar\", part_spec: \"LDF-3\" }] },\n        { plan_type: \"M\", description: \"Revisão Intermediária\", intervals: { kilometers: 60000 }, tasks: [] }\n      ]\n    }\n  ]\n};\n\nconst MaintenanceLibrary = () => {\n  const [json, setJson] = useState(JSON.stringify(sample, null, 2));\n  const addVolvo = () => {\n    const data = JSON.parse(json);\n    data.maintenance_library.push({\n      manufacturer: \"Volvo\",\n      model_family: \"FH/FM\",\n      engine_type: \"D13\",\n      application: \"Rodoviário Pesado\",\n      maintenance_plans: [\n        { plan_type: \"Básica\", description: \"VDS-4.5\", intervals: { kilometers: 40000, months: 12 }, tasks: [{ code: \"ENG-02\", item: \"Óleo do Motor\", action: \"Trocar\", part_spec: \"VDS-4.5\" }] }\n      ]\n    });\n    setJson(JSON.stringify(data, null, 2));\n  };\n  const addMercedes = () => {\n    const data = JSON.parse(json);\n    data.maintenance_library.push({\n      manufacturer: \"Mercedes-Benz\",\n      model_family: \"Actros/Atego\",\n      engine_type: \"OM\",\n      application: \"Rodoviário\",\n      maintenance_plans: [\n        { plan_type: \"Serviço\", description: \"Assyst\", intervals: { kilometers: 30000, months: 12 }, tasks: [] }\n      ]\n    });\n    setJson(JSON.stringify(data, null, 2));\n  };\n\n  const save = async () => {\n    const payload = JSON.parse(json);\n    await supabase.from(\"integration_settings\" as any).upsert({ key: \"maintenance_library\", value: payload }, { onConflict: \"key\" });\n  };\n\n  return (\n    <Layout>\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-bold\">Biblioteca OEM de Manutenção</h1>\n        <Card className=\"p-4\">\n          <Textarea rows={20} value={json} onChange={(e)=>setJson(e.target.value)} />\n          <div className=\"flex justify-between mt-3\">\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" onClick={addVolvo}>Adicionar Volvo</Button>\n              <Button variant=\"outline\" onClick={addMercedes}>Adicionar Mercedes</Button>\n            </div>\n            <Button onClick={save}>Salvar</Button>\n          </div>\n        </Card>\n      </div>\n    </Layout>\n  );\n};\n\nexport default MaintenanceLibrary;\n"],"names":["sample","maintenance_library","manufacturer","model_family","engine_type","application","maintenance_plans","plan_type","description","intervals","kilometers","months","tasks","code","item","action","part_spec","MaintenanceLibrary","json","setJson","useState","JSON","stringify","addVolvo","data","parse","push","addMercedes","save","payload","supabase","from","upsert","key","value","onConflict","Layout","jsxs","jsx","Card","Textarea","e","target","Button"],"mappings":"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"}