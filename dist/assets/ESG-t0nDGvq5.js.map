{"version":3,"file":"ESG-t0nDGvq5.js","sources":["../../node_modules/lucide-react/dist/esm/icons/droplets.js","../../node_modules/lucide-react/dist/esm/icons/recycle.js","../../src/pages/ESG.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z\",\n      key: \"1ptgy4\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97\",\n      key: \"1sl1rz\"\n    }\n  ]\n];\nconst Droplets = createLucideIcon(\"droplets\", __iconNode);\n\nexport { __iconNode, Droplets as default };\n//# sourceMappingURL=droplets.js.map\n","/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5\",\n      key: \"x6z5xu\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12\",\n      key: \"1x4zh5\"\n    }\n  ],\n  [\"path\", { d: \"m14 16-3 3 3 3\", key: \"f6jyew\" }],\n  [\"path\", { d: \"M8.293 13.596 7.196 9.5 3.1 10.598\", key: \"wf1obh\" }],\n  [\n    \"path\",\n    {\n      d: \"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843\",\n      key: \"9tzpgr\"\n    }\n  ],\n  [\"path\", { d: \"m13.378 9.633 4.096 1.098 1.097-4.096\", key: \"1oe83g\" }]\n];\nconst Recycle = createLucideIcon(\"recycle\", __iconNode);\n\nexport { __iconNode, Recycle as default };\n//# sourceMappingURL=recycle.js.map\n","import { Layout } from \"@/components/Layout\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { useEffect, useState } from \"react\";\nimport { Leaf, Recycle, Droplets, Zap } from \"lucide-react\";\n\ntype Metric = { key: string; label: string; value: number | string; icon?: any };\n\nexport default function ESG() {\n  const [metrics, setMetrics] = useState<Metric[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const load = async () => {\n    setLoading(true); setError(\"\");\n    try {\n      const r = await fetch(\"/api/esg-insights\");\n      const js = await r.json();\n      const m: Metric[] = [\n        { key: 'co2', label: 'CO₂/Km', value: js.co2_per_km ?? '--', icon: Leaf },\n        { key: 'recycle', label: 'Reciclagem Pneus', value: js.tire_recycle_rate ?? '--', icon: Recycle },\n        { key: 'water', label: 'Consumo de Água', value: js.water_use_index ?? '--', icon: Droplets },\n        { key: 'energy', label: 'Energia Renovável', value: js.renewables_share ?? '--', icon: Zap },\n      ];\n      setMetrics(m);\n    } catch (e: any) {\n      setError(e?.message || 'Falha ao calcular ESG');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { load(); }, []);\n\n  return (\n    <Layout>\n      <div className=\"space-y-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">ESG</h1>\n          <p className=\"text-muted-foreground\">Indicadores ambientais, sociais e governança</p>\n        </div>\n        {error && <Card className=\"border-destructive\"><CardContent className=\"p-4 text-destructive\">{error}</CardContent></Card>}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {metrics.map((m, idx) => {\n            const Icon = m.icon;\n            return (\n              <Card key={idx}>\n                <CardHeader className=\"flex items-center gap-2\">\n                  {Icon && <Icon className=\"w-5 h-5 text-green-600\" />}\n                  <CardTitle>{m.label}</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-2xl font-bold\">{String(m.value)}</div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n        <Button onClick={load} disabled={loading}>Atualizar</Button>\n      </div>\n    </Layout>\n  );\n}\n"],"names":["__iconNode","Droplets","createLucideIcon","Recycle","ESG","metrics","setMetrics","useState","loading","setLoading","error","setError","load","js","fetch","json","m","key","label","value","co2_per_km","icon","Leaf","tire_recycle_rate","water_use_index","renewables_share","Zap","e","message","useEffect","Layout","jsxs","jsx","Card","CardContent","map","idx","Icon","CardHeader","CardTitle","String","Button"],"mappings":"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","x_google_ignoreList":[0,1]}