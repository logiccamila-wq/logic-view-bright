{"version":3,"file":"PredictiveMaintenance--d0qw7tW.js","sources":["../../src/pages/PredictiveMaintenance.tsx"],"sourcesContent":["import { Layout } from \"@/components/Layout\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { useEffect, useState } from \"react\";\n\ntype Prediction = {\n  vehicle_id?: string;\n  plate?: string;\n  system: string;\n  risk: number;\n  due_in_days: number;\n};\n\nexport default function PredictiveMaintenance() {\n  const [preds, setPreds] = useState<Prediction[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const load = async () => {\n    setLoading(true); setError(\"\");\n    try {\n      const r = await fetch(\"/api/predict-maintenance\");\n      const js = await r.json();\n      setPreds(js.predictions || []);\n    } catch (e: any) {\n      setError(e?.message || \"Falha ao gerar previsões\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => { load(); }, []);\n\n  return (\n    <Layout>\n      <div className=\"space-y-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">Manutenção Preditiva</h1>\n          <p className=\"text-muted-foreground\">IA/ML para antecipar falhas de frota</p>\n        </div>\n        {error && (\n          <Card className=\"border-destructive\"><CardContent className=\"p-4 text-destructive\">{error}</CardContent></Card>\n        )}\n        <div className=\"flex gap-2\">\n          <Button onClick={load} disabled={loading}>Atualizar Previsões</Button>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {preds.map((p, idx) => (\n            <Card key={idx}>\n              <CardHeader>\n                <CardTitle>{p.plate || p.vehicle_id || 'Veículo'} — {p.system}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-sm\">Risco: <span className=\"font-bold\">{Math.round(p.risk * 100)}%</span></div>\n                <div className=\"text-sm\">Vence em: <span className=\"font-bold\">{p.due_in_days}d</span></div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"names":["PredictiveMaintenance","preds","setPreds","useState","loading","setLoading","error","setError","load","js","fetch","json","predictions","e","message","useEffect","Layout","jsxs","jsx","Card","CardContent","Button","map","p","idx","CardHeader","CardTitle","plate","vehicle_id","system","Math","round","risk","due_in_days"],"mappings":"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"}