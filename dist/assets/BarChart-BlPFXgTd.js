import{N as Y,O as Se,P as je,Q as Ce,U as re,K as De,A as V,V as Z,p as _e,r as Ke,D as q,u as ve,j as ze,S as Me,k as Le,W as Te,Z as Q,l as fe,m as Ne,n as Re,q as We,_ as Fe,t as R,x as $e,y as pe,w as W,G as Ve,$ as Ge,a0 as Ue,a1 as ne,a2 as me,a3 as Ze,a4 as he,B as Je,J as Xe,E as C,F as Ye,H as qe,M as Qe,a5 as He,a6 as ea,a7 as ie,c as D,a8 as aa,a9 as ta,d as _,e as K,s as z,f as ra,h as ye,g as ge,aa as xe,ab as na,ac as ia,ad as oe,ae as oa,af as sa,ag as se,ah as la,ai as J,C as ua,a as ca}from"./CartesianChart-hQJLzW7L.js";import{r as l,aJ as da}from"./index-BiNiRHKa.js";var be=e=>null;be.displayName="Cell";var Pe=(e,a)=>{var t=Y();return(r,i)=>n=>{e==null||e(r,i,n),t(Se({activeIndex:String(i),activeDataKey:a,activeCoordinate:r.tooltipPosition}))}},Ie=e=>{var a=Y();return(t,r)=>i=>{e==null||e(t,r,i),a(je())}},Ae=(e,a)=>{var t=Y();return(r,i)=>n=>{e==null||e(r,i,n),t(Ce({activeIndex:String(i),activeDataKey:a,activeCoordinate:r.tooltipPosition}))}},va="Invariant failed";function fa(e,a){throw new Error(va)}var pa=["x","y"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},X.apply(null,arguments)}function le(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function M(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?le(Object(t),!0).forEach(function(r){ma(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ma(e,a,t){return(a=ha(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ha(e){var a=ya(e,"string");return typeof a=="symbol"?a:a+""}function ya(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ga(e,a){if(e==null)return{};var t,r,i=xa(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function xa(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function ba(e,a){var{x:t,y:r}=e,i=ga(e,pa),n="".concat(t),o=parseInt(n,10),d="".concat(r),v=parseInt(d,10),s="".concat(a.height||i.height),u=parseInt(s,10),f="".concat(a.width||i.width),m=parseInt(f,10);return M(M(M(M(M({},a),i),o?{x:o}:{}),v?{y:v}:{}),{},{height:u,width:m,name:a.name,radius:a.radius})}function F(e){return l.createElement(De,X({shapeType:"rectangle",propTransformer:ba,activeClassName:"recharts-active-bar"},e))}var Pa=function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(re(a))return a;var n=re(r)||V(r);return n?a(r,i):(n||fa(),t)}};function Ia(e,a){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Z(e.zIndex)?e.zIndex:a}var Aa=["onMouseEnter","onMouseLeave","onClick"],Oa=["value","background","tooltipPosition"],ka=["id"],Ba=["onMouseEnter","onClick","onMouseLeave"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S.apply(null,arguments)}function ue(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function A(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ue(Object(t),!0).forEach(function(r){Ea(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ue(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ea(e,a,t){return(a=wa(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function wa(e){var a=Sa(e,"string");return typeof a=="symbol"?a:a+""}function Sa(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function $(e,a){if(e==null)return{};var t,r,i=ja(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ja(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}var Ca=e=>{var{dataKey:a,name:t,fill:r,legendType:i,hide:n}=e;return[{inactive:n,dataKey:a,type:i,color:r,value:fe(t,a),payload:e}]},Da=l.memo(e=>{var{dataKey:a,stroke:t,strokeWidth:r,fill:i,name:n,hide:o,unit:d,tooltipType:v}=e,s={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:r,fill:i,dataKey:a,nameKey:void 0,name:fe(n,a),hide:o,type:v,color:i,unit:d}};return l.createElement(Ne,{tooltipEntrySettings:s})});function _a(e){var a=R(me),{data:t,dataKey:r,background:i,allOtherBarProps:n}=e,{onMouseEnter:o,onMouseLeave:d,onClick:v}=n,s=$(n,Aa),u=Pe(o,r),f=Ie(d),m=Ae(v,r);if(!i||t==null)return null;var y=Ze(i);return l.createElement(Q,{zIndex:Ia(i,q.barBackground)},t.map((g,h)=>{var{value:P,background:c,tooltipPosition:p}=g,I=$(g,Oa);if(!c)return null;var x=u(g,h),O=f(g,h),b=m(g,h),E=A(A(A(A(A({option:i,isActive:String(h)===a},I),{},{fill:"#eee"},c),y),he(s,g,h)),{},{onMouseEnter:x,onMouseLeave:O,onClick:b,dataKey:r,index:h,className:"recharts-bar-background-rectangle"});return l.createElement(F,S({key:"background-bar-".concat(h)},E))}))}function Ka(e){var{showLabels:a,children:t,rects:r}=e,i=r==null?void 0:r.map(n=>{var o={x:n.x,y:n.y,width:n.width,lowerWidth:n.width,upperWidth:n.width,height:n.height};return A(A({},o),{},{value:n.value,payload:n.payload,parentViewBox:n.parentViewBox,viewBox:o,fill:n.fill})});return l.createElement(qe,{value:a?i:void 0},t)}function za(e){var{shape:a,activeBar:t,baseProps:r,entry:i,index:n,dataKey:o}=e,d=R(me),v=R(He),s=t&&String(n)===d&&(v==null||o===v),u=s?t:a;return s?l.createElement(Q,{zIndex:q.activeBar},l.createElement(F,S({},r,{name:String(r.name)},i,{isActive:s,option:u,index:n,dataKey:o}))):l.createElement(F,S({},r,{name:String(r.name)},i,{isActive:s,option:u,index:n,dataKey:o}))}function Ma(e){var{shape:a,baseProps:t,entry:r,index:i,dataKey:n}=e;return l.createElement(F,S({},t,{name:String(t.name)},r,{isActive:!1,option:a,index:i,dataKey:n}))}function La(e){var a,{data:t,props:r}=e,i=(a=Qe(r))!==null&&a!==void 0?a:{},{id:n}=i,o=$(i,ka),{shape:d,dataKey:v,activeBar:s}=r,{onMouseEnter:u,onClick:f,onMouseLeave:m}=r,y=$(r,Ba),g=Pe(u,v),h=Ie(m),P=Ae(f,v);return t?l.createElement(l.Fragment,null,t.map((c,p)=>l.createElement(W,S({key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(p),className:"recharts-bar-rectangle"},he(y,c,p),{onMouseEnter:g(c,p),onMouseLeave:h(c,p),onClick:P(c,p)}),s?l.createElement(za,{shape:d,activeBar:s,baseProps:o,entry:c,index:p,dataKey:v}):l.createElement(Ma,{shape:d,baseProps:o,entry:c,index:p,dataKey:v})))):null}function Ta(e){var{props:a,previousRectanglesRef:t}=e,{data:r,layout:i,isAnimationActive:n,animationBegin:o,animationDuration:d,animationEasing:v,onAnimationEnd:s,onAnimationStart:u}=a,f=t.current,m=Je(a,"recharts-bar-"),[y,g]=l.useState(!1),h=!y,P=l.useCallback(()=>{typeof s=="function"&&s(),g(!1)},[s]),c=l.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return l.createElement(Ka,{showLabels:h,rects:r},l.createElement(Xe,{animationId:m,begin:o,duration:d,isActive:n,easing:v,onAnimationEnd:P,onAnimationStart:c,key:m},p=>{var I=p===1?r:r==null?void 0:r.map((x,O)=>{var b=f&&f[O];if(b)return A(A({},x),{},{x:C(b.x,x.x,p),y:C(b.y,x.y,p),width:C(b.width,x.width,p),height:C(b.height,x.height,p)});if(i==="horizontal"){var E=C(0,x.height,p),w=C(x.stackedBarStart,x.y,p);return A(A({},x),{},{y:w,height:E})}var k=C(0,x.width,p),B=C(x.stackedBarStart,x.x,p);return A(A({},x),{},{width:k,x:B})});return p>0&&(t.current=I??null),I==null?null:l.createElement(W,null,l.createElement(La,{props:a,data:I}))}),l.createElement(Ye,{label:a.label}),a.children)}function Na(e){var a=l.useRef(null);return l.createElement(Ta,{previousRectanglesRef:a,props:e})}var Oe=0,Ra=(e,a)=>{var t=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:t,errorVal:pe(e,a)}};class Wa extends l.PureComponent{render(){var{hide:a,data:t,dataKey:r,className:i,xAxisId:n,yAxisId:o,needClip:d,background:v,id:s}=this.props;if(a||t==null)return null;var u=da("recharts-bar",i),f=s;return l.createElement(W,{className:u,id:s},d&&l.createElement("defs",null,l.createElement(Ve,{clipPathId:f,xAxisId:n,yAxisId:o})),l.createElement(W,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(f,")"):void 0},l.createElement(_a,{data:t,dataKey:r,background:v,allOtherBarProps:this.props}),l.createElement(Na,this.props)))}}var Fa={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Oe,xAxisId:0,yAxisId:0,zIndex:q.bar};function $a(e){var{xAxisId:a,yAxisId:t,hide:r,legendType:i,minPointSize:n,activeBar:o,animationBegin:d,animationDuration:v,animationEasing:s,isAnimationActive:u}=e,{needClip:f}=Re(a,t),m=We(),y=ve(),g=Fe(e.children,be),h=R(p=>gt(p,a,t,y,e.id,g));if(m!=="vertical"&&m!=="horizontal")return null;var P,c=h==null?void 0:h[0];return c==null||c.height==null||c.width==null?P=0:P=m==="vertical"?c.height/2:c.width/2,l.createElement($e,{xAxisId:a,yAxisId:t,data:h,dataPointFormatter:Ra,errorBarOffset:P},l.createElement(Wa,S({},e,{layout:m,needClip:f,data:h,xAxisId:a,yAxisId:t,hide:r,legendType:i,minPointSize:n,activeBar:o,animationBegin:d,animationDuration:v,animationEasing:s,isAnimationActive:u})))}function Va(e){var{layout:a,barSettings:{dataKey:t,minPointSize:r},pos:i,bandSize:n,xAxis:o,yAxis:d,xAxisTicks:v,yAxisTicks:s,stackedData:u,displayedData:f,offset:m,cells:y,parentViewBox:g,dataStartIndex:h}=e,P=a==="horizontal"?d:o,c=u?P.scale.domain():null,p=Ge({numericAxis:P}),I=P.scale(p);return f.map((x,O)=>{var b,E,w,k,B,G;u?b=Ue(u[O+h],c):(b=pe(x,t),Array.isArray(b)||(b=[p,b]));var j=Pa(r,Oe)(b[1],O);if(a==="horizontal"){var U,[H,T]=[d.scale(b[0]),d.scale(b[1])];E=ne({axis:o,ticks:v,bandSize:n,offset:i.offset,entry:x,index:O}),w=(U=T??H)!==null&&U!==void 0?U:void 0,k=i.size;var ee=H-T;if(B=ea(ee)?0:ee,G={x:E,y:m.top,width:k,height:m.height},Math.abs(j)>0&&Math.abs(B)<Math.abs(j)){var ae=ie(B||j)*(Math.abs(j)-Math.abs(B));w-=ae,B+=ae}}else{var[te,Be]=[o.scale(b[0]),o.scale(b[1])];if(E=te,w=ne({axis:d,ticks:s,bandSize:n,offset:i.offset,entry:x,index:O}),k=Be-te,B=i.size,G={x:m.left,y:w,width:m.width,height:B},Math.abs(j)>0&&Math.abs(k)<Math.abs(j)){var Ee=ie(k||j)*(Math.abs(j)-Math.abs(k));k+=Ee}}if(E==null||w==null||k==null||B==null)return null;var we=A(A({},x),{},{stackedBarStart:I,x:E,y:w,width:k,height:B,value:u?b:b[1],payload:x,background:G,tooltipPosition:{x:E+k/2,y:w+B/2},parentViewBox:g},y&&y[O]&&y[O].props);return we}).filter(Boolean)}function Ga(e){var a=Ke(e,Fa),t=ve();return l.createElement(ze,{id:a.id,type:"bar"},r=>l.createElement(l.Fragment,null,l.createElement(Me,{legendPayload:Ca(a)}),l.createElement(Da,{dataKey:a.dataKey,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType}),l.createElement(Le,{type:"bar",id:r,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:Te(a.stackId),hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:t}),l.createElement(Q,{zIndex:a.zIndex},l.createElement($a,S({},a,{id:r})))))}var Ua=l.memo(Ga,_e);Ua.displayName="Bar";function ce(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function N(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ce(Object(t),!0).forEach(function(r){Za(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ce(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Za(e,a,t){return(a=Ja(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ja(e){var a=Xa(e,"string");return typeof a=="symbol"?a:a+""}function Xa(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Ya=(e,a)=>a,qa=(e,a,t)=>t,Qa=(e,a,t,r)=>r,Ha=(e,a,t,r,i)=>i,L=D([ge,Ha],(e,a)=>e.filter(t=>t.type==="bar").find(t=>t.id===a)),et=D([L],e=>e==null?void 0:e.maxBarSize),at=(e,a,t,r,i,n)=>n,de=(e,a,t)=>{var r=t??e;if(!V(r))return J(r,a,0)},tt=D([z,ge,Ya,qa,Qa],(e,a,t,r,i)=>a.filter(n=>e==="horizontal"?n.xAxisId===t:n.yAxisId===r).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),rt=(e,a,t,r)=>{var i=z(e);return i==="horizontal"?oe(e,"yAxis",t,r):oe(e,"xAxis",a,r)},nt=(e,a,t)=>{var r=z(e);return r==="horizontal"?se(e,"xAxis",a):se(e,"yAxis",t)},it=(e,a,t)=>{var r={},i=e.filter(la),n=e.filter(s=>s.stackId==null),o=i.reduce((s,u)=>(s[u.stackId]||(s[u.stackId]=[]),s[u.stackId].push(u),s),r),d=Object.entries(o).map(s=>{var[u,f]=s,m=f.map(g=>g.dataKey),y=de(a,t,f[0].barSize);return{stackId:u,dataKeys:m,barSize:y}}),v=n.map(s=>{var u=[s.dataKey].filter(m=>m!=null),f=de(a,t,s.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...d,...v]},ot=D([tt,sa,nt],it),st=(e,a,t,r,i)=>{var n,o,d=L(e,a,t,r,i);if(d!=null){var v=z(e),s=xe(e),{maxBarSize:u}=d,f=V(u)?s:u,m,y;return v==="horizontal"?(m=_(e,"xAxis",a,r),y=K(e,"xAxis",a,r)):(m=_(e,"yAxis",t,r),y=K(e,"yAxis",t,r)),(n=(o=ye(m,y,!0))!==null&&o!==void 0?o:f)!==null&&n!==void 0?n:0}},ke=(e,a,t,r)=>{var i=z(e),n,o;return i==="horizontal"?(n=_(e,"xAxis",a,r),o=K(e,"xAxis",a,r)):(n=_(e,"yAxis",t,r),o=K(e,"yAxis",t,r)),ye(n,o)};function lt(e,a,t,r,i){var n=r.length;if(!(n<1)){var o=J(e,t,0,!0),d,v=[];if(Z(r[0].barSize)){var s=!1,u=t/n,f=r.reduce((c,p)=>c+(p.barSize||0),0);f+=(n-1)*o,f>=t&&(f-=(n-1)*o,o=0),f>=t&&u>0&&(s=!0,u*=.9,f=n*u);var m=(t-f)/2>>0,y={offset:m-o,size:0};d=r.reduce((c,p)=>{var I,x={stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:y.offset+y.size+o,size:s?u:(I=p.barSize)!==null&&I!==void 0?I:0}},O=[...c,x];return y=O[O.length-1].position,O},v)}else{var g=J(a,t,0,!0);t-2*g-(n-1)*o<=0&&(o=0);var h=(t-2*g-(n-1)*o)/n;h>1&&(h>>=0);var P=Z(i)?Math.min(h,i):h;d=r.reduce((c,p,I)=>[...c,{stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:g+(h+o)*I+(h-P)/2,size:P}}],v)}return d}}var ut=(e,a,t,r,i,n,o)=>{var d=V(o)?a:o,v=lt(t,r,i!==n?i:n,e,d);return i!==n&&v!=null&&(v=v.map(s=>N(N({},s),{},{position:N(N({},s.position),{},{offset:s.position.offset-i/2})}))),v},ct=D([ot,xe,na,ia,st,ke,et],ut),dt=(e,a,t,r)=>_(e,"xAxis",a,r),vt=(e,a,t,r)=>_(e,"yAxis",t,r),ft=(e,a,t,r)=>K(e,"xAxis",a,r),pt=(e,a,t,r)=>K(e,"yAxis",t,r),mt=D([ct,L],(e,a)=>{if(!(e==null||a==null)){var t=e.find(r=>r.stackId===a.stackId&&a.dataKey!=null&&r.dataKeys.includes(a.dataKey));if(t!=null)return t.position}}),ht=(e,a)=>{var t=oa(a);if(!(!e||t==null||a==null)){var{stackId:r}=a;if(r!=null){var i=e[r];if(i){var{stackedData:n}=i;if(n)return n.find(o=>o.key===t)}}}},yt=D([rt,L],ht),gt=D([aa,ta,dt,vt,ft,pt,mt,z,ra,ke,yt,L,at],(e,a,t,r,i,n,o,d,v,s,u,f,m)=>{var{chartData:y,dataStartIndex:g,dataEndIndex:h}=v;if(!(f==null||o==null||a==null||d!=="horizontal"&&d!=="vertical"||t==null||r==null||i==null||n==null||s==null)){var{data:P}=f,c;if(P!=null&&P.length>0?c=P:c=y==null?void 0:y.slice(g,h+1),c!=null)return Va({layout:d,barSettings:f,pos:o,parentViewBox:a,bandSize:s,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:n,stackedData:u,displayedData:c,offset:e,cells:m,dataStartIndex:g})}}),xt=["axis","item"],It=l.forwardRef((e,a)=>l.createElement(ua,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xt,tooltipPayloadSearcher:ca,categoricalChartProps:e,ref:a}));export{It as B,be as C,Ua as a,Ie as b,Ae as c,Pe as u};
